(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ex={exports:{}},Eu={},tx={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),pI=Symbol.for("react.portal"),gI=Symbol.for("react.fragment"),vI=Symbol.for("react.strict_mode"),mI=Symbol.for("react.profiler"),yI=Symbol.for("react.provider"),wI=Symbol.for("react.context"),_I=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),SI=Symbol.for("react.memo"),EI=Symbol.for("react.lazy"),xy=Symbol.iterator;function xI(e){return e===null||typeof e!="object"?null:(e=xy&&e[xy]||e["@@iterator"],typeof e=="function"?e:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nx=Object.assign,ix={};function es(e,t,r){this.props=e,this.context=t,this.refs=ix,this.updater=r||rx}es.prototype.isReactComponent={};es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sx(){}sx.prototype=es.prototype;function Mv(e,t,r){this.props=e,this.context=t,this.refs=ix,this.updater=r||rx}var jv=Mv.prototype=new sx;jv.constructor=Mv;nx(jv,es.prototype);jv.isPureReactComponent=!0;var ky=Array.isArray,ox=Object.prototype.hasOwnProperty,Lv={current:null},ax={key:!0,ref:!0,__self:!0,__source:!0};function ux(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ox.call(t,n)&&!ax.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:To,type:e,key:s,ref:o,props:i,_owner:Lv.current}}function kI(e,t){return{$$typeof:To,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qv(e){return typeof e=="object"&&e!==null&&e.$$typeof===To}function CI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cy=/\/+/g;function yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CI(""+e.key):t.toString(36)}function ba(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case To:case pI:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+yl(o,0):n,ky(i)?(r="",e!=null&&(r=e.replace(Cy,"$&/")+"/"),ba(i,t,r,"",function(l){return l})):i!=null&&(qv(i)&&(i=kI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cy,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",ky(e))for(var a=0;a<e.length;a++){s=e[a];var u=n+yl(s,a);o+=ba(s,t,r,u,i)}else if(u=xI(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=n+yl(s,a++),o+=ba(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fo(e,t,r){if(e==null)return e;var n=[],i=0;return ba(e,n,"","",function(s){return t.call(r,s,i++)}),n}function TI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},Sa={transition:null},RI={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:Lv};function lx(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Fo,forEach:function(e,t,r){Fo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fo(e,function(){t++}),t},toArray:function(e){return Fo(e,function(t){return t})||[]},only:function(e){if(!qv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=es;se.Fragment=gI;se.Profiler=mI;se.PureComponent=Mv;se.StrictMode=vI;se.Suspense=bI;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI;se.act=lx;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nx({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Lv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)ox.call(t,u)&&!ax.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:To,type:e.type,key:i,ref:s,props:n,_owner:o}};se.createContext=function(e){return e={$$typeof:wI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yI,_context:e},e.Consumer=e};se.createElement=ux;se.createFactory=function(e){var t=ux.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:_I,render:e}};se.isValidElement=qv;se.lazy=function(e){return{$$typeof:EI,_payload:{_status:-1,_result:e},_init:TI}};se.memo=function(e,t){return{$$typeof:SI,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Sa.transition;Sa.transition={};try{e()}finally{Sa.transition=t}};se.unstable_act=lx;se.useCallback=function(e,t){return at.current.useCallback(e,t)};se.useContext=function(e){return at.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return at.current.useDeferredValue(e)};se.useEffect=function(e,t){return at.current.useEffect(e,t)};se.useId=function(){return at.current.useId()};se.useImperativeHandle=function(e,t,r){return at.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return at.current.useMemo(e,t)};se.useReducer=function(e,t,r){return at.current.useReducer(e,t,r)};se.useRef=function(e){return at.current.useRef(e)};se.useState=function(e){return at.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return at.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return at.current.useTransition()};se.version="18.3.1";tx.exports=se;var A=tx.exports;const L=$v(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI=A,II=Symbol.for("react.element"),NI=Symbol.for("react.fragment"),OI=Object.prototype.hasOwnProperty,PI=AI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$I={key:!0,ref:!0,__self:!0,__source:!0};function cx(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)OI.call(t,n)&&!$I.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:II,type:e,key:s,ref:o,props:i,_owner:PI.current}}Eu.Fragment=NI;Eu.jsx=cx;Eu.jsxs=cx;ex.exports=Eu;var H=ex.exports,cg={},dx={exports:{}},Rt={},fx={exports:{}},hx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,k){var O=N.length;N.push(k);e:for(;0<O;){var D=O-1>>>1,U=N[D];if(0<i(U,k))N[D]=k,N[O]=U,O=D;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var k=N[0],O=N.pop();if(O!==k){N[0]=O;e:for(var D=0,U=N.length,B=U>>>1;D<B;){var F=2*(D+1)-1,W=N[F],J=F+1,re=N[J];if(0>i(W,O))J<U&&0>i(re,W)?(N[D]=re,N[J]=O,D=J):(N[D]=W,N[F]=O,D=F);else if(J<U&&0>i(re,O))N[D]=re,N[J]=O,D=J;else break e}}return k}function i(N,k){var O=N.sortIndex-k.sortIndex;return O!==0?O:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,d=null,f=3,h=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var k=r(l);k!==null;){if(k.callback===null)n(l);else if(k.startTime<=N)n(l),k.sortIndex=k.expirationTime,t(u,k);else break;k=r(l)}}function _(N){if(v=!1,y(N),!m)if(r(u)!==null)m=!0,R(E);else{var k=r(l);k!==null&&j(_,k.startTime-N)}}function E(N,k){m=!1,v&&(v=!1,p(C),C=-1),h=!0;var O=f;try{for(y(k),d=r(u);d!==null&&(!(d.expirationTime>k)||N&&!T());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var U=D(d.expirationTime<=k);k=e.unstable_now(),typeof U=="function"?d.callback=U:d===r(u)&&n(u),y(k)}else n(u);d=r(u)}if(d!==null)var B=!0;else{var F=r(l);F!==null&&j(_,F.startTime-k),B=!1}return B}finally{d=null,f=O,h=!1}}var S=!1,x=null,C=-1,I=5,P=-1;function T(){return!(e.unstable_now()-P<I)}function q(){if(x!==null){var N=e.unstable_now();P=N;var k=!0;try{k=x(!0,N)}finally{k?M():(S=!1,x=null)}}else S=!1}var M;if(typeof g=="function")M=function(){g(q)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,$=b.port2;b.port1.onmessage=q,M=function(){$.postMessage(null)}}else M=function(){w(q,0)};function R(N){x=N,S||(S=!0,M())}function j(N,k){C=w(function(){N(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,R(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var O=f;f=k;try{return N()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=f;f=N;try{return k()}finally{f=O}},e.unstable_scheduleCallback=function(N,k,O){var D=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=O+U,N={id:c++,callback:k,priorityLevel:N,startTime:O,expirationTime:U,sortIndex:-1},O>D?(N.sortIndex=O,t(l,N),r(u)===null&&N===r(l)&&(v?(p(C),C=-1):v=!0,j(_,O-D))):(N.sortIndex=U,t(u,N),m||h||(m=!0,R(E))),N},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(N){var k=f;return function(){var O=f;f=k;try{return N.apply(this,arguments)}finally{f=O}}}})(hx);fx.exports=hx;var MI=fx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI=A,Ct=MI;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var px=new Set,Ys={};function Xn(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(Ys[e]=t,e=0;e<t.length;e++)px.add(t[e])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=Object.prototype.hasOwnProperty,LI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ty={},Ry={};function qI(e){return dg.call(Ry,e)?!0:dg.call(Ty,e)?!1:LI.test(e)?Ry[e]=!0:(Ty[e]=!0,!1)}function DI(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UI(e,t,r,n){if(t===null||typeof t>"u"||DI(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dv=/[\-:]([a-z])/g;function Uv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dv,Uv);Xe[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dv,Uv);Xe[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dv,Uv);Xe[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function zv(e,t,r,n){var i=Xe.hasOwnProperty(t)?Xe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UI(t,r,i,n)&&(r=null),n||i===null?qI(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qr=jI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),yi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),gx=Symbol.for("react.provider"),vx=Symbol.for("react.context"),Bv=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),pg=Symbol.for("react.suspense_list"),Vv=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),mx=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function cs(e){return e===null||typeof e!="object"?null:(e=Ay&&e[Ay]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,wl;function Es(e){if(wl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wl=t&&t[1]||""}return`
`+wl+e}var _l=!1;function bl(e,t){if(!e||_l)return"";_l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{_l=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Es(e):""}function zI(e){switch(e.tag){case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return e=bl(e.type,!1),e;case 11:return e=bl(e.type.render,!1),e;case 1:return e=bl(e.type,!0),e;default:return""}}function gg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wi:return"Fragment";case yi:return"Portal";case fg:return"Profiler";case Fv:return"StrictMode";case hg:return"Suspense";case pg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vx:return(e.displayName||"Context")+".Consumer";case gx:return(e._context.displayName||"Context")+".Provider";case Bv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vv:return t=e.displayName||null,t!==null?t:gg(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return gg(e(t))}catch{}}return null}function FI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gg(t);case 8:return t===Fv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BI(e){var t=yx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=BI(e))}function wx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vg(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Iy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _x(e,t){t=t.checked,t!=null&&zv(e,"checked",t,!1)}function mg(e,t){_x(e,t);var r=gn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yg(e,t.type,r):t.hasOwnProperty("defaultValue")&&yg(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ny(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yg(e,t,r){(t!=="number"||La(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xs=Array.isArray;function Oi(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(xs(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gn(r)}}function bx(e,t){var r=gn(t.value),n=gn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _g(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ho,Ex=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VI=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(e){VI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qs[t]=qs[e]})});function xx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qs.hasOwnProperty(e)&&qs[e]?(""+t).trim():t+"px"}function kx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=xx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var HI=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bg(e,t){if(t){if(HI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Sg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=null;function Hv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xg=null,Pi=null,$i=null;function $y(e){if(e=Io(e)){if(typeof xg!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Ru(t),xg(e.stateNode,e.type,t))}}function Cx(e){Pi?$i?$i.push(e):$i=[e]:Pi=e}function Tx(){if(Pi){var e=Pi,t=$i;if($i=Pi=null,$y(e),t)for(e=0;e<t.length;e++)$y(t[e])}}function Rx(e,t){return e(t)}function Ax(){}var Sl=!1;function Ix(e,t,r){if(Sl)return e(t,r);Sl=!0;try{return Rx(e,t,r)}finally{Sl=!1,(Pi!==null||$i!==null)&&(Ax(),Tx())}}function Js(e,t){var r=e.stateNode;if(r===null)return null;var n=Ru(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var kg=!1;if(Nr)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){kg=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{kg=!1}function GI(e,t,r,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Ds=!1,qa=null,Da=!1,Cg=null,WI={onError:function(e){Ds=!0,qa=e}};function KI(e,t,r,n,i,s,o,a,u){Ds=!1,qa=null,GI.apply(WI,arguments)}function YI(e,t,r,n,i,s,o,a,u){if(KI.apply(this,arguments),Ds){if(Ds){var l=qa;Ds=!1,qa=null}else throw Error(z(198));Da||(Da=!0,Cg=l)}}function Jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Nx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function My(e){if(Jn(e)!==e)throw Error(z(188))}function XI(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return My(i),e;if(s===n)return My(i),t;s=s.sibling}throw Error(z(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function Ox(e){return e=XI(e),e!==null?Px(e):null}function Px(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Px(e);if(t!==null)return t;e=e.sibling}return null}var $x=Ct.unstable_scheduleCallback,jy=Ct.unstable_cancelCallback,JI=Ct.unstable_shouldYield,QI=Ct.unstable_requestPaint,Ae=Ct.unstable_now,ZI=Ct.unstable_getCurrentPriorityLevel,Gv=Ct.unstable_ImmediatePriority,Mx=Ct.unstable_UserBlockingPriority,Ua=Ct.unstable_NormalPriority,eN=Ct.unstable_LowPriority,jx=Ct.unstable_IdlePriority,xu=null,dr=null;function tN(e){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(xu,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:iN,rN=Math.log,nN=Math.LN2;function iN(e){return e>>>=0,e===0?32:31-(rN(e)/nN|0)|0}var Go=64,Wo=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=ks(a):(s&=o,s!==0&&(n=ks(s)))}else o=r&~i,o!==0?n=ks(o):s!==0&&(n=ks(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Jt(t),i=1<<r,n|=e[r],t&=~i;return n}function sN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=sN(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function Tg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lx(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function El(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ro(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=r}function aN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Jt(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Wv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Jt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var de=0;function qx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dx,Kv,Ux,zx,Fx,Rg=!1,Ko=[],sn=null,on=null,an=null,Qs=new Map,Zs=new Map,Jr=[],uN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function fs(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Io(t),t!==null&&Kv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lN(e,t,r,n,i){switch(t){case"focusin":return sn=fs(sn,e,t,r,n,i),!0;case"dragenter":return on=fs(on,e,t,r,n,i),!0;case"mouseover":return an=fs(an,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Qs.set(s,fs(Qs.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Zs.set(s,fs(Zs.get(s)||null,e,t,r,n,i)),!0}return!1}function Bx(e){var t=On(e.target);if(t!==null){var r=Jn(t);if(r!==null){if(t=r.tag,t===13){if(t=Nx(r),t!==null){e.blockedOn=t,Fx(e.priority,function(){Ux(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ag(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Eg=n,r.target.dispatchEvent(n),Eg=null}else return t=Io(r),t!==null&&Kv(t),e.blockedOn=r,!1;t.shift()}return!0}function qy(e,t,r){Ea(e)&&r.delete(t)}function cN(){Rg=!1,sn!==null&&Ea(sn)&&(sn=null),on!==null&&Ea(on)&&(on=null),an!==null&&Ea(an)&&(an=null),Qs.forEach(qy),Zs.forEach(qy)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Rg||(Rg=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,cN)))}function eo(e){function t(i){return hs(i,e)}if(0<Ko.length){hs(Ko[0],e);for(var r=1;r<Ko.length;r++){var n=Ko[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sn!==null&&hs(sn,e),on!==null&&hs(on,e),an!==null&&hs(an,e),Qs.forEach(t),Zs.forEach(t),r=0;r<Jr.length;r++)n=Jr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)Bx(r),r.blockedOn===null&&Jr.shift()}var Mi=qr.ReactCurrentBatchConfig,Fa=!0;function dN(e,t,r,n){var i=de,s=Mi.transition;Mi.transition=null;try{de=1,Yv(e,t,r,n)}finally{de=i,Mi.transition=s}}function fN(e,t,r,n){var i=de,s=Mi.transition;Mi.transition=null;try{de=4,Yv(e,t,r,n)}finally{de=i,Mi.transition=s}}function Yv(e,t,r,n){if(Fa){var i=Ag(e,t,r,n);if(i===null)Pl(e,t,n,Ba,r),Ly(e,n);else if(lN(i,e,t,r,n))n.stopPropagation();else if(Ly(e,n),t&4&&-1<uN.indexOf(e)){for(;i!==null;){var s=Io(i);if(s!==null&&Dx(s),s=Ag(e,t,r,n),s===null&&Pl(e,t,n,Ba,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Pl(e,t,n,null,r)}}var Ba=null;function Ag(e,t,r,n){if(Ba=null,e=Hv(n),e=On(e),e!==null)if(t=Jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Nx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ba=e,null}function Vx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZI()){case Gv:return 1;case Mx:return 4;case Ua:case eN:return 16;case jx:return 536870912;default:return 16}default:return 16}}var rn=null,Xv=null,xa=null;function Hx(){if(xa)return xa;var e,t=Xv,r=t.length,n,i="value"in rn?rn.value:rn.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return xa=i.slice(e,1<n?1-n:void 0)}function ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function Dy(){return!1}function At(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yo:Dy,this.isPropagationStopped=Dy,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jv=At(ts),Ao=Se({},ts,{view:0,detail:0}),hN=At(Ao),xl,kl,ps,ku=Se({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ps&&(ps&&e.type==="mousemove"?(xl=e.screenX-ps.screenX,kl=e.screenY-ps.screenY):kl=xl=0,ps=e),xl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),Uy=At(ku),pN=Se({},ku,{dataTransfer:0}),gN=At(pN),vN=Se({},Ao,{relatedTarget:0}),Cl=At(vN),mN=Se({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),yN=At(mN),wN=Se({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_N=At(wN),bN=Se({},ts,{data:0}),zy=At(bN),SN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xN[e])?!!t[e]:!1}function Qv(){return kN}var CN=Se({},Ao,{key:function(e){if(e.key){var t=SN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qv,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TN=At(CN),RN=Se({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=At(RN),AN=Se({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qv}),IN=At(AN),NN=Se({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),ON=At(NN),PN=Se({},ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$N=At(PN),MN=[9,13,27,32],Zv=Nr&&"CompositionEvent"in window,Us=null;Nr&&"documentMode"in document&&(Us=document.documentMode);var jN=Nr&&"TextEvent"in window&&!Us,Gx=Nr&&(!Zv||Us&&8<Us&&11>=Us),By=String.fromCharCode(32),Vy=!1;function Wx(e,t){switch(e){case"keyup":return MN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function LN(e,t){switch(e){case"compositionend":return Kx(t);case"keypress":return t.which!==32?null:(Vy=!0,By);case"textInput":return e=t.data,e===By&&Vy?null:e;default:return null}}function qN(e,t){if(_i)return e==="compositionend"||!Zv&&Wx(e,t)?(e=Hx(),xa=Xv=rn=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gx&&t.locale!=="ko"?null:t.data;default:return null}}var DN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DN[e.type]:t==="textarea"}function Yx(e,t,r,n){Cx(n),t=Va(t,"onChange"),0<t.length&&(r=new Jv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zs=null,to=null;function UN(e){ok(e,0)}function Cu(e){var t=Ei(e);if(wx(t))return e}function zN(e,t){if(e==="change")return t}var Xx=!1;if(Nr){var Tl;if(Nr){var Rl="oninput"in document;if(!Rl){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Rl=typeof Gy.oninput=="function"}Tl=Rl}else Tl=!1;Xx=Tl&&(!document.documentMode||9<document.documentMode)}function Wy(){zs&&(zs.detachEvent("onpropertychange",Jx),to=zs=null)}function Jx(e){if(e.propertyName==="value"&&Cu(to)){var t=[];Yx(t,to,e,Hv(e)),Ix(UN,t)}}function FN(e,t,r){e==="focusin"?(Wy(),zs=t,to=r,zs.attachEvent("onpropertychange",Jx)):e==="focusout"&&Wy()}function BN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(to)}function VN(e,t){if(e==="click")return Cu(t)}function HN(e,t){if(e==="input"||e==="change")return Cu(t)}function GN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:GN;function ro(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!dg.call(t,i)||!er(e[i],t[i]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yy(e,t){var r=Ky(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ky(r)}}function Qx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zx(){for(var e=window,t=La();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=La(e.document)}return t}function em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WN(e){var t=Zx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qx(r.ownerDocument.documentElement,r)){if(n!==null&&em(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Yy(r,s);var o=Yy(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KN=Nr&&"documentMode"in document&&11>=document.documentMode,bi=null,Ig=null,Fs=null,Ng=!1;function Xy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ng||bi==null||bi!==La(n)||(n=bi,"selectionStart"in n&&em(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fs&&ro(Fs,n)||(Fs=n,n=Va(Ig,"onSelect"),0<n.length&&(t=new Jv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bi)))}function Xo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Si={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Al={},ek={};Nr&&(ek=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Tu(e){if(Al[e])return Al[e];if(!Si[e])return e;var t=Si[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ek)return Al[e]=t[r];return e}var tk=Tu("animationend"),rk=Tu("animationiteration"),nk=Tu("animationstart"),ik=Tu("transitionend"),sk=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){sk.set(e,t),Xn(t,[e])}for(var Il=0;Il<Jy.length;Il++){var Nl=Jy[Il],YN=Nl.toLowerCase(),XN=Nl[0].toUpperCase()+Nl.slice(1);yn(YN,"on"+XN)}yn(tk,"onAnimationEnd");yn(rk,"onAnimationIteration");yn(nk,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(ik,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function Qy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YI(n,t,void 0,e),e.currentTarget=null}function ok(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Qy(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Qy(i,a,l),s=u}}}if(Da)throw e=Cg,Da=!1,Cg=null,e}function ge(e,t){var r=t[jg];r===void 0&&(r=t[jg]=new Set);var n=e+"__bubble";r.has(n)||(ak(t,e,2,!1),r.add(n))}function Ol(e,t,r){var n=0;t&&(n|=4),ak(r,e,n,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function no(e){if(!e[Jo]){e[Jo]=!0,px.forEach(function(r){r!=="selectionchange"&&(JN.has(r)||Ol(r,!1,e),Ol(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,Ol("selectionchange",!1,t))}}function ak(e,t,r,n){switch(Vx(t)){case 1:var i=dN;break;case 4:i=fN;break;default:i=Yv}r=i.bind(null,t,r,e),i=void 0,!kg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Pl(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=On(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Ix(function(){var l=s,c=Hv(r),d=[];e:{var f=sk.get(e);if(f!==void 0){var h=Jv,m=e;switch(e){case"keypress":if(ka(r)===0)break e;case"keydown":case"keyup":h=TN;break;case"focusin":m="focus",h=Cl;break;case"focusout":m="blur",h=Cl;break;case"beforeblur":case"afterblur":h=Cl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=gN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IN;break;case tk:case rk:case nk:h=yN;break;case ik:h=ON;break;case"scroll":h=hN;break;case"wheel":h=$N;break;case"copy":case"cut":case"paste":h=_N;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fy}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var g=l,y;g!==null;){y=g;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,p!==null&&(_=Js(g,p),_!=null&&v.push(io(g,_,y)))),w)break;g=g.return}0<v.length&&(f=new h(f,m,null,r,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Eg&&(m=r.relatedTarget||r.fromElement)&&(On(m)||m[Or]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=l,m=m?On(m):null,m!==null&&(w=Jn(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=l),h!==m)){if(v=Uy,_="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Fy,_="onPointerLeave",p="onPointerEnter",g="pointer"),w=h==null?f:Ei(h),y=m==null?f:Ei(m),f=new v(_,g+"leave",h,r,c),f.target=w,f.relatedTarget=y,_=null,On(c)===l&&(v=new v(p,g+"enter",m,r,c),v.target=y,v.relatedTarget=w,_=v),w=_,h&&m)t:{for(v=h,p=m,g=0,y=v;y;y=ni(y))g++;for(y=0,_=p;_;_=ni(_))y++;for(;0<g-y;)v=ni(v),g--;for(;0<y-g;)p=ni(p),y--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=ni(v),p=ni(p)}v=null}else v=null;h!==null&&Zy(d,f,h,v,!1),m!==null&&w!==null&&Zy(d,w,m,v,!0)}}e:{if(f=l?Ei(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=zN;else if(Hy(f))if(Xx)E=HN;else{E=BN;var S=FN}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=VN);if(E&&(E=E(e,l))){Yx(d,E,r,c);break e}S&&S(e,f,l),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&yg(f,"number",f.value)}switch(S=l?Ei(l):window,e){case"focusin":(Hy(S)||S.contentEditable==="true")&&(bi=S,Ig=l,Fs=null);break;case"focusout":Fs=Ig=bi=null;break;case"mousedown":Ng=!0;break;case"contextmenu":case"mouseup":case"dragend":Ng=!1,Xy(d,r,c);break;case"selectionchange":if(KN)break;case"keydown":case"keyup":Xy(d,r,c)}var x;if(Zv)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else _i?Wx(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Gx&&r.locale!=="ko"&&(_i||C!=="onCompositionStart"?C==="onCompositionEnd"&&_i&&(x=Hx()):(rn=c,Xv="value"in rn?rn.value:rn.textContent,_i=!0)),S=Va(l,C),0<S.length&&(C=new zy(C,e,null,r,c),d.push({event:C,listeners:S}),x?C.data=x:(x=Kx(r),x!==null&&(C.data=x)))),(x=jN?LN(e,r):qN(e,r))&&(l=Va(l,"onBeforeInput"),0<l.length&&(c=new zy("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=x))}ok(d,t)})}function io(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Va(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Js(e,r),s!=null&&n.unshift(io(e,s,i)),s=Js(e,t),s!=null&&n.push(io(e,s,i))),e=e.return}return n}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zy(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=Js(r,s),u!=null&&o.unshift(io(r,u,a))):i||(u=Js(r,s),u!=null&&o.push(io(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var QN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function e0(e){return(typeof e=="string"?e:""+e).replace(QN,`
`).replace(ZN,"")}function Qo(e,t,r){if(t=e0(t),e0(e)!==t&&r)throw Error(z(425))}function Ha(){}var Og=null,Pg=null;function $g(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,tO=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(e){return t0.resolve(null).then(e).catch(rO)}:Mg;function rO(e){setTimeout(function(){throw e})}function $l(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),eo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);eo(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function r0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),lr="__reactFiber$"+rs,so="__reactProps$"+rs,Or="__reactContainer$"+rs,jg="__reactEvents$"+rs,nO="__reactListeners$"+rs,iO="__reactHandles$"+rs;function On(e){var t=e[lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Or]||r[lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=r0(e);e!==null;){if(r=e[lr])return r;e=r0(e)}return t}e=r,r=e.parentNode}return null}function Io(e){return e=e[lr]||e[Or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Ru(e){return e[so]||null}var Lg=[],xi=-1;function wn(e){return{current:e}}function ve(e){0>xi||(e.current=Lg[xi],Lg[xi]=null,xi--)}function he(e,t){xi++,Lg[xi]=e.current,e.current=t}var vn={},rt=wn(vn),pt=wn(!1),Bn=vn;function Bi(e,t){var r=e.type.contextTypes;if(!r)return vn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gt(e){return e=e.childContextTypes,e!=null}function Ga(){ve(pt),ve(rt)}function n0(e,t,r){if(rt.current!==vn)throw Error(z(168));he(rt,t),he(pt,r)}function uk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(z(108,FI(e)||"Unknown",i));return Se({},r,n)}function Wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Bn=rt.current,he(rt,e),he(pt,pt.current),!0}function i0(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=uk(e,t,Bn),n.__reactInternalMemoizedMergedChildContext=e,ve(pt),ve(rt),he(rt,e)):ve(pt),he(pt,r)}var Er=null,Au=!1,Ml=!1;function lk(e){Er===null?Er=[e]:Er.push(e)}function sO(e){Au=!0,lk(e)}function _n(){if(!Ml&&Er!==null){Ml=!0;var e=0,t=de;try{var r=Er;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Er=null,Au=!1}catch(i){throw Er!==null&&(Er=Er.slice(e+1)),$x(Gv,_n),i}finally{de=t,Ml=!1}}return null}var ki=[],Ci=0,Ka=null,Ya=0,It=[],Nt=0,Vn=null,xr=1,kr="";function Cn(e,t){ki[Ci++]=Ya,ki[Ci++]=Ka,Ka=e,Ya=t}function ck(e,t,r){It[Nt++]=xr,It[Nt++]=kr,It[Nt++]=Vn,Vn=e;var n=xr;e=kr;var i=32-Jt(n)-1;n&=~(1<<i),r+=1;var s=32-Jt(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,xr=1<<32-Jt(t)+i|r<<i|n,kr=s+e}else xr=1<<s|r<<i|n,kr=e}function tm(e){e.return!==null&&(Cn(e,1),ck(e,1,0))}function rm(e){for(;e===Ka;)Ka=ki[--Ci],ki[Ci]=null,Ya=ki[--Ci],ki[Ci]=null;for(;e===Vn;)Vn=It[--Nt],It[Nt]=null,kr=It[--Nt],It[Nt]=null,xr=It[--Nt],It[Nt]=null}var kt=null,xt=null,me=!1,Yt=null;function dk(e,t){var r=Pt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function s0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,xt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vn!==null?{id:xr,overflow:kr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kt=e,xt=null,!0):!1;default:return!1}}function qg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dg(e){if(me){var t=xt;if(t){var r=t;if(!s0(e,t)){if(qg(e))throw Error(z(418));t=un(r.nextSibling);var n=kt;t&&s0(e,t)?dk(n,r):(e.flags=e.flags&-4097|2,me=!1,kt=e)}}else{if(qg(e))throw Error(z(418));e.flags=e.flags&-4097|2,me=!1,kt=e}}}function o0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Zo(e){if(e!==kt)return!1;if(!me)return o0(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$g(e.type,e.memoizedProps)),t&&(t=xt)){if(qg(e))throw fk(),Error(z(418));for(;t;)dk(e,t),t=un(t.nextSibling)}if(o0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xt=un(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=kt?un(e.stateNode.nextSibling):null;return!0}function fk(){for(var e=xt;e;)e=un(e.nextSibling)}function Vi(){xt=kt=null,me=!1}function nm(e){Yt===null?Yt=[e]:Yt.push(e)}var oO=qr.ReactCurrentBatchConfig;function gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a0(e){var t=e._init;return t(e._payload)}function hk(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=fn(p,g),p.index=0,p.sibling=null,p}function s(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,y,_){return g===null||g.tag!==6?(g=Fl(y,p.mode,_),g.return=p,g):(g=i(g,y),g.return=p,g)}function u(p,g,y,_){var E=y.type;return E===wi?c(p,g,y.props.children,_,y.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gr&&a0(E)===g.type)?(_=i(g,y.props),_.ref=gs(p,g,y),_.return=p,_):(_=Oa(y.type,y.key,y.props,null,p.mode,_),_.ref=gs(p,g,y),_.return=p,_)}function l(p,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Bl(y,p.mode,_),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function c(p,g,y,_,E){return g===null||g.tag!==7?(g=Un(y,p.mode,_,E),g.return=p,g):(g=i(g,y),g.return=p,g)}function d(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Fl(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bo:return y=Oa(g.type,g.key,g.props,null,p.mode,y),y.ref=gs(p,null,g),y.return=p,y;case yi:return g=Bl(g,p.mode,y),g.return=p,g;case Gr:var _=g._init;return d(p,_(g._payload),y)}if(xs(g)||cs(g))return g=Un(g,p.mode,y,null),g.return=p,g;ea(p,g)}return null}function f(p,g,y,_){var E=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(p,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bo:return y.key===E?u(p,g,y,_):null;case yi:return y.key===E?l(p,g,y,_):null;case Gr:return E=y._init,f(p,g,E(y._payload),_)}if(xs(y)||cs(y))return E!==null?null:c(p,g,y,_,null);ea(p,y)}return null}function h(p,g,y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(y)||null,a(g,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bo:return p=p.get(_.key===null?y:_.key)||null,u(g,p,_,E);case yi:return p=p.get(_.key===null?y:_.key)||null,l(g,p,_,E);case Gr:var S=_._init;return h(p,g,y,S(_._payload),E)}if(xs(_)||cs(_))return p=p.get(y)||null,c(g,p,_,E,null);ea(g,_)}return null}function m(p,g,y,_){for(var E=null,S=null,x=g,C=g=0,I=null;x!==null&&C<y.length;C++){x.index>C?(I=x,x=null):I=x.sibling;var P=f(p,x,y[C],_);if(P===null){x===null&&(x=I);break}e&&x&&P.alternate===null&&t(p,x),g=s(P,g,C),S===null?E=P:S.sibling=P,S=P,x=I}if(C===y.length)return r(p,x),me&&Cn(p,C),E;if(x===null){for(;C<y.length;C++)x=d(p,y[C],_),x!==null&&(g=s(x,g,C),S===null?E=x:S.sibling=x,S=x);return me&&Cn(p,C),E}for(x=n(p,x);C<y.length;C++)I=h(x,p,C,y[C],_),I!==null&&(e&&I.alternate!==null&&x.delete(I.key===null?C:I.key),g=s(I,g,C),S===null?E=I:S.sibling=I,S=I);return e&&x.forEach(function(T){return t(p,T)}),me&&Cn(p,C),E}function v(p,g,y,_){var E=cs(y);if(typeof E!="function")throw Error(z(150));if(y=E.call(y),y==null)throw Error(z(151));for(var S=E=null,x=g,C=g=0,I=null,P=y.next();x!==null&&!P.done;C++,P=y.next()){x.index>C?(I=x,x=null):I=x.sibling;var T=f(p,x,P.value,_);if(T===null){x===null&&(x=I);break}e&&x&&T.alternate===null&&t(p,x),g=s(T,g,C),S===null?E=T:S.sibling=T,S=T,x=I}if(P.done)return r(p,x),me&&Cn(p,C),E;if(x===null){for(;!P.done;C++,P=y.next())P=d(p,P.value,_),P!==null&&(g=s(P,g,C),S===null?E=P:S.sibling=P,S=P);return me&&Cn(p,C),E}for(x=n(p,x);!P.done;C++,P=y.next())P=h(x,p,C,P.value,_),P!==null&&(e&&P.alternate!==null&&x.delete(P.key===null?C:P.key),g=s(P,g,C),S===null?E=P:S.sibling=P,S=P);return e&&x.forEach(function(q){return t(p,q)}),me&&Cn(p,C),E}function w(p,g,y,_){if(typeof y=="object"&&y!==null&&y.type===wi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Bo:e:{for(var E=y.key,S=g;S!==null;){if(S.key===E){if(E=y.type,E===wi){if(S.tag===7){r(p,S.sibling),g=i(S,y.props.children),g.return=p,p=g;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gr&&a0(E)===S.type){r(p,S.sibling),g=i(S,y.props),g.ref=gs(p,S,y),g.return=p,p=g;break e}r(p,S);break}else t(p,S);S=S.sibling}y.type===wi?(g=Un(y.props.children,p.mode,_,y.key),g.return=p,p=g):(_=Oa(y.type,y.key,y.props,null,p.mode,_),_.ref=gs(p,g,y),_.return=p,p=_)}return o(p);case yi:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(p,g.sibling),g=i(g,y.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Bl(y,p.mode,_),g.return=p,p=g}return o(p);case Gr:return S=y._init,w(p,g,S(y._payload),_)}if(xs(y))return m(p,g,y,_);if(cs(y))return v(p,g,y,_);ea(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(p,g.sibling),g=i(g,y),g.return=p,p=g):(r(p,g),g=Fl(y,p.mode,_),g.return=p,p=g),o(p)):r(p,g)}return w}var Hi=hk(!0),pk=hk(!1),Xa=wn(null),Ja=null,Ti=null,im=null;function sm(){im=Ti=Ja=null}function om(e){var t=Xa.current;ve(Xa),e._currentValue=t}function Ug(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ji(e,t){Ja=e,im=Ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(im!==e)if(e={context:e,memoizedValue:t,next:null},Ti===null){if(Ja===null)throw Error(z(308));Ti=e,Ja.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Pn=null;function am(e){Pn===null?Pn=[e]:Pn.push(e)}function gk(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,am(t)):(r.next=i.next,i.next=r),t.interleaved=r,Pr(e,n)}function Pr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wr=!1;function um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ue&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Pr(e,r)}return i=n.interleaved,i===null?(t.next=t,am(n)):(t.next=i.next,i.next=t),n.interleaved=t,Pr(e,r)}function Ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wv(e,r)}}function u0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qa(e,t,r,n){var i=e.updateQueue;Wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,h=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(f=t,h=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=Se({},d,f);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Gn|=o,e.lanes=o,e.memoizedState=d}}function l0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(z(191,i));i.call(n)}}}var No={},fr=wn(No),oo=wn(No),ao=wn(No);function $n(e){if(e===No)throw Error(z(174));return e}function lm(e,t){switch(he(ao,t),he(oo,e),he(fr,No),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_g(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_g(t,e)}ve(fr),he(fr,t)}function Gi(){ve(fr),ve(oo),ve(ao)}function mk(e){$n(ao.current);var t=$n(fr.current),r=_g(t,e.type);t!==r&&(he(oo,e),he(fr,r))}function cm(e){oo.current===e&&(ve(fr),ve(oo))}var _e=wn(0);function Za(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function dm(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var Ta=qr.ReactCurrentDispatcher,Ll=qr.ReactCurrentBatchConfig,Hn=0,be=null,je=null,Fe=null,eu=!1,Bs=!1,uo=0,aO=0;function Ze(){throw Error(z(321))}function fm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!er(e[r],t[r]))return!1;return!0}function hm(e,t,r,n,i,s){if(Hn=s,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=e===null||e.memoizedState===null?dO:fO,e=r(n,i),Bs){s=0;do{if(Bs=!1,uo=0,25<=s)throw Error(z(301));s+=1,Fe=je=null,t.updateQueue=null,Ta.current=hO,e=r(n,i)}while(Bs)}if(Ta.current=tu,t=je!==null&&je.next!==null,Hn=0,Fe=je=be=null,eu=!1,t)throw Error(z(300));return e}function pm(){var e=uo!==0;return uo=0,e}function ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Lt(){if(je===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Fe===null?be.memoizedState:Fe.next;if(t!==null)Fe=t,je=e;else{if(e===null)throw Error(z(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function lo(e,t){return typeof t=="function"?t(e):t}function ql(e){var t=Lt(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=je,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Hn&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=d,o=n):u=u.next=d,be.lanes|=c,Gn|=c}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,er(n,t.memoizedState)||(ft=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,be.lanes|=s,Gn|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dl(e){var t=Lt(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);er(s,t.memoizedState)||(ft=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function yk(){}function wk(e,t){var r=be,n=Lt(),i=t(),s=!er(n.memoizedState,i);if(s&&(n.memoizedState=i,ft=!0),n=n.queue,gm(Sk.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,co(9,bk.bind(null,r,n,i,t),void 0,null),Be===null)throw Error(z(349));Hn&30||_k(r,t,i)}return i}function _k(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bk(e,t,r,n){t.value=r,t.getSnapshot=n,Ek(t)&&xk(e)}function Sk(e,t,r){return r(function(){Ek(t)&&xk(e)})}function Ek(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!er(e,r)}catch{return!0}}function xk(e){var t=Pr(e,1);t!==null&&Qt(t,e,1,-1)}function c0(e){var t=ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e},t.queue=e,e=e.dispatch=cO.bind(null,be,e),[t.memoizedState,e]}function co(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kk(){return Lt().memoizedState}function Ra(e,t,r,n){var i=ur();be.flags|=e,i.memoizedState=co(1|t,r,void 0,n===void 0?null:n)}function Iu(e,t,r,n){var i=Lt();n=n===void 0?null:n;var s=void 0;if(je!==null){var o=je.memoizedState;if(s=o.destroy,n!==null&&fm(n,o.deps)){i.memoizedState=co(t,r,s,n);return}}be.flags|=e,i.memoizedState=co(1|t,r,s,n)}function d0(e,t){return Ra(8390656,8,e,t)}function gm(e,t){return Iu(2048,8,e,t)}function Ck(e,t){return Iu(4,2,e,t)}function Tk(e,t){return Iu(4,4,e,t)}function Rk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ak(e,t,r){return r=r!=null?r.concat([e]):null,Iu(4,4,Rk.bind(null,t,e),r)}function vm(){}function Ik(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Nk(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ok(e,t,r){return Hn&21?(er(r,t)||(r=Lx(),be.lanes|=r,Gn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=r)}function uO(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=Ll.transition;Ll.transition={};try{e(!1),t()}finally{de=r,Ll.transition=n}}function Pk(){return Lt().memoizedState}function lO(e,t,r){var n=dn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$k(e))Mk(t,r);else if(r=gk(e,t,r,n),r!==null){var i=ot();Qt(r,e,n,i),jk(r,t,n)}}function cO(e,t,r){var n=dn(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($k(e))Mk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,er(a,o)){var u=t.interleaved;u===null?(i.next=i,am(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=gk(e,t,i,n),r!==null&&(i=ot(),Qt(r,e,n,i),jk(r,t,n))}}function $k(e){var t=e.alternate;return e===be||t!==null&&t===be}function Mk(e,t){Bs=eu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wv(e,r)}}var tu={readContext:jt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},dO={readContext:jt,useCallback:function(e,t){return ur().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:d0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ra(4194308,4,Rk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var r=ur();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ur();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lO.bind(null,be,e),[n.memoizedState,e]},useRef:function(e){var t=ur();return e={current:e},t.memoizedState=e},useState:c0,useDebugValue:vm,useDeferredValue:function(e){return ur().memoizedState=e},useTransition:function(){var e=c0(!1),t=e[0];return e=uO.bind(null,e[1]),ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=be,i=ur();if(me){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),Be===null)throw Error(z(349));Hn&30||_k(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,d0(Sk.bind(null,n,s,e),[e]),n.flags|=2048,co(9,bk.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ur(),t=Be.identifierPrefix;if(me){var r=kr,n=xr;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=uo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fO={readContext:jt,useCallback:Ik,useContext:jt,useEffect:gm,useImperativeHandle:Ak,useInsertionEffect:Ck,useLayoutEffect:Tk,useMemo:Nk,useReducer:ql,useRef:kk,useState:function(){return ql(lo)},useDebugValue:vm,useDeferredValue:function(e){var t=Lt();return Ok(t,je.memoizedState,e)},useTransition:function(){var e=ql(lo)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:yk,useSyncExternalStore:wk,useId:Pk,unstable_isNewReconciler:!1},hO={readContext:jt,useCallback:Ik,useContext:jt,useEffect:gm,useImperativeHandle:Ak,useInsertionEffect:Ck,useLayoutEffect:Tk,useMemo:Nk,useReducer:Dl,useRef:kk,useState:function(){return Dl(lo)},useDebugValue:vm,useDeferredValue:function(e){var t=Lt();return je===null?t.memoizedState=e:Ok(t,je.memoizedState,e)},useTransition:function(){var e=Dl(lo)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:yk,useSyncExternalStore:wk,useId:Pk,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nu={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ot(),i=dn(e),s=Ar(n,i);s.payload=t,r!=null&&(s.callback=r),t=ln(e,s,i),t!==null&&(Qt(t,e,i,n),Ca(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ot(),i=dn(e),s=Ar(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ln(e,s,i),t!==null&&(Qt(t,e,i,n),Ca(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ot(),n=dn(e),i=Ar(r,n);i.tag=2,t!=null&&(i.callback=t),t=ln(e,i,n),t!==null&&(Qt(t,e,n,r),Ca(t,e,n))}};function f0(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!ro(r,n)||!ro(i,s):!0}function Lk(e,t,r){var n=!1,i=vn,s=t.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=gt(t)?Bn:rt.current,n=t.contextTypes,s=(n=n!=null)?Bi(e,i):vn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function h0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nu.enqueueReplaceState(t,t.state,null)}function Fg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},um(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=gt(t)?Bn:rt.current,i.context=Bi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(zg(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Nu.enqueueReplaceState(i,i.state,null),Qa(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wi(e,t){try{var r="",n=t;do r+=zI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ul(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pO=typeof WeakMap=="function"?WeakMap:Map;function qk(e,t,r){r=Ar(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nu||(nu=!0,Zg=n),Bg(e,t)},r}function Dk(e,t,r){r=Ar(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Bg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Bg(e,t),typeof n!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function p0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pO;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=RO.bind(null,e,t,r),t.then(e,e))}function g0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function v0(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ar(-1,1),t.tag=2,ln(r,t,1))),r.lanes|=1),e)}var gO=qr.ReactCurrentOwner,ft=!1;function st(e,t,r,n){t.child=e===null?pk(t,null,r,n):Hi(t,e.child,r,n)}function m0(e,t,r,n,i){r=r.render;var s=t.ref;return ji(t,i),n=hm(e,t,r,n,s,i),r=pm(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$r(e,t,i)):(me&&r&&tm(t),t.flags|=1,st(e,t,n,i),t.child)}function y0(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!xm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Uk(e,t,s,n,i)):(e=Oa(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ro,r(o,n)&&e.ref===t.ref)return $r(e,t,i)}return t.flags|=1,e=fn(s,n),e.ref=t.ref,e.return=t,t.child=e}function Uk(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(ro(s,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,$r(e,t,i)}return Vg(e,t,r,n,i)}function zk(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ai,_t),_t|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Ai,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,he(Ai,_t),_t|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,he(Ai,_t),_t|=n;return st(e,t,i,r),t.child}function Fk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vg(e,t,r,n,i){var s=gt(r)?Bn:rt.current;return s=Bi(t,s),ji(t,i),r=hm(e,t,r,n,s,i),n=pm(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$r(e,t,i)):(me&&n&&tm(t),t.flags|=1,st(e,t,r,i),t.child)}function w0(e,t,r,n,i){if(gt(r)){var s=!0;Wa(t)}else s=!1;if(ji(t,i),t.stateNode===null)Aa(e,t),Lk(t,r,n),Fg(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=jt(l):(l=gt(r)?Bn:rt.current,l=Bi(t,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&h0(t,o,n,l),Wr=!1;var f=t.memoizedState;o.state=f,Qa(t,n,o,i),u=t.memoizedState,a!==n||f!==u||pt.current||Wr?(typeof c=="function"&&(zg(t,r,c,n),u=t.memoizedState),(a=Wr||f0(t,r,a,n,f,u,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,vk(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Vt(t.type,a),o.props=l,d=t.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=jt(u):(u=gt(r)?Bn:rt.current,u=Bi(t,u));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==u)&&h0(t,o,n,u),Wr=!1,f=t.memoizedState,o.state=f,Qa(t,n,o,i);var m=t.memoizedState;a!==d||f!==m||pt.current||Wr?(typeof h=="function"&&(zg(t,r,h,n),m=t.memoizedState),(l=Wr||f0(t,r,l,n,f,m,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Hg(e,t,r,n,s,i)}function Hg(e,t,r,n,i,s){Fk(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&i0(t,r,!1),$r(e,t,s);n=t.stateNode,gO.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Hi(t,e.child,null,s),t.child=Hi(t,null,a,s)):st(e,t,a,s),t.memoizedState=n.state,i&&i0(t,r,!0),t.child}function Bk(e){var t=e.stateNode;t.pendingContext?n0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&n0(e,t.context,!1),lm(e,t.containerInfo)}function _0(e,t,r,n,i){return Vi(),nm(i),t.flags|=256,st(e,t,r,n),t.child}var Gg={dehydrated:null,treeContext:null,retryLane:0};function Wg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vk(e,t,r){var n=t.pendingProps,i=_e.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(_e,i&1),e===null)return Dg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$u(o,n,0,null),e=Un(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wg(r),t.memoizedState=Gg,e):mm(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vO(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=fn(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fn(a,s):(s=Un(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Wg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Gg,n}return s=e.child,e=s.sibling,n=fn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function mm(e,t){return t=$u({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ta(e,t,r,n){return n!==null&&nm(n),Hi(t,e.child,null,r),e=mm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vO(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Ul(Error(z(422))),ta(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=$u({mode:"visible",children:n.children},i,0,null),s=Un(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Hi(t,e.child,null,o),t.child.memoizedState=Wg(o),t.memoizedState=Gg,s);if(!(t.mode&1))return ta(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(z(419)),n=Ul(s,n,void 0),ta(e,t,o,n)}if(a=(o&e.childLanes)!==0,ft||a){if(n=Be,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(e,i),Qt(n,e,i,-1))}return Em(),n=Ul(Error(z(421))),ta(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AO.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,xt=un(i.nextSibling),kt=t,me=!0,Yt=null,e!==null&&(It[Nt++]=xr,It[Nt++]=kr,It[Nt++]=Vn,xr=e.id,kr=e.overflow,Vn=t),t=mm(t,n.children),t.flags|=4096,t)}function b0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ug(e.return,t,r)}function zl(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Hk(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(st(e,t,n.children,r),n=_e.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&b0(e,r,t);else if(e.tag===19)b0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(_e,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Za(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),zl(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Za(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}zl(t,!0,r,null,s);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $r(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mO(e,t,r){switch(t.tag){case 3:Bk(t),Vi();break;case 5:mk(t);break;case 1:gt(t.type)&&Wa(t);break;case 4:lm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;he(Xa,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(_e,_e.current&1),t.flags|=128,null):r&t.child.childLanes?Vk(e,t,r):(he(_e,_e.current&1),e=$r(e,t,r),e!==null?e.sibling:null);he(_e,_e.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Hk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(_e,_e.current),n)break;return null;case 22:case 23:return t.lanes=0,zk(e,t,r)}return $r(e,t,r)}var Gk,Kg,Wk,Kk;Gk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kg=function(){};Wk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,$n(fr.current);var s=null;switch(r){case"input":i=vg(e,i),n=vg(e,n),s=[];break;case"select":i=Se({},i,{value:void 0}),n=Se({},n,{value:void 0}),s=[];break;case"textarea":i=wg(e,i),n=wg(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ha)}bg(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ys.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&ge("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};Kk=function(e,t,r,n){r!==n&&(t.flags|=4)};function vs(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yO(e,t,r){var n=t.pendingProps;switch(rm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return gt(t.type)&&Ga(),et(t),null;case 3:return n=t.stateNode,Gi(),ve(pt),ve(rt),dm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(rv(Yt),Yt=null))),Kg(e,t),et(t),null;case 5:cm(t);var i=$n(ao.current);if(r=t.type,e!==null&&t.stateNode!=null)Wk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return et(t),null}if(e=$n(fr.current),Zo(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[lr]=t,n[so]=s,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(i=0;i<Cs.length;i++)ge(Cs[i],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":Iy(n,s),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ge("invalid",n);break;case"textarea":Oy(n,s),ge("invalid",n)}bg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qo(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qo(n.textContent,a,e),i=["children",""+a]):Ys.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",n)}switch(r){case"input":Vo(n),Ny(n,s,!0);break;case"textarea":Vo(n),Py(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ha)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[lr]=t,e[so]=n,Gk(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sg(r,n),r){case"dialog":ge("cancel",e),ge("close",e),i=n;break;case"iframe":case"object":case"embed":ge("load",e),i=n;break;case"video":case"audio":for(i=0;i<Cs.length;i++)ge(Cs[i],e);i=n;break;case"source":ge("error",e),i=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),i=n;break;case"details":ge("toggle",e),i=n;break;case"input":Iy(e,n),i=vg(e,n),ge("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Se({},n,{value:void 0}),ge("invalid",e);break;case"textarea":Oy(e,n),i=wg(e,n),ge("invalid",e);break;default:i=n}bg(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?kx(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ex(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Xs(e,u):typeof u=="number"&&Xs(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ys.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ge("scroll",e):u!=null&&zv(e,s,u,o))}switch(r){case"input":Vo(e),Ny(e,n,!1);break;case"textarea":Vo(e),Py(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Oi(e,!!n.multiple,s,!1):n.defaultValue!=null&&Oi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ha)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Kk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=$n(ao.current),$n(fr.current),Zo(t)){if(n=t.stateNode,r=t.memoizedProps,n[lr]=t,(s=n.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Qo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qo(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=t,t.stateNode=n}return et(t),null;case 13:if(ve(_e),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&xt!==null&&t.mode&1&&!(t.flags&128))fk(),Vi(),t.flags|=98560,s=!1;else if(s=Zo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[lr]=t}else Vi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),s=!1}else Yt!==null&&(rv(Yt),Yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Le===0&&(Le=3):Em())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Gi(),Kg(e,t),e===null&&no(t.stateNode.containerInfo),et(t),null;case 10:return om(t.type._context),et(t),null;case 17:return gt(t.type)&&Ga(),et(t),null;case 19:if(ve(_e),s=t.memoizedState,s===null)return et(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)vs(s,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Za(e),o!==null){for(t.flags|=128,vs(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(_e,_e.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ae()>Ki&&(t.flags|=128,n=!0,vs(s,!1),t.lanes=4194304)}else{if(!n)if(e=Za(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!me)return et(t),null}else 2*Ae()-s.renderingStartTime>Ki&&r!==1073741824&&(t.flags|=128,n=!0,vs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ae(),t.sibling=null,r=_e.current,he(_e,n?r&1|2:r&1),t):(et(t),null);case 22:case 23:return Sm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_t&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function wO(e,t){switch(rm(t),t.tag){case 1:return gt(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gi(),ve(pt),ve(rt),dm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cm(t),null;case 13:if(ve(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(_e),null;case 4:return Gi(),null;case 10:return om(t.type._context),null;case 22:case 23:return Sm(),null;case 24:return null;default:return null}}var ra=!1,tt=!1,_O=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ri(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function Yg(e,t,r){try{r()}catch(n){ke(e,t,n)}}var S0=!1;function bO(e,t){if(Og=Fa,e=Zx(),em(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(u=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===r&&++l===i&&(a=o),f===s&&++c===n&&(u=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pg={focusedElem:e,selectionRange:r},Fa=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vt(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(_){ke(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return m=S0,S0=!1,m}function Vs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Yg(t,r,s)}i=i.next}while(i!==n)}}function Ou(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Xg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yk(e){var t=e.alternate;t!==null&&(e.alternate=null,Yk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[so],delete t[jg],delete t[nO],delete t[iO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xk(e){return e.tag===5||e.tag===3||e.tag===4}function E0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ha));else if(n!==4&&(e=e.child,e!==null))for(Jg(e,t,r),e=e.sibling;e!==null;)Jg(e,t,r),e=e.sibling}function Qg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qg(e,t,r),e=e.sibling;e!==null;)Qg(e,t,r),e=e.sibling}var Ke=null,Gt=!1;function Br(e,t,r){for(r=r.child;r!==null;)Jk(e,t,r),r=r.sibling}function Jk(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(xu,r)}catch{}switch(r.tag){case 5:tt||Ri(r,t);case 6:var n=Ke,i=Gt;Ke=null,Br(e,t,r),Ke=n,Gt=i,Ke!==null&&(Gt?(e=Ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(Gt?(e=Ke,r=r.stateNode,e.nodeType===8?$l(e.parentNode,r):e.nodeType===1&&$l(e,r),eo(e)):$l(Ke,r.stateNode));break;case 4:n=Ke,i=Gt,Ke=r.stateNode.containerInfo,Gt=!0,Br(e,t,r),Ke=n,Gt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yg(r,t,o),i=i.next}while(i!==n)}Br(e,t,r);break;case 1:if(!tt&&(Ri(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ke(r,t,a)}Br(e,t,r);break;case 21:Br(e,t,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,Br(e,t,r),tt=n):Br(e,t,r);break;default:Br(e,t,r)}}function x0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _O),t.forEach(function(n){var i=IO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,Gt=!1;break e;case 3:Ke=a.stateNode.containerInfo,Gt=!0;break e;case 4:Ke=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(Ke===null)throw Error(z(160));Jk(s,o,i),Ke=null,Gt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ke(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qk(t,e),t=t.sibling}function Qk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),ar(e),n&4){try{Vs(3,e,e.return),Ou(3,e)}catch(v){ke(e,e.return,v)}try{Vs(5,e,e.return)}catch(v){ke(e,e.return,v)}}break;case 1:Ft(t,e),ar(e),n&512&&r!==null&&Ri(r,r.return);break;case 5:if(Ft(t,e),ar(e),n&512&&r!==null&&Ri(r,r.return),e.flags&32){var i=e.stateNode;try{Xs(i,"")}catch(v){ke(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_x(i,s),Sg(a,o);var l=Sg(a,s);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?kx(i,d):c==="dangerouslySetInnerHTML"?Ex(i,d):c==="children"?Xs(i,d):zv(i,c,d,l)}switch(a){case"input":mg(i,s);break;case"textarea":bx(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Oi(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Oi(i,!!s.multiple,s.defaultValue,!0):Oi(i,!!s.multiple,s.multiple?[]:"",!1))}i[so]=s}catch(v){ke(e,e.return,v)}}break;case 6:if(Ft(t,e),ar(e),n&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){ke(e,e.return,v)}}break;case 3:if(Ft(t,e),ar(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{eo(t.containerInfo)}catch(v){ke(e,e.return,v)}break;case 4:Ft(t,e),ar(e);break;case 13:Ft(t,e),ar(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_m=Ae())),n&4&&x0(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(tt=(l=tt)||c,Ft(t,e),tt=l):Ft(t,e),ar(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(V=e,c=e.child;c!==null;){for(d=V=c;V!==null;){switch(f=V,h=f.child,f.tag){case 0:case 11:case 14:case 15:Vs(4,f,f.return);break;case 1:Ri(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ke(n,r,v)}}break;case 5:Ri(f,f.return);break;case 22:if(f.memoizedState!==null){C0(d);continue}}h!==null?(h.return=f,V=h):C0(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=xx("display",o))}catch(v){ke(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){ke(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ft(t,e),ar(e),n&4&&x0(e);break;case 21:break;default:Ft(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xk(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Xs(i,""),n.flags&=-33);var s=E0(e);Qg(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=E0(e);Jg(e,a,o);break;default:throw Error(z(161))}}catch(u){ke(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SO(e,t,r){V=e,Zk(e)}function Zk(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ra;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||tt;a=ra;var l=tt;if(ra=o,(tt=u)&&!l)for(V=i;V!==null;)o=V,u=o.child,o.tag===22&&o.memoizedState!==null?T0(i):u!==null?(u.return=o,V=u):T0(i);for(;s!==null;)V=s,Zk(s),s=s.sibling;V=i,ra=a,tt=l}k0(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):k0(e)}}function k0(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Ou(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Vt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&l0(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l0(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&eo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}tt||t.flags&512&&Xg(t)}catch(f){ke(t,t.return,f)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function C0(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function T0(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ou(4,t)}catch(u){ke(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){ke(t,i,u)}}var s=t.return;try{Xg(t)}catch(u){ke(t,s,u)}break;case 5:var o=t.return;try{Xg(t)}catch(u){ke(t,o,u)}}}catch(u){ke(t,t.return,u)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var EO=Math.ceil,ru=qr.ReactCurrentDispatcher,ym=qr.ReactCurrentOwner,Mt=qr.ReactCurrentBatchConfig,ue=0,Be=null,Oe=null,Ye=0,_t=0,Ai=wn(0),Le=0,fo=null,Gn=0,Pu=0,wm=0,Hs=null,dt=null,_m=0,Ki=1/0,br=null,nu=!1,Zg=null,cn=null,na=!1,nn=null,iu=0,Gs=0,ev=null,Ia=-1,Na=0;function ot(){return ue&6?Ae():Ia!==-1?Ia:Ia=Ae()}function dn(e){return e.mode&1?ue&2&&Ye!==0?Ye&-Ye:oO.transition!==null?(Na===0&&(Na=Lx()),Na):(e=de,e!==0||(e=window.event,e=e===void 0?16:Vx(e.type)),e):1}function Qt(e,t,r,n){if(50<Gs)throw Gs=0,ev=null,Error(z(185));Ro(e,r,n),(!(ue&2)||e!==Be)&&(e===Be&&(!(ue&2)&&(Pu|=r),Le===4&&Qr(e,Ye)),vt(e,n),r===1&&ue===0&&!(t.mode&1)&&(Ki=Ae()+500,Au&&_n()))}function vt(e,t){var r=e.callbackNode;oN(e,t);var n=za(e,e===Be?Ye:0);if(n===0)r!==null&&jy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jy(r),t===1)e.tag===0?sO(R0.bind(null,e)):lk(R0.bind(null,e)),tO(function(){!(ue&6)&&_n()}),r=null;else{switch(qx(n)){case 1:r=Gv;break;case 4:r=Mx;break;case 16:r=Ua;break;case 536870912:r=jx;break;default:r=Ua}r=aC(r,eC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eC(e,t){if(Ia=-1,Na=0,ue&6)throw Error(z(327));var r=e.callbackNode;if(Li()&&e.callbackNode!==r)return null;var n=za(e,e===Be?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=su(e,n);else{t=n;var i=ue;ue|=2;var s=rC();(Be!==e||Ye!==t)&&(br=null,Ki=Ae()+500,Dn(e,t));do try{CO();break}catch(a){tC(e,a)}while(1);sm(),ru.current=s,ue=i,Oe!==null?t=0:(Be=null,Ye=0,t=Le)}if(t!==0){if(t===2&&(i=Tg(e),i!==0&&(n=i,t=tv(e,i))),t===1)throw r=fo,Dn(e,0),Qr(e,n),vt(e,Ae()),r;if(t===6)Qr(e,n);else{if(i=e.current.alternate,!(n&30)&&!xO(i)&&(t=su(e,n),t===2&&(s=Tg(e),s!==0&&(n=s,t=tv(e,s))),t===1))throw r=fo,Dn(e,0),Qr(e,n),vt(e,Ae()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:Tn(e,dt,br);break;case 3:if(Qr(e,n),(n&130023424)===n&&(t=_m+500-Ae(),10<t)){if(za(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Mg(Tn.bind(null,e,dt,br),t);break}Tn(e,dt,br);break;case 4:if(Qr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Jt(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EO(n/1960))-n,10<n){e.timeoutHandle=Mg(Tn.bind(null,e,dt,br),n);break}Tn(e,dt,br);break;case 5:Tn(e,dt,br);break;default:throw Error(z(329))}}}return vt(e,Ae()),e.callbackNode===r?eC.bind(null,e):null}function tv(e,t){var r=Hs;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=su(e,t),e!==2&&(t=dt,dt=r,t!==null&&rv(t)),e}function rv(e){dt===null?dt=e:dt.push.apply(dt,e)}function xO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!er(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qr(e,t){for(t&=~wm,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jt(t),n=1<<r;e[r]=-1,t&=~n}}function R0(e){if(ue&6)throw Error(z(327));Li();var t=za(e,0);if(!(t&1))return vt(e,Ae()),null;var r=su(e,t);if(e.tag!==0&&r===2){var n=Tg(e);n!==0&&(t=n,r=tv(e,n))}if(r===1)throw r=fo,Dn(e,0),Qr(e,t),vt(e,Ae()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,dt,br),vt(e,Ae()),null}function bm(e,t){var r=ue;ue|=1;try{return e(t)}finally{ue=r,ue===0&&(Ki=Ae()+500,Au&&_n())}}function Wn(e){nn!==null&&nn.tag===0&&!(ue&6)&&Li();var t=ue;ue|=1;var r=Mt.transition,n=de;try{if(Mt.transition=null,de=1,e)return e()}finally{de=n,Mt.transition=r,ue=t,!(ue&6)&&_n()}}function Sm(){_t=Ai.current,ve(Ai)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eO(r)),Oe!==null)for(r=Oe.return;r!==null;){var n=r;switch(rm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ga();break;case 3:Gi(),ve(pt),ve(rt),dm();break;case 5:cm(n);break;case 4:Gi();break;case 13:ve(_e);break;case 19:ve(_e);break;case 10:om(n.type._context);break;case 22:case 23:Sm()}r=r.return}if(Be=e,Oe=e=fn(e.current,null),Ye=_t=t,Le=0,fo=null,wm=Pu=Gn=0,dt=Hs=null,Pn!==null){for(t=0;t<Pn.length;t++)if(r=Pn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Pn=null}return e}function tC(e,t){do{var r=Oe;try{if(sm(),Ta.current=tu,eu){for(var n=be.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}eu=!1}if(Hn=0,Fe=je=be=null,Bs=!1,uo=0,ym.current=null,r===null||r.return===null){Le=1,fo=t,Oe=null;break}e:{var s=e,o=r.return,a=r,u=t;if(t=Ye,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=g0(o);if(h!==null){h.flags&=-257,v0(h,o,a,s,t),h.mode&1&&p0(s,l,t),t=h,u=l;var m=t.updateQueue;if(m===null){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}else{if(!(t&1)){p0(s,l,t),Em();break e}u=Error(z(426))}}else if(me&&a.mode&1){var w=g0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),v0(w,o,a,s,t),nm(Wi(u,a));break e}}s=u=Wi(u,a),Le!==4&&(Le=2),Hs===null?Hs=[s]:Hs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=qk(s,u,t);u0(s,p);break e;case 1:a=u;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(cn===null||!cn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Dk(s,a,t);u0(s,_);break e}}s=s.return}while(s!==null)}iC(r)}catch(E){t=E,Oe===r&&r!==null&&(Oe=r=r.return);continue}break}while(1)}function rC(){var e=ru.current;return ru.current=tu,e===null?tu:e}function Em(){(Le===0||Le===3||Le===2)&&(Le=4),Be===null||!(Gn&268435455)&&!(Pu&268435455)||Qr(Be,Ye)}function su(e,t){var r=ue;ue|=2;var n=rC();(Be!==e||Ye!==t)&&(br=null,Dn(e,t));do try{kO();break}catch(i){tC(e,i)}while(1);if(sm(),ue=r,ru.current=n,Oe!==null)throw Error(z(261));return Be=null,Ye=0,Le}function kO(){for(;Oe!==null;)nC(Oe)}function CO(){for(;Oe!==null&&!JI();)nC(Oe)}function nC(e){var t=oC(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?iC(e):Oe=t,ym.current=null}function iC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wO(r,t),r!==null){r.flags&=32767,Oe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Oe=null;return}}else if(r=yO(r,t,_t),r!==null){Oe=r;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Le===0&&(Le=5)}function Tn(e,t,r){var n=de,i=Mt.transition;try{Mt.transition=null,de=1,TO(e,t,r,n)}finally{Mt.transition=i,de=n}return null}function TO(e,t,r,n){do Li();while(nn!==null);if(ue&6)throw Error(z(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(aN(e,s),e===Be&&(Oe=Be=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||na||(na=!0,aC(Ua,function(){return Li(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Mt.transition,Mt.transition=null;var o=de;de=1;var a=ue;ue|=4,ym.current=null,bO(e,r),Qk(r,e),WN(Pg),Fa=!!Og,Pg=Og=null,e.current=r,SO(r),QI(),ue=a,de=o,Mt.transition=s}else e.current=r;if(na&&(na=!1,nn=e,iu=i),s=e.pendingLanes,s===0&&(cn=null),tN(r.stateNode),vt(e,Ae()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(nu)throw nu=!1,e=Zg,Zg=null,e;return iu&1&&e.tag!==0&&Li(),s=e.pendingLanes,s&1?e===ev?Gs++:(Gs=0,ev=e):Gs=0,_n(),null}function Li(){if(nn!==null){var e=qx(iu),t=Mt.transition,r=de;try{if(Mt.transition=null,de=16>e?16:e,nn===null)var n=!1;else{if(e=nn,nn=null,iu=0,ue&6)throw Error(z(331));var i=ue;for(ue|=4,V=e.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(V=l;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:Vs(8,c,s)}var d=c.child;if(d!==null)d.return=c,V=d;else for(;V!==null;){c=V;var f=c.sibling,h=c.return;if(Yk(c),c===l){V=null;break}if(f!==null){f.return=h,V=f;break}V=h}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vs(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,V=p;break e}V=s.return}}var g=e.current;for(V=g;V!==null;){o=V;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,V=y;else e:for(o=g;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ou(9,a)}}catch(E){ke(a,a.return,E)}if(a===o){V=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,V=_;break e}V=a.return}}if(ue=i,_n(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(xu,e)}catch{}n=!0}return n}finally{de=r,Mt.transition=t}}return!1}function A0(e,t,r){t=Wi(r,t),t=qk(e,t,1),e=ln(e,t,1),t=ot(),e!==null&&(Ro(e,1,t),vt(e,t))}function ke(e,t,r){if(e.tag===3)A0(e,e,r);else for(;t!==null;){if(t.tag===3){A0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cn===null||!cn.has(n))){e=Wi(r,e),e=Dk(t,e,1),t=ln(t,e,1),e=ot(),t!==null&&(Ro(t,1,e),vt(t,e));break}}t=t.return}}function RO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&r,Be===e&&(Ye&r)===r&&(Le===4||Le===3&&(Ye&130023424)===Ye&&500>Ae()-_m?Dn(e,0):wm|=r),vt(e,t)}function sC(e,t){t===0&&(e.mode&1?(t=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):t=1);var r=ot();e=Pr(e,t),e!==null&&(Ro(e,t,r),vt(e,r))}function AO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sC(e,r)}function IO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),sC(e,r)}var oC;oC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ft=!1,mO(e,t,r);ft=!!(e.flags&131072)}else ft=!1,me&&t.flags&1048576&&ck(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Aa(e,t),e=t.pendingProps;var i=Bi(t,rt.current);ji(t,r),i=hm(null,t,n,e,i,r);var s=pm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(n)?(s=!0,Wa(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,um(t),i.updater=Nu,t.stateNode=i,i._reactInternals=t,Fg(t,n,e,r),t=Hg(null,t,n,!0,s,r)):(t.tag=0,me&&s&&tm(t),st(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Aa(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=OO(n),e=Vt(n,e),i){case 0:t=Vg(null,t,n,e,r);break e;case 1:t=w0(null,t,n,e,r);break e;case 11:t=m0(null,t,n,e,r);break e;case 14:t=y0(null,t,n,Vt(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vt(n,i),Vg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vt(n,i),w0(e,t,n,i,r);case 3:e:{if(Bk(t),e===null)throw Error(z(387));n=t.pendingProps,s=t.memoizedState,i=s.element,vk(e,t),Qa(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wi(Error(z(423)),t),t=_0(e,t,n,r,i);break e}else if(n!==i){i=Wi(Error(z(424)),t),t=_0(e,t,n,r,i);break e}else for(xt=un(t.stateNode.containerInfo.firstChild),kt=t,me=!0,Yt=null,r=pk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vi(),n===i){t=$r(e,t,r);break e}st(e,t,n,r)}t=t.child}return t;case 5:return mk(t),e===null&&Dg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,$g(n,i)?o=null:s!==null&&$g(n,s)&&(t.flags|=32),Fk(e,t),st(e,t,o,r),t.child;case 6:return e===null&&Dg(t),null;case 13:return Vk(e,t,r);case 4:return lm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hi(t,null,n,r):st(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vt(n,i),m0(e,t,n,i,r);case 7:return st(e,t,t.pendingProps,r),t.child;case 8:return st(e,t,t.pendingProps.children,r),t.child;case 12:return st(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,he(Xa,n._currentValue),n._currentValue=o,s!==null)if(er(s.value,o)){if(s.children===i.children&&!pt.current){t=$r(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Ar(-1,r&-r),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),Ug(s.return,r,t),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ug(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}st(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ji(t,r),i=jt(i),n=n(i),t.flags|=1,st(e,t,n,r),t.child;case 14:return n=t.type,i=Vt(n,t.pendingProps),i=Vt(n.type,i),y0(e,t,n,i,r);case 15:return Uk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Vt(n,i),Aa(e,t),t.tag=1,gt(n)?(e=!0,Wa(t)):e=!1,ji(t,r),Lk(t,n,i),Fg(t,n,i,r),Hg(null,t,n,!0,e,r);case 19:return Hk(e,t,r);case 22:return zk(e,t,r)}throw Error(z(156,t.tag))};function aC(e,t){return $x(e,t)}function NO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,r,n){return new NO(e,t,r,n)}function xm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OO(e){if(typeof e=="function")return xm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bv)return 11;if(e===Vv)return 14}return 2}function fn(e,t){var r=e.alternate;return r===null?(r=Pt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oa(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")xm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wi:return Un(r.children,i,s,t);case Fv:o=8,i|=8;break;case fg:return e=Pt(12,r,t,i|2),e.elementType=fg,e.lanes=s,e;case hg:return e=Pt(13,r,t,i),e.elementType=hg,e.lanes=s,e;case pg:return e=Pt(19,r,t,i),e.elementType=pg,e.lanes=s,e;case mx:return $u(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gx:o=10;break e;case vx:o=9;break e;case Bv:o=11;break e;case Vv:o=14;break e;case Gr:o=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Pt(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Un(e,t,r,n){return e=Pt(7,e,n,t),e.lanes=r,e}function $u(e,t,r,n){return e=Pt(22,e,n,t),e.elementType=mx,e.lanes=r,e.stateNode={isHidden:!1},e}function Fl(e,t,r){return e=Pt(6,e,null,t),e.lanes=r,e}function Bl(e,t,r){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function km(e,t,r,n,i,s,o,a,u){return e=new PO(e,t,r,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(s),e}function $O(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uC(e){if(!e)return vn;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(gt(r))return uk(e,r,t)}return t}function lC(e,t,r,n,i,s,o,a,u){return e=km(r,n,!0,e,i,s,o,a,u),e.context=uC(null),r=e.current,n=ot(),i=dn(r),s=Ar(n,i),s.callback=t??null,ln(r,s,i),e.current.lanes=i,Ro(e,i,n),vt(e,n),e}function Mu(e,t,r,n){var i=t.current,s=ot(),o=dn(i);return r=uC(r),t.context===null?t.context=r:t.pendingContext=r,t=Ar(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ln(i,t,o),e!==null&&(Qt(e,i,o,s),Ca(e,i,o)),o}function ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function I0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cm(e,t){I0(e,t),(e=e.alternate)&&I0(e,t)}function MO(){return null}var cC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tm(e){this._internalRoot=e}ju.prototype.render=Tm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Mu(e,t,null,null)};ju.prototype.unmount=Tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){Mu(null,e,null,null)}),t[Or]=null}};function ju(e){this._internalRoot=e}ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=zx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jr.length&&t!==0&&t<Jr[r].priority;r++);Jr.splice(r,0,e),r===0&&Bx(e)}};function Rm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function N0(){}function jO(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=ou(o);s.call(l)}}var o=lC(t,n,e,0,null,!1,!1,"",N0);return e._reactRootContainer=o,e[Or]=o.current,no(e.nodeType===8?e.parentNode:e),Wn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=ou(u);a.call(l)}}var u=km(e,0,!1,null,null,!1,!1,"",N0);return e._reactRootContainer=u,e[Or]=u.current,no(e.nodeType===8?e.parentNode:e),Wn(function(){Mu(t,u,r,n)}),u}function qu(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=ou(o);a.call(u)}}Mu(t,o,e,i)}else o=jO(r,t,e,i,n);return ou(o)}Dx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ks(t.pendingLanes);r!==0&&(Wv(t,r|1),vt(t,Ae()),!(ue&6)&&(Ki=Ae()+500,_n()))}break;case 13:Wn(function(){var n=Pr(e,1);if(n!==null){var i=ot();Qt(n,e,1,i)}}),Cm(e,1)}};Kv=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var r=ot();Qt(t,e,134217728,r)}Cm(e,134217728)}};Ux=function(e){if(e.tag===13){var t=dn(e),r=Pr(e,t);if(r!==null){var n=ot();Qt(r,e,t,n)}Cm(e,t)}};zx=function(){return de};Fx=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};xg=function(e,t,r){switch(t){case"input":if(mg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ru(n);if(!i)throw Error(z(90));wx(n),mg(n,i)}}}break;case"textarea":bx(e,r);break;case"select":t=r.value,t!=null&&Oi(e,!!r.multiple,t,!1)}};Rx=bm;Ax=Wn;var LO={usingClientEntryPoint:!1,Events:[Io,Ei,Ru,Cx,Tx,bm]},ms={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qO={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ox(e),e===null?null:e.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||MO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{xu=ia.inject(qO),dr=ia}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LO;Rt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rm(t))throw Error(z(200));return $O(e,t,null,r)};Rt.createRoot=function(e,t){if(!Rm(e))throw Error(z(299));var r=!1,n="",i=cC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=km(e,1,!1,null,null,r,!1,n,i),e[Or]=t.current,no(e.nodeType===8?e.parentNode:e),new Tm(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Ox(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return Wn(e)};Rt.hydrate=function(e,t,r){if(!Lu(t))throw Error(z(200));return qu(null,e,t,!0,r)};Rt.hydrateRoot=function(e,t,r){if(!Rm(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=cC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=lC(t,null,e,1,r??null,i,!1,s,o),e[Or]=t.current,no(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ju(t)};Rt.render=function(e,t,r){if(!Lu(t))throw Error(z(200));return qu(null,e,t,!1,r)};Rt.unmountComponentAtNode=function(e){if(!Lu(e))throw Error(z(40));return e._reactRootContainer?(Wn(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[Or]=null})}),!0):!1};Rt.unstable_batchedUpdates=bm;Rt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lu(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return qu(e,t,r,!1,n)};Rt.version="18.3.1-next-f1338f8080-20240426";function dC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dC)}catch(e){console.error(e)}}dC(),dx.exports=Rt;var DO=dx.exports,O0=DO;cg.createRoot=O0.createRoot,cg.hydrateRoot=O0.hydrateRoot;function Je(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Je(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var fC={exports:{}},hC={},pC={exports:{}},gC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=A;function UO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zO=typeof Object.is=="function"?Object.is:UO,FO=Yi.useState,BO=Yi.useEffect,VO=Yi.useLayoutEffect,HO=Yi.useDebugValue;function GO(e,t){var r=t(),n=FO({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return VO(function(){i.value=r,i.getSnapshot=t,Vl(i)&&s({inst:i})},[e,r,t]),BO(function(){return Vl(i)&&s({inst:i}),e(function(){Vl(i)&&s({inst:i})})},[e]),HO(r),r}function Vl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zO(e,r)}catch{return!0}}function WO(e,t){return t()}var KO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WO:GO;gC.useSyncExternalStore=Yi.useSyncExternalStore!==void 0?Yi.useSyncExternalStore:KO;pC.exports=gC;var YO=pC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=A,XO=YO;function JO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QO=typeof Object.is=="function"?Object.is:JO,ZO=XO.useSyncExternalStore,eP=Du.useRef,tP=Du.useEffect,rP=Du.useMemo,nP=Du.useDebugValue;hC.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=eP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=rP(function(){function u(h){if(!l){if(l=!0,c=h,h=n(h),i!==void 0&&o.hasValue){var m=o.value;if(i(m,h))return d=m}return d=h}if(m=d,QO(c,h))return m;var v=n(h);return i!==void 0&&i(m,v)?(c=h,m):(c=h,d=v)}var l=!1,c,d,f=r===void 0?null:r;return[function(){return u(t())},f===null?void 0:function(){return u(f())}]},[t,r,n,i]);var a=ZO(e,s[0],s[1]);return tP(function(){o.hasValue=!0,o.value=a},[a]),nP(a),a};fC.exports=hC;var iP=fC.exports;const sP=$v(iP),P0=e=>{let t;const r=new Set,n=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(m=>m(t,h))}},i=()=>t,u={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{r.clear()}},l=t=e(n,i,u);return u},oP=e=>e?P0(e):P0,{useDebugValue:aP}=L,{useSyncExternalStoreWithSelector:uP}=sP,lP=e=>e;function vC(e,t=lP,r){const n=uP(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return aP(n),n}const $0=(e,t)=>{const r=oP(e),n=(i,s=t)=>vC(r,i,s);return Object.assign(n,r),n},cP=(e,t)=>e?$0(e,t):$0;function Ve(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,i]of e)if(!Object.is(i,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var dP={value:()=>{}};function Uu(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Pa(r)}function Pa(e){this._=e}function fP(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Pa.prototype=Uu.prototype={constructor:Pa,on:function(e,t){var r=this._,n=fP(e+"",r),i,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((i=(e=n[s]).type)&&(i=hP(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=n[s]).type)r[i]=M0(r[i],e.name,t);else if(t==null)for(i in r)r[i]=M0(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Pa(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function hP(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function M0(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=dP,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var nv="http://www.w3.org/1999/xhtml";const j0={svg:"http://www.w3.org/2000/svg",xhtml:nv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zu(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),j0.hasOwnProperty(t)?{space:j0[t],local:e}:e}function pP(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===nv&&t.documentElement.namespaceURI===nv?t.createElement(e):t.createElementNS(r,e)}}function gP(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mC(e){var t=zu(e);return(t.local?gP:pP)(t)}function vP(){}function Am(e){return e==null?vP:function(){return this.querySelector(e)}}function mP(e){typeof e!="function"&&(e=Am(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Tt(n,this._parents)}function yP(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function wP(){return[]}function yC(e){return e==null?wP:function(){return this.querySelectorAll(e)}}function _P(e){return function(){return yP(e.apply(this,arguments))}}function bP(e){typeof e=="function"?e=_P(e):e=yC(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(n.push(e.call(u,u.__data__,l,o)),i.push(u));return new Tt(n,i)}function wC(e){return function(){return this.matches(e)}}function _C(e){return function(t){return t.matches(e)}}var SP=Array.prototype.find;function EP(e){return function(){return SP.call(this.children,e)}}function xP(){return this.firstElementChild}function kP(e){return this.select(e==null?xP:EP(typeof e=="function"?e:_C(e)))}var CP=Array.prototype.filter;function TP(){return Array.from(this.children)}function RP(e){return function(){return CP.call(this.children,e)}}function AP(e){return this.selectAll(e==null?TP:RP(typeof e=="function"?e:_C(e)))}function IP(e){typeof e!="function"&&(e=wC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Tt(n,this._parents)}function bC(e){return new Array(e.length)}function NP(){return new Tt(this._enter||this._groups.map(bC),this._parents)}function au(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}au.prototype={constructor:au,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function OP(e){return function(){return e}}function PP(e,t,r,n,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],n[o]=a):r[o]=new au(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function $P(e,t,r,n,i,s,o){var a,u,l=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(f[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(n[a]=u,u.__data__=s[a],l.delete(h)):r[a]=new au(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(f[a])===u&&(i[a]=u)}function MP(e){return e.__data__}function jP(e,t){if(!arguments.length)return Array.from(this,MP);var r=t?$P:PP,n=this._parents,i=this._groups;typeof e!="function"&&(e=OP(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=n[l],d=i[l],f=d.length,h=LP(e.call(c,c&&c.__data__,l,n)),m=h.length,v=a[l]=new Array(m),w=o[l]=new Array(m),p=u[l]=new Array(f);r(c,d,v,w,p,h,t);for(var g=0,y=0,_,E;g<m;++g)if(_=v[g]){for(g>=y&&(y=g+1);!(E=w[y])&&++y<m;);_._next=E||null}}return o=new Tt(o,n),o._enter=a,o._exit=u,o}function LP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qP(){return new Tt(this._exit||this._groups.map(bC),this._parents)}function DP(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function UP(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=r[u],c=n[u],d=l.length,f=a[u]=new Array(d),h,m=0;m<d;++m)(h=l[m]||c[m])&&(f[m]=h);for(;u<i;++u)a[u]=r[u];return new Tt(a,this._parents)}function zP(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],o;--i>=0;)(o=n[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function FP(e){e||(e=BP);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var o=r[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new Tt(i,this._parents).order()}function BP(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function VP(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function HP(){return Array.from(this)}function GP(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var o=n[i];if(o)return o}return null}function WP(){let e=0;for(const t of this)++e;return e}function KP(){return!this.node()}function YP(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function XP(e){return function(){this.removeAttribute(e)}}function JP(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QP(e,t){return function(){this.setAttribute(e,t)}}function ZP(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function e2(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function t2(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function r2(e,t){var r=zu(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?JP:XP:typeof t=="function"?r.local?t2:e2:r.local?ZP:QP)(r,t))}function SC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function n2(e){return function(){this.style.removeProperty(e)}}function i2(e,t,r){return function(){this.style.setProperty(e,t,r)}}function s2(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function o2(e,t,r){return arguments.length>1?this.each((t==null?n2:typeof t=="function"?s2:i2)(e,t,r??"")):Xi(this.node(),e)}function Xi(e,t){return e.style.getPropertyValue(t)||SC(e).getComputedStyle(e,null).getPropertyValue(t)}function a2(e){return function(){delete this[e]}}function u2(e,t){return function(){this[e]=t}}function l2(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function c2(e,t){return arguments.length>1?this.each((t==null?a2:typeof t=="function"?l2:u2)(e,t)):this.node()[e]}function EC(e){return e.trim().split(/^|\s+/)}function Im(e){return e.classList||new xC(e)}function xC(e){this._node=e,this._names=EC(e.getAttribute("class")||"")}xC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function kC(e,t){for(var r=Im(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function CC(e,t){for(var r=Im(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function d2(e){return function(){kC(this,e)}}function f2(e){return function(){CC(this,e)}}function h2(e,t){return function(){(t.apply(this,arguments)?kC:CC)(this,e)}}function p2(e,t){var r=EC(e+"");if(arguments.length<2){for(var n=Im(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?h2:t?d2:f2)(r,t))}function g2(){this.textContent=""}function v2(e){return function(){this.textContent=e}}function m2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function y2(e){return arguments.length?this.each(e==null?g2:(typeof e=="function"?m2:v2)(e)):this.node().textContent}function w2(){this.innerHTML=""}function _2(e){return function(){this.innerHTML=e}}function b2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function S2(e){return arguments.length?this.each(e==null?w2:(typeof e=="function"?b2:_2)(e)):this.node().innerHTML}function E2(){this.nextSibling&&this.parentNode.appendChild(this)}function x2(){return this.each(E2)}function k2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C2(){return this.each(k2)}function T2(e){var t=typeof e=="function"?e:mC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function R2(){return null}function A2(e,t){var r=typeof e=="function"?e:mC(e),n=t==null?R2:typeof t=="function"?t:Am(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function I2(){var e=this.parentNode;e&&e.removeChild(this)}function N2(){return this.each(I2)}function O2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function P2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $2(e){return this.select(e?P2:O2)}function M2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function j2(e){return function(t){e.call(this,t,this.__data__)}}function L2(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function q2(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function D2(e,t,r){return function(){var n=this.__on,i,s=j2(t);if(n){for(var o=0,a=n.length;o<a;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function U2(e,t,r){var n=L2(e+""),i,s=n.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=n[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?D2:q2,i=0;i<s;++i)this.each(a(n[i],t,r));return this}function TC(e,t,r){var n=SC(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function z2(e,t){return function(){return TC(this,e,t)}}function F2(e,t){return function(){return TC(this,e,t.apply(this,arguments))}}function B2(e,t){return this.each((typeof t=="function"?F2:z2)(e,t))}function*V2(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&(yield o)}var RC=[null];function Tt(e,t){this._groups=e,this._parents=t}function Oo(){return new Tt([[document.documentElement]],RC)}function H2(){return this}Tt.prototype=Oo.prototype={constructor:Tt,select:mP,selectAll:bP,selectChild:kP,selectChildren:AP,filter:IP,data:jP,enter:NP,exit:qP,join:DP,merge:UP,selection:H2,order:zP,sort:FP,call:VP,nodes:HP,node:GP,size:WP,empty:KP,each:YP,attr:r2,style:o2,property:c2,classed:p2,text:y2,html:S2,raise:x2,lower:C2,append:T2,insert:A2,remove:N2,clone:$2,datum:M2,on:U2,dispatch:B2,[Symbol.iterator]:V2};function Ot(e){return typeof e=="string"?new Tt([[document.querySelector(e)]],[document.documentElement]):new Tt([[e]],RC)}function G2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wt(e,t){if(e=G2(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const W2={passive:!1},ho={capture:!0,passive:!1};function Hl(e){e.stopImmediatePropagation()}function qi(e){e.preventDefault(),e.stopImmediatePropagation()}function AC(e){var t=e.document.documentElement,r=Ot(e).on("dragstart.drag",qi,ho);"onselectstart"in t?r.on("selectstart.drag",qi,ho):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function IC(e,t){var r=e.document.documentElement,n=Ot(e).on("dragstart.drag",null);t&&(n.on("click.drag",qi,ho),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const sa=e=>()=>e;function iv(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:s,x:o,y:a,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}iv.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function K2(e){return!e.ctrlKey&&!e.button}function Y2(){return this.parentNode}function X2(e,t){return t??{x:e.x,y:e.y}}function J2(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q2(){var e=K2,t=Y2,r=X2,n=J2,i={},s=Uu("start","drag","end"),o=0,a,u,l,c,d=0;function f(_){_.on("mousedown.drag",h).filter(n).on("touchstart.drag",w).on("touchmove.drag",p,W2).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,E){if(!(c||!e.call(this,_,E))){var S=y(this,t.call(this,_,E),_,E,"mouse");S&&(Ot(_.view).on("mousemove.drag",m,ho).on("mouseup.drag",v,ho),AC(_.view),Hl(_),l=!1,a=_.clientX,u=_.clientY,S("start",_))}}function m(_){if(qi(_),!l){var E=_.clientX-a,S=_.clientY-u;l=E*E+S*S>d}i.mouse("drag",_)}function v(_){Ot(_.view).on("mousemove.drag mouseup.drag",null),IC(_.view,l),qi(_),i.mouse("end",_)}function w(_,E){if(e.call(this,_,E)){var S=_.changedTouches,x=t.call(this,_,E),C=S.length,I,P;for(I=0;I<C;++I)(P=y(this,x,_,E,S[I].identifier,S[I]))&&(Hl(_),P("start",_,S[I]))}}function p(_){var E=_.changedTouches,S=E.length,x,C;for(x=0;x<S;++x)(C=i[E[x].identifier])&&(qi(_),C("drag",_,E[x]))}function g(_){var E=_.changedTouches,S=E.length,x,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),x=0;x<S;++x)(C=i[E[x].identifier])&&(Hl(_),C("end",_,E[x]))}function y(_,E,S,x,C,I){var P=s.copy(),T=Wt(I||S,E),q,M,b;if((b=r.call(_,new iv("beforestart",{sourceEvent:S,target:f,identifier:C,active:o,x:T[0],y:T[1],dx:0,dy:0,dispatch:P}),x))!=null)return q=b.x-T[0]||0,M=b.y-T[1]||0,function $(R,j,N){var k=T,O;switch(R){case"start":i[C]=$,O=o++;break;case"end":delete i[C],--o;case"drag":T=Wt(N||j,E),O=o;break}P.call(R,_,new iv(R,{sourceEvent:j,subject:b,target:f,identifier:C,active:O,x:T[0]+q,y:T[1]+M,dx:T[0]-k[0],dy:T[1]-k[1],dispatch:P}),x)}}return f.filter=function(_){return arguments.length?(e=typeof _=="function"?_:sa(!!_),f):e},f.container=function(_){return arguments.length?(t=typeof _=="function"?_:sa(_),f):t},f.subject=function(_){return arguments.length?(r=typeof _=="function"?_:sa(_),f):r},f.touchable=function(_){return arguments.length?(n=typeof _=="function"?_:sa(!!_),f):n},f.on=function(){var _=s.on.apply(s,arguments);return _===s?f:_},f.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,f):Math.sqrt(d)},f}function Nm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function NC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Po(){}var po=.7,uu=1/po,Di="\\s*([+-]?\\d+)\\s*",go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z2=/^#([0-9a-f]{3,8})$/,e$=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),t$=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),r$=new RegExp(`^rgba\\(${Di},${Di},${Di},${go}\\)$`),n$=new RegExp(`^rgba\\(${hr},${hr},${hr},${go}\\)$`),i$=new RegExp(`^hsl\\(${go},${hr},${hr}\\)$`),s$=new RegExp(`^hsla\\(${go},${hr},${hr},${go}\\)$`),L0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nm(Po,vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:q0,formatHex:q0,formatHex8:o$,formatHsl:a$,formatRgb:D0,toString:D0});function q0(){return this.rgb().formatHex()}function o$(){return this.rgb().formatHex8()}function a$(){return OC(this).formatHsl()}function D0(){return this.rgb().formatRgb()}function vo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Z2.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?U0(t):r===3?new ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?oa(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?oa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=e$.exec(e))?new ht(t[1],t[2],t[3],1):(t=t$.exec(e))?new ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r$.exec(e))?oa(t[1],t[2],t[3],t[4]):(t=n$.exec(e))?oa(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=i$.exec(e))?B0(t[1],t[2]/100,t[3]/100,1):(t=s$.exec(e))?B0(t[1],t[2]/100,t[3]/100,t[4]):L0.hasOwnProperty(e)?U0(L0[e]):e==="transparent"?new ht(NaN,NaN,NaN,0):null}function U0(e){return new ht(e>>16&255,e>>8&255,e&255,1)}function oa(e,t,r,n){return n<=0&&(e=t=r=NaN),new ht(e,t,r,n)}function u$(e){return e instanceof Po||(e=vo(e)),e?(e=e.rgb(),new ht(e.r,e.g,e.b,e.opacity)):new ht}function sv(e,t,r,n){return arguments.length===1?u$(e):new ht(e,t,r,n??1)}function ht(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Nm(ht,sv,NC(Po,{brighter(e){return e=e==null?uu:Math.pow(uu,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ht(zn(this.r),zn(this.g),zn(this.b),lu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z0,formatHex:z0,formatHex8:l$,formatRgb:F0,toString:F0}));function z0(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function l$(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function F0(){const e=lu(this.opacity);return`${e===1?"rgb(":"rgba("}${zn(this.r)}, ${zn(this.g)}, ${zn(this.b)}${e===1?")":`, ${e})`}`}function lu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mn(e){return e=zn(e),(e<16?"0":"")+e.toString(16)}function B0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xt(e,t,r,n)}function OC(e){if(e instanceof Xt)return new Xt(e.h,e.s,e.l,e.opacity);if(e instanceof Po||(e=vo(e)),!e)return new Xt;if(e instanceof Xt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Xt(o,a,u,e.opacity)}function c$(e,t,r,n){return arguments.length===1?OC(e):new Xt(e,t,r,n??1)}function Xt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Nm(Xt,c$,NC(Po,{brighter(e){return e=e==null?uu:Math.pow(uu,e),new Xt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new Xt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ht(Gl(e>=240?e-240:e+120,i,n),Gl(e,i,n),Gl(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Xt(V0(this.h),aa(this.s),aa(this.l),lu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lu(this.opacity);return`${e===1?"hsl(":"hsla("}${V0(this.h)}, ${aa(this.s)*100}%, ${aa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function V0(e){return e=(e||0)%360,e<0?e+360:e}function aa(e){return Math.max(0,Math.min(1,e||0))}function Gl(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const PC=e=>()=>e;function d$(e,t){return function(r){return e+r*t}}function f$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function h$(e){return(e=+e)==1?$C:function(t,r){return r-t?f$(t,r,e):PC(isNaN(t)?r:t)}}function $C(e,t){var r=t-e;return r?d$(e,r):PC(isNaN(e)?t:e)}const H0=function e(t){var r=h$(t);function n(i,s){var o=r((i=sv(i)).r,(s=sv(s)).r),a=r(i.g,s.g),u=r(i.b,s.b),l=$C(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=e,n}(1);function Kr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var ov=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wl=new RegExp(ov.source,"g");function p$(e){return function(){return e}}function g$(e){return function(t){return e(t)+""}}function v$(e,t){var r=ov.lastIndex=Wl.lastIndex=0,n,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(n=ov.exec(e))&&(i=Wl.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Kr(n,i)})),r=Wl.lastIndex;return r<t.length&&(s=t.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?g$(u[0].x):p$(t):(t=u.length,function(l){for(var c=0,d;c<t;++c)a[(d=u[c]).i]=d.x(l);return a.join("")})}var G0=180/Math.PI,av={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function MC(e,t,r,n,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,u/=a),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*G0,skewX:Math.atan(u)*G0,scaleX:o,scaleY:a}}var ua;function m$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?av:MC(t.a,t.b,t.c,t.d,t.e,t.f)}function y$(e){return e==null||(ua||(ua=document.createElementNS("http://www.w3.org/2000/svg","g")),ua.setAttribute("transform",e),!(e=ua.transform.baseVal.consolidate()))?av:(e=e.matrix,MC(e.a,e.b,e.c,e.d,e.e,e.f))}function jC(e,t,r,n){function i(l){return l.length?l.pop()+" ":""}function s(l,c,d,f,h,m){if(l!==d||c!==f){var v=h.push("translate(",null,t,null,r);m.push({i:v-4,x:Kr(l,d)},{i:v-2,x:Kr(c,f)})}else(d||f)&&h.push("translate("+d+t+f+r)}function o(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Kr(l,c)})):c&&d.push(i(d)+"rotate("+c+n)}function a(l,c,d,f){l!==c?f.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Kr(l,c)}):c&&d.push(i(d)+"skewX("+c+n)}function u(l,c,d,f,h,m){if(l!==d||c!==f){var v=h.push(i(h)+"scale(",null,",",null,")");m.push({i:v-4,x:Kr(l,d)},{i:v-2,x:Kr(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,d,f),o(l.rotate,c.rotate,d,f),a(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var m=-1,v=f.length,w;++m<v;)d[(w=f[m]).i]=w.x(h);return d.join("")}}}var w$=jC(m$,"px, ","px)","deg)"),_$=jC(y$,", ",")",")"),b$=1e-12;function W0(e){return((e=Math.exp(e))+1/e)/2}function S$(e){return((e=Math.exp(e))-1/e)/2}function E$(e){return((e=Math.exp(2*e))-1)/(e+1)}const x$=function e(t,r,n){function i(s,o){var a=s[0],u=s[1],l=s[2],c=o[0],d=o[1],f=o[2],h=c-a,m=d-u,v=h*h+m*m,w,p;if(v<b$)p=Math.log(f/l)/t,w=function(x){return[a+x*h,u+x*m,l*Math.exp(t*x*p)]};else{var g=Math.sqrt(v),y=(f*f-l*l+n*v)/(2*l*r*g),_=(f*f-l*l-n*v)/(2*f*r*g),E=Math.log(Math.sqrt(y*y+1)-y),S=Math.log(Math.sqrt(_*_+1)-_);p=(S-E)/t,w=function(x){var C=x*p,I=W0(E),P=l/(r*g)*(I*E$(t*C+E)-S$(E));return[a+P*h,u+P*m,l*I/W0(t*C+E)]}}return w.duration=p*1e3*t/Math.SQRT2,w}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,u=a*a;return e(o,a,u)},i}(Math.SQRT2,2,4);var Ji=0,Ts=0,ys=0,LC=1e3,cu,Rs,du=0,Kn=0,Fu=0,mo=typeof performance=="object"&&performance.now?performance:Date,qC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Om(){return Kn||(qC(k$),Kn=mo.now()+Fu)}function k$(){Kn=0}function fu(){this._call=this._time=this._next=null}fu.prototype=DC.prototype={constructor:fu,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Om():+r)+(t==null?0:+t),!this._next&&Rs!==this&&(Rs?Rs._next=this:cu=this,Rs=this),this._call=e,this._time=r,uv()},stop:function(){this._call&&(this._call=null,this._time=1/0,uv())}};function DC(e,t,r){var n=new fu;return n.restart(e,t,r),n}function C$(){Om(),++Ji;for(var e=cu,t;e;)(t=Kn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ji}function K0(){Kn=(du=mo.now())+Fu,Ji=Ts=0;try{C$()}finally{Ji=0,R$(),Kn=0}}function T$(){var e=mo.now(),t=e-du;t>LC&&(Fu-=t,du=e)}function R$(){for(var e,t=cu,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:cu=r);Rs=e,uv(n)}function uv(e){if(!Ji){Ts&&(Ts=clearTimeout(Ts));var t=e-Kn;t>24?(e<1/0&&(Ts=setTimeout(K0,e-mo.now()-Fu)),ys&&(ys=clearInterval(ys))):(ys||(du=mo.now(),ys=setInterval(T$,LC)),Ji=1,qC(K0))}}function Y0(e,t,r){var n=new fu;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var A$=Uu("start","end","cancel","interrupt"),I$=[],UC=0,X0=1,lv=2,$a=3,J0=4,cv=5,Ma=6;function Bu(e,t,r,n,i,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;N$(e,r,{name:t,index:n,group:i,on:A$,tween:I$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:UC})}function Pm(e,t){var r=tr(e,t);if(r.state>UC)throw new Error("too late; already scheduled");return r}function pr(e,t){var r=tr(e,t);if(r.state>$a)throw new Error("too late; already running");return r}function tr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function N$(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=DC(s,0,r.time);function s(l){r.state=X0,r.timer.restart(o,r.delay,r.time),r.delay<=l&&o(l-r.delay)}function o(l){var c,d,f,h;if(r.state!==X0)return u();for(c in n)if(h=n[c],h.name===r.name){if(h.state===$a)return Y0(o);h.state===J0?(h.state=Ma,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[c]):+c<t&&(h.state=Ma,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[c])}if(Y0(function(){r.state===$a&&(r.state=J0,r.timer.restart(a,r.delay,r.time),a(l))}),r.state=lv,r.on.call("start",e,e.__data__,r.index,r.group),r.state===lv){for(r.state=$a,i=new Array(f=r.tween.length),c=0,d=-1;c<f;++c)(h=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++d]=h);i.length=d+1}}function a(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=cv,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);r.state===cv&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Ma,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function ja(e,t){var r=e.__transition,n,i,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}i=n.state>lv&&n.state<cv,n.state=Ma,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}function O$(e){return this.each(function(){ja(this,e)})}function P$(e,t){var r,n;return function(){var i=pr(this,e),s=i.tween;if(s!==r){n=r=s;for(var o=0,a=n.length;o<a;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function $$(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=pr(this,e),o=s.tween;if(o!==n){i=(n=o).slice();for(var a={name:t,value:r},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function M$(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=tr(this.node(),r).tween,i=0,s=n.length,o;i<s;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?P$:$$)(r,e,t))}function $m(e,t,r){var n=e._id;return e.each(function(){var i=pr(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return tr(i,n).value[t]}}function zC(e,t){var r;return(typeof t=="number"?Kr:t instanceof vo?H0:(r=vo(t))?(t=r,H0):v$)(e,t)}function j$(e){return function(){this.removeAttribute(e)}}function L$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function q$(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===n?s:s=t(n=o,r)}}function D$(e,t,r){var n,i=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?s:s=t(n=o,r)}}function U$(e,t,r){var n,i,s;return function(){var o,a=r(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,a)))}}function z$(e,t,r){var n,i,s;return function(){var o,a=r(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,a)))}}function F$(e,t){var r=zu(e),n=r==="transform"?_$:zC;return this.attrTween(e,typeof t=="function"?(r.local?z$:U$)(r,n,$m(this,"attr."+e,t)):t==null?(r.local?L$:j$)(r):(r.local?D$:q$)(r,n,t))}function B$(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function V$(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function H$(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&V$(e,s)),r}return i._value=t,i}function G$(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&B$(e,s)),r}return i._value=t,i}function W$(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=zu(e);return this.tween(r,(n.local?H$:G$)(n,t))}function K$(e,t){return function(){Pm(this,e).delay=+t.apply(this,arguments)}}function Y$(e,t){return t=+t,function(){Pm(this,e).delay=t}}function X$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?K$:Y$)(t,e)):tr(this.node(),t).delay}function J$(e,t){return function(){pr(this,e).duration=+t.apply(this,arguments)}}function Q$(e,t){return t=+t,function(){pr(this,e).duration=t}}function Z$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J$:Q$)(t,e)):tr(this.node(),t).duration}function eM(e,t){if(typeof t!="function")throw new Error;return function(){pr(this,e).ease=t}}function tM(e){var t=this._id;return arguments.length?this.each(eM(t,e)):tr(this.node(),t).ease}function rM(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;pr(this,e).ease=r}}function nM(e){if(typeof e!="function")throw new Error;return this.each(rM(this._id,e))}function iM(e){typeof e!="function"&&(e=wC(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],o=s.length,a=n[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Mr(n,this._parents,this._name,this._id)}function sM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var u=t[a],l=r[a],c=u.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;a<n;++a)o[a]=t[a];return new Mr(o,this._parents,this._name,this._id)}function oM(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function aM(e,t,r){var n,i,s=oM(t)?Pm:pr;return function(){var o=s(this,e),a=o.on;a!==n&&(i=(n=a).copy()).on(t,r),o.on=i}}function uM(e,t){var r=this._id;return arguments.length<2?tr(this.node(),r).on.on(e):this.each(aM(r,e,t))}function lM(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function cM(){return this.on("end.remove",lM(this._id))}function dM(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Am(e));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var a=n[o],u=a.length,l=s[o]=new Array(u),c,d,f=0;f<u;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Bu(l[f],t,r,f,l,tr(c,r)));return new Mr(s,this._parents,t,r)}function fM(e){var t=this._name,r=this._id;typeof e!="function"&&(e=yC(e));for(var n=this._groups,i=n.length,s=[],o=[],a=0;a<i;++a)for(var u=n[a],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=e.call(c,c.__data__,d,u),h,m=tr(c,r),v=0,w=f.length;v<w;++v)(h=f[v])&&Bu(h,t,r,v,f,m);s.push(f),o.push(c)}return new Mr(s,o,t,r)}var hM=Oo.prototype.constructor;function pM(){return new hM(this._groups,this._parents)}function gM(e,t){var r,n,i;return function(){var s=Xi(this,e),o=(this.style.removeProperty(e),Xi(this,e));return s===o?null:s===r&&o===n?i:i=t(r=s,n=o)}}function FC(e){return function(){this.style.removeProperty(e)}}function vM(e,t,r){var n,i=r+"",s;return function(){var o=Xi(this,e);return o===i?null:o===n?s:s=t(n=o,r)}}function mM(e,t,r){var n,i,s;return function(){var o=Xi(this,e),a=r(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),Xi(this,e))),o===u?null:o===n&&u===i?s:(i=u,s=t(n=o,a))}}function yM(e,t){var r,n,i,s="style."+t,o="end."+s,a;return function(){var u=pr(this,e),l=u.on,c=u.value[s]==null?a||(a=FC(t)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(o,i=c),u.on=n}}function wM(e,t,r){var n=(e+="")=="transform"?w$:zC;return t==null?this.styleTween(e,gM(e,n)).on("end.style."+e,FC(e)):typeof t=="function"?this.styleTween(e,mM(e,n,$m(this,"style."+e,t))).each(yM(this._id,e)):this.styleTween(e,vM(e,n,t),r).on("end.style."+e,null)}function _M(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function bM(e,t,r){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&_M(e,o,r)),n}return s._value=t,s}function SM(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,bM(e,t,r??""))}function EM(e){return function(){this.textContent=e}}function xM(e){return function(){var t=e(this);this.textContent=t??""}}function kM(e){return this.tween("text",typeof e=="function"?xM($m(this,"text",e)):EM(e==null?"":e+""))}function CM(e){return function(t){this.textContent=e.call(this,t)}}function TM(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&CM(i)),t}return n._value=e,n}function RM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,TM(e))}function AM(){for(var e=this._name,t=this._id,r=BC(),n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=tr(u,t);Bu(u,e,r,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Mr(n,this._parents,e,r)}function IM(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};r.each(function(){var l=pr(this,n),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var NM=0;function Mr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function BC(){return++NM}var wr=Oo.prototype;Mr.prototype={constructor:Mr,select:dM,selectAll:fM,selectChild:wr.selectChild,selectChildren:wr.selectChildren,filter:iM,merge:sM,selection:pM,transition:AM,call:wr.call,nodes:wr.nodes,node:wr.node,size:wr.size,empty:wr.empty,each:wr.each,on:uM,attr:F$,attrTween:W$,style:wM,styleTween:SM,text:kM,textTween:RM,remove:cM,tween:M$,delay:X$,duration:Z$,ease:tM,easeVarying:nM,end:IM,[Symbol.iterator]:wr[Symbol.iterator]};function OM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var PM={time:null,delay:0,duration:250,ease:OM};function $M(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function MM(e){var t,r;e instanceof Mr?(t=e._id,e=e._name):(t=BC(),(r=PM).time=Om(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var o=n[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&Bu(u,e,t,l,o,r||$M(u,t));return new Mr(n,this._parents,e,t)}Oo.prototype.interrupt=O$;Oo.prototype.transition=MM;const la=e=>()=>e;function jM(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function Cr(e,t,r){this.k=e,this.x=t,this.y=r}Cr.prototype={constructor:Cr,scale:function(e){return e===1?this:new Cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ir=new Cr(1,0,0);Cr.prototype;function Kl(e){e.stopImmediatePropagation()}function ws(e){e.preventDefault(),e.stopImmediatePropagation()}function LM(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function qM(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Q0(){return this.__zoom||Ir}function DM(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function UM(){return navigator.maxTouchPoints||"ontouchstart"in this}function zM(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function VC(){var e=LM,t=qM,r=zM,n=DM,i=UM,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,u=x$,l=Uu("start","zoom","end"),c,d,f,h=500,m=150,v=0,w=10;function p(b){b.property("__zoom",Q0).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",T).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(b,$,R,j){var N=b.selection?b.selection():b;N.property("__zoom",Q0),b!==N?E(b,$,R,j):N.interrupt().each(function(){S(this,arguments).event(j).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(b,$,R,j){p.scaleTo(b,function(){var N=this.__zoom.k,k=typeof $=="function"?$.apply(this,arguments):$;return N*k},R,j)},p.scaleTo=function(b,$,R,j){p.transform(b,function(){var N=t.apply(this,arguments),k=this.__zoom,O=R==null?_(N):typeof R=="function"?R.apply(this,arguments):R,D=k.invert(O),U=typeof $=="function"?$.apply(this,arguments):$;return r(y(g(k,U),O,D),N,o)},R,j)},p.translateBy=function(b,$,R,j){p.transform(b,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),o)},null,j)},p.translateTo=function(b,$,R,j,N){p.transform(b,function(){var k=t.apply(this,arguments),O=this.__zoom,D=j==null?_(k):typeof j=="function"?j.apply(this,arguments):j;return r(Ir.translate(D[0],D[1]).scale(O.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof R=="function"?-R.apply(this,arguments):-R),k,o)},j,N)};function g(b,$){return $=Math.max(s[0],Math.min(s[1],$)),$===b.k?b:new Cr($,b.x,b.y)}function y(b,$,R){var j=$[0]-R[0]*b.k,N=$[1]-R[1]*b.k;return j===b.x&&N===b.y?b:new Cr(b.k,j,N)}function _(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function E(b,$,R,j){b.on("start.zoom",function(){S(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(j).end()}).tween("zoom",function(){var N=this,k=arguments,O=S(N,k).event(j),D=t.apply(N,k),U=R==null?_(D):typeof R=="function"?R.apply(N,k):R,B=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),F=N.__zoom,W=typeof $=="function"?$.apply(N,k):$,J=u(F.invert(U).concat(B/F.k),W.invert(U).concat(B/W.k));return function(re){if(re===1)re=W;else{var le=J(re),ae=B/le[2];re=new Cr(ae,U[0]-le[0]*ae,U[1]-le[1]*ae)}O.zoom(null,re)}})}function S(b,$,R){return!R&&b.__zooming||new x(b,$)}function x(b,$){this.that=b,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,$),this.taps=0}x.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,$){return this.mouse&&b!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var $=Ot(this.that).datum();l.call(b,this.that,new jM(b,{sourceEvent:this.sourceEvent,target:p,type:b,transform:this.that.__zoom,dispatch:l}),$)}};function C(b,...$){if(!e.apply(this,arguments))return;var R=S(this,$).event(b),j=this.__zoom,N=Math.max(s[0],Math.min(s[1],j.k*Math.pow(2,n.apply(this,arguments)))),k=Wt(b);if(R.wheel)(R.mouse[0][0]!==k[0]||R.mouse[0][1]!==k[1])&&(R.mouse[1]=j.invert(R.mouse[0]=k)),clearTimeout(R.wheel);else{if(j.k===N)return;R.mouse=[k,j.invert(k)],ja(this),R.start()}ws(b),R.wheel=setTimeout(O,m),R.zoom("mouse",r(y(g(j,N),R.mouse[0],R.mouse[1]),R.extent,o));function O(){R.wheel=null,R.end()}}function I(b,...$){if(f||!e.apply(this,arguments))return;var R=b.currentTarget,j=S(this,$,!0).event(b),N=Ot(b.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",B,!0),k=Wt(b,R),O=b.clientX,D=b.clientY;AC(b.view),Kl(b),j.mouse=[k,this.__zoom.invert(k)],ja(this),j.start();function U(F){if(ws(F),!j.moved){var W=F.clientX-O,J=F.clientY-D;j.moved=W*W+J*J>v}j.event(F).zoom("mouse",r(y(j.that.__zoom,j.mouse[0]=Wt(F,R),j.mouse[1]),j.extent,o))}function B(F){N.on("mousemove.zoom mouseup.zoom",null),IC(F.view,j.moved),ws(F),j.event(F).end()}}function P(b,...$){if(e.apply(this,arguments)){var R=this.__zoom,j=Wt(b.changedTouches?b.changedTouches[0]:b,this),N=R.invert(j),k=R.k*(b.shiftKey?.5:2),O=r(y(g(R,k),j,N),t.apply(this,$),o);ws(b),a>0?Ot(this).transition().duration(a).call(E,O,j,b):Ot(this).call(p.transform,O,j,b)}}function T(b,...$){if(e.apply(this,arguments)){var R=b.touches,j=R.length,N=S(this,$,b.changedTouches.length===j).event(b),k,O,D,U;for(Kl(b),O=0;O<j;++O)D=R[O],U=Wt(D,this),U=[U,this.__zoom.invert(U),D.identifier],N.touch0?!N.touch1&&N.touch0[2]!==U[2]&&(N.touch1=U,N.taps=0):(N.touch0=U,k=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),k&&(N.taps<2&&(d=U[0],c=setTimeout(function(){c=null},h)),ja(this),N.start())}}function q(b,...$){if(this.__zooming){var R=S(this,$).event(b),j=b.changedTouches,N=j.length,k,O,D,U;for(ws(b),k=0;k<N;++k)O=j[k],D=Wt(O,this),R.touch0&&R.touch0[2]===O.identifier?R.touch0[0]=D:R.touch1&&R.touch1[2]===O.identifier&&(R.touch1[0]=D);if(O=R.that.__zoom,R.touch1){var B=R.touch0[0],F=R.touch0[1],W=R.touch1[0],J=R.touch1[1],re=(re=W[0]-B[0])*re+(re=W[1]-B[1])*re,le=(le=J[0]-F[0])*le+(le=J[1]-F[1])*le;O=g(O,Math.sqrt(re/le)),D=[(B[0]+W[0])/2,(B[1]+W[1])/2],U=[(F[0]+J[0])/2,(F[1]+J[1])/2]}else if(R.touch0)D=R.touch0[0],U=R.touch0[1];else return;R.zoom("touch",r(y(O,D,U),R.extent,o))}}function M(b,...$){if(this.__zooming){var R=S(this,$).event(b),j=b.changedTouches,N=j.length,k,O;for(Kl(b),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),k=0;k<N;++k)O=j[k],R.touch0&&R.touch0[2]===O.identifier?delete R.touch0:R.touch1&&R.touch1[2]===O.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(O=Wt(O,this),Math.hypot(d[0]-O[0],d[1]-O[1])<w)){var D=Ot(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return p.wheelDelta=function(b){return arguments.length?(n=typeof b=="function"?b:la(+b),p):n},p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:la(!!b),p):e},p.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:la(!!b),p):i},p.extent=function(b){return arguments.length?(t=typeof b=="function"?b:la([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),p):t},p.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],p):[s[0],s[1]]},p.translateExtent=function(b){return arguments.length?(o[0][0]=+b[0][0],o[1][0]=+b[1][0],o[0][1]=+b[0][1],o[1][1]=+b[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(b){return arguments.length?(r=b,p):r},p.duration=function(b){return arguments.length?(a=+b,p):a},p.interpolate=function(b){return arguments.length?(u=b,p):u},p.on=function(){var b=l.on.apply(l,arguments);return b===l?p:b},p.clickDistance=function(b){return arguments.length?(v=(b=+b)*b,p):Math.sqrt(v)},p.tapDistance=function(b){return arguments.length?(w=+b,p):w},p}const Vu=A.createContext(null),FM=Vu.Provider,jr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},HC=jr.error001();function pe(e,t){const r=A.useContext(Vu);if(r===null)throw new Error(HC);return vC(r,e,t)}const qe=()=>{const e=A.useContext(Vu);if(e===null)throw new Error(HC);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},BM=e=>e.userSelectionActive?"none":"all";function Mm({position:e,children:t,className:r,style:n,...i}){const s=pe(BM),o=`${e}`.split("-");return L.createElement("div",{className:Je(["react-flow__panel",r,...o]),style:{...n,pointerEvents:s},...i},t)}function VM({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:L.createElement(Mm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},L.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const HM=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:u,className:l,...c})=>{const d=A.useRef(null),[f,h]=A.useState({x:0,y:0,width:0,height:0}),m=Je(["react-flow__edge-textwrapper",l]);return A.useEffect(()=>{if(d.current){const v=d.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[r]),typeof r>"u"||!r?null:L.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...c},i&&L.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),L.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:n},r),u)};var GM=A.memo(HM);const jm=e=>({width:e.offsetWidth,height:e.offsetHeight}),Qi=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Lm=(e={x:0,y:0},t)=>({x:Qi(e.x,t[0][0],t[1][0]),y:Qi(e.y,t[0][1],t[1][1])}),Z0=(e,t,r)=>e<t?Qi(Math.abs(e-t),1,50)/50:e>r?-Qi(Math.abs(e-r),1,50)/50:0,GC=(e,t)=>{const r=Z0(e.x,35,t.width-35)*20,n=Z0(e.y,35,t.height-35)*20;return[r,n]},WC=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},KC=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),yo=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),YC=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),ew=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),WM=(e,t)=>YC(KC(yo(e),yo(t))),dv=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},KM=e=>$t(e.width)&&$t(e.height)&&$t(e.x)&&$t(e.y),$t=e=>!isNaN(e)&&isFinite(e),Ce=Symbol.for("internals"),XC=["Enter"," ","Escape"],YM=(e,t)=>{},XM=e=>"nativeEvent"in e;function fv(e){var i,s;const t=XM(e)?e.nativeEvent:e,r=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const JC=e=>"clientX"in e,hn=(e,t)=>{var s,o;const r=JC(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},hu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},$o=({id:e,path:t,labelX:r,labelY:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:d,markerStart:f,interactionWidth:h=20})=>L.createElement(L.Fragment,null,L.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h&&L.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&$t(r)&&$t(n)?L.createElement(GM,{x:r,y:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l}):null);$o.displayName="BaseEdge";function _s(e,t,r){return r===void 0?r:n=>{const i=t().edges.find(s=>s.id===e);i&&r(n,{...i})}}function QC({sourceX:e,sourceY:t,targetX:r,targetY:n}){const i=Math.abs(r-e)/2,s=r<e?r+i:r-i,o=Math.abs(n-t)/2,a=n<t?n+o:n-o;return[s,a,i,o]}function ZC({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const u=e*.125+i*.375+o*.375+r*.125,l=t*.125+s*.375+a*.375+n*.125,c=Math.abs(u-e),d=Math.abs(l-t);return[u,l,c,d]}var Yn;(function(e){e.Strict="strict",e.Loose="loose"})(Yn||(Yn={}));var jn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(jn||(jn={}));var wo;(function(e){e.Partial="partial",e.Full="full"})(wo||(wo={}));var Zr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Zr||(Zr={}));var pu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(pu||(pu={}));var X;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(X||(X={}));function tw({pos:e,x1:t,y1:r,x2:n,y2:i}){return e===X.Left||e===X.Right?[.5*(t+n),r]:[t,.5*(r+i)]}function eT({sourceX:e,sourceY:t,sourcePosition:r=X.Bottom,targetX:n,targetY:i,targetPosition:s=X.Top}){const[o,a]=tw({pos:r,x1:e,y1:t,x2:n,y2:i}),[u,l]=tw({pos:s,x1:n,y1:i,x2:e,y2:t}),[c,d,f,h]=ZC({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:u,targetControlY:l});return[`M${e},${t} C${o},${a} ${u},${l} ${n},${i}`,c,d,f,h]}const qm=A.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:i=X.Bottom,targetPosition:s=X.Top,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:v})=>{const[w,p,g]=eT({sourceX:e,sourceY:t,sourcePosition:i,targetX:r,targetY:n,targetPosition:s});return L.createElement($o,{path:w,labelX:p,labelY:g,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:v})});qm.displayName="SimpleBezierEdge";const rw={[X.Left]:{x:-1,y:0},[X.Right]:{x:1,y:0},[X.Top]:{x:0,y:-1},[X.Bottom]:{x:0,y:1}},JM=({source:e,sourcePosition:t=X.Bottom,target:r})=>t===X.Left||t===X.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},nw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function QM({source:e,sourcePosition:t=X.Bottom,target:r,targetPosition:n=X.Top,center:i,offset:s}){const o=rw[t],a=rw[n],u={x:e.x+o.x*s,y:e.y+o.y*s},l={x:r.x+a.x*s,y:r.y+a.y*s},c=JM({source:u,sourcePosition:t,target:l}),d=c.x!==0?"x":"y",f=c[d];let h=[],m,v;const w={x:0,y:0},p={x:0,y:0},[g,y,_,E]=QC({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(o[d]*a[d]===-1){m=i.x??g,v=i.y??y;const x=[{x:m,y:u.y},{x:m,y:l.y}],C=[{x:u.x,y:v},{x:l.x,y:v}];o[d]===f?h=d==="x"?x:C:h=d==="x"?C:x}else{const x=[{x:u.x,y:l.y}],C=[{x:l.x,y:u.y}];if(d==="x"?h=o.x===f?C:x:h=o.y===f?x:C,t===n){const M=Math.abs(e[d]-r[d]);if(M<=s){const b=Math.min(s-1,s-M);o[d]===f?w[d]=(u[d]>e[d]?-1:1)*b:p[d]=(l[d]>r[d]?-1:1)*b}}if(t!==n){const M=d==="x"?"y":"x",b=o[d]===a[M],$=u[M]>l[M],R=u[M]<l[M];(o[d]===1&&(!b&&$||b&&R)||o[d]!==1&&(!b&&R||b&&$))&&(h=d==="x"?x:C)}const I={x:u.x+w.x,y:u.y+w.y},P={x:l.x+p.x,y:l.y+p.y},T=Math.max(Math.abs(I.x-h[0].x),Math.abs(P.x-h[0].x)),q=Math.max(Math.abs(I.y-h[0].y),Math.abs(P.y-h[0].y));T>=q?(m=(I.x+P.x)/2,v=h[0].y):(m=h[0].x,v=(I.y+P.y)/2)}return[[e,{x:u.x+w.x,y:u.y+w.y},...h,{x:l.x+p.x,y:l.y+p.y},r],m,v,_,E]}function ZM(e,t,r,n){const i=Math.min(nw(e,t)/2,nw(t,r)/2,n),{x:s,y:o}=t;if(e.x===s&&s===r.x||e.y===o&&o===r.y)return`L${s} ${o}`;if(e.y===o){const l=e.x<r.x?-1:1,c=e.y<r.y?1:-1;return`L ${s+i*l},${o}Q ${s},${o} ${s},${o+i*c}`}const a=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*a},${o}`}function hv({sourceX:e,sourceY:t,sourcePosition:r=X.Bottom,targetX:n,targetY:i,targetPosition:s=X.Top,borderRadius:o=5,centerX:a,centerY:u,offset:l=20}){const[c,d,f,h,m]=QM({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:i},targetPosition:s,center:{x:a,y:u},offset:l});return[c.reduce((w,p,g)=>{let y="";return g>0&&g<c.length-1?y=ZM(c[g-1],p,c[g+1],o):y=`${g===0?"M":"L"}${p.x} ${p.y}`,w+=y,w},""),d,f,h,m]}const Hu=A.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,sourcePosition:d=X.Bottom,targetPosition:f=X.Top,markerEnd:h,markerStart:m,pathOptions:v,interactionWidth:w})=>{const[p,g,y]=hv({sourceX:e,sourceY:t,sourcePosition:d,targetX:r,targetY:n,targetPosition:f,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return L.createElement($o,{path:p,labelX:g,labelY:y,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:h,markerStart:m,interactionWidth:w})});Hu.displayName="SmoothStepEdge";const Dm=A.memo(e=>{var t;return L.createElement(Hu,{...e,pathOptions:A.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Dm.displayName="StepEdge";function ej({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[i,s,o,a]=QC({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,i,s,o,a]}const Um=A.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:d,markerStart:f,interactionWidth:h})=>{const[m,v,w]=ej({sourceX:e,sourceY:t,targetX:r,targetY:n});return L.createElement($o,{path:m,labelX:v,labelY:w,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:d,markerStart:f,interactionWidth:h})});Um.displayName="StraightEdge";function ca(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function iw({pos:e,x1:t,y1:r,x2:n,y2:i,c:s}){switch(e){case X.Left:return[t-ca(t-n,s),r];case X.Right:return[t+ca(n-t,s),r];case X.Top:return[t,r-ca(r-i,s)];case X.Bottom:return[t,r+ca(i-r,s)]}}function tT({sourceX:e,sourceY:t,sourcePosition:r=X.Bottom,targetX:n,targetY:i,targetPosition:s=X.Top,curvature:o=.25}){const[a,u]=iw({pos:r,x1:e,y1:t,x2:n,y2:i,c:o}),[l,c]=iw({pos:s,x1:n,y1:i,x2:e,y2:t,c:o}),[d,f,h,m]=ZC({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${u} ${l},${c} ${n},${i}`,d,f,h,m]}const gu=A.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:i=X.Bottom,targetPosition:s=X.Top,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,pathOptions:v,interactionWidth:w})=>{const[p,g,y]=tT({sourceX:e,sourceY:t,sourcePosition:i,targetX:r,targetY:n,targetPosition:s,curvature:v==null?void 0:v.curvature});return L.createElement($o,{path:p,labelX:g,labelY:y,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:m,interactionWidth:w})});gu.displayName="BezierEdge";const zm=A.createContext(null),tj=zm.Provider;zm.Consumer;const rj=()=>A.useContext(zm),nj=e=>"id"in e&&"source"in e&&"target"in e,ij=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,pv=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,sj=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),oj=(e,t)=>{if(!e.source||!e.target)return t;let r;return nj(e)?r={...e}:r={...e,id:ij(e)},sj(r,t)?t:t.concat(r)},gv=({x:e,y:t},[r,n,i],s,[o,a])=>{const u={x:(e-r)/i,y:(t-n)/i};return s?{x:o*Math.round(u.x/o),y:a*Math.round(u.y/a)}:u},rT=({x:e,y:t},[r,n,i])=>({x:e*i+r,y:t*i+n}),Fn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],i={x:e.position.x-r,y:e.position.y-n};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:i}},Gu=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,i)=>{const{x:s,y:o}=Fn(i,t).positionAbsolute;return KC(n,yo({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return YC(r)},nT=(e,t,[r,n,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const u={x:(t.x-r)/i,y:(t.y-n)/i,width:t.width/i,height:t.height/i},l=[];return e.forEach(c=>{const{width:d,height:f,selectable:h=!0,hidden:m=!1}=c;if(o&&!h||m)return!1;const{positionAbsolute:v}=Fn(c,a),w={x:v.x,y:v.y,width:d||0,height:f||0},p=dv(u,w),g=typeof d>"u"||typeof f>"u"||d===null||f===null,y=s&&p>0,_=(d||0)*(f||0);(g||y||p>=_||c.dragging)&&l.push(c)}),l},iT=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},sT=(e,t,r,n,i,s=.1)=>{const o=t/(e.width*(1+s)),a=r/(e.height*(1+s)),u=Math.min(o,a),l=Qi(u,n,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*l,h=r/2-d*l;return{x:f,y:h,zoom:l}},Rn=(e,t=0)=>e.transition().duration(t);function sw(e,t,r,n){return(t[r]||[]).reduce((i,s)=>{var o,a;return`${e.id}-${s.id}-${r}`!==n&&i.push({id:s.id||null,type:r,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function aj(e,t,r,n,i,s){const{x:o,y:a}=hn(e),l=t.elementsFromPoint(o,a).find(m=>m.classList.contains("react-flow__handle"));if(l){const m=l.getAttribute("data-nodeid");if(m){const v=Fm(void 0,l),w=l.getAttribute("data-handleid"),p=s({nodeId:m,id:w,type:v});if(p){const g=i.find(y=>y.nodeId===m&&y.type===v&&y.id===w);return{handle:{id:w,type:v,nodeId:m,x:(g==null?void 0:g.x)||r.x,y:(g==null?void 0:g.y)||r.y},validHandleResult:p}}}}let c=[],d=1/0;if(i.forEach(m=>{const v=Math.sqrt((m.x-r.x)**2+(m.y-r.y)**2);if(v<=n){const w=s(m);v<=d&&(v<d?c=[{handle:m,validHandleResult:w}]:v===d&&c.push({handle:m,validHandleResult:w}),d=v)}}),!c.length)return{handle:null,validHandleResult:oT()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:m})=>m.isValid),h=c.some(({handle:m})=>m.type==="target");return c.find(({handle:m,validHandleResult:v})=>h?m.type==="target":f?v.isValid:!0)||c[0]}const uj={source:null,target:null,sourceHandle:null,targetHandle:null},oT=()=>({handleDomNode:null,isValid:!1,connection:uj,endHandle:null});function aT(e,t,r,n,i,s,o){const a=i==="target",u=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),l={...oT(),handleDomNode:u};if(u){const c=Fm(void 0,u),d=u.getAttribute("data-nodeid"),f=u.getAttribute("data-handleid"),h=u.classList.contains("connectable"),m=u.classList.contains("connectableend"),v={source:a?d:r,sourceHandle:a?f:n,target:a?r:d,targetHandle:a?n:f};l.connection=v,h&&m&&(t===Yn.Strict?a&&c==="source"||!a&&c==="target":d!==r||f!==n)&&(l.endHandle={nodeId:d,handleId:f,type:c},l.isValid=s(v))}return l}function lj({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((i,s)=>{if(s[Ce]){const{handleBounds:o}=s[Ce];let a=[],u=[];o&&(a=sw(s,o,"source",`${t}-${r}-${n}`),u=sw(s,o,"target",`${t}-${r}-${n}`)),i.push(...a,...u)}return i},[])}function Fm(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Yl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function cj(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function uT({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:u,onReconnectEnd:l}){const c=WC(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:m,onConnectStart:v,panBy:w,getNodes:p,cancelConnection:g}=s();let y=0,_;const{x:E,y:S}=hn(e),x=c==null?void 0:c.elementFromPoint(E,S),C=Fm(u,x),I=f==null?void 0:f.getBoundingClientRect();if(!I||!C)return;let P,T=hn(e,I),q=!1,M=null,b=!1,$=null;const R=lj({nodes:p(),nodeId:r,handleId:t,handleType:C}),j=()=>{if(!h)return;const[O,D]=GC(T,I);w({x:O,y:D}),y=requestAnimationFrame(j)};o({connectionPosition:T,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:r,handleId:t,type:C},connectionEndHandle:null}),v==null||v(e,{nodeId:r,handleId:t,handleType:C});function N(O){const{transform:D}=s();T=hn(O,I);const{handle:U,validHandleResult:B}=aj(O,c,gv(T,D,!1,[1,1]),m,R,F=>aT(F,d,r,t,i?"target":"source",a,c));if(_=U,q||(j(),q=!0),$=B.handleDomNode,M=B.connection,b=B.isValid,o({connectionPosition:_&&b?rT({x:_.x,y:_.y},D):T,connectionStatus:cj(!!_,b),connectionEndHandle:B.endHandle}),!_&&!b&&!$)return Yl(P);M.source!==M.target&&$&&(Yl(P),P=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",b),$.classList.toggle("react-flow__handle-valid",b))}function k(O){var D,U;(_||$)&&M&&b&&(n==null||n(M)),(U=(D=s()).onConnectEnd)==null||U.call(D,O),u&&(l==null||l(O)),Yl(P),g(),cancelAnimationFrame(y),q=!1,b=!1,M=null,$=null,c.removeEventListener("mousemove",N),c.removeEventListener("mouseup",k),c.removeEventListener("touchmove",N),c.removeEventListener("touchend",k)}c.addEventListener("mousemove",N),c.addEventListener("mouseup",k),c.addEventListener("touchmove",N),c.addEventListener("touchend",k)}const ow=()=>!0,dj=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),fj=(e,t,r)=>n=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=n;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===r}},lT=A.forwardRef(({type:e="source",position:t=X.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:u,className:l,onMouseDown:c,onTouchStart:d,...f},h)=>{var I,P;const m=o||null,v=e==="target",w=qe(),p=rj(),{connectOnClick:g,noPanClassName:y}=pe(dj,Ve),{connecting:_,clickConnecting:E}=pe(fj(p,m,e),Ve);p||(P=(I=w.getState()).onError)==null||P.call(I,"010",jr.error010());const S=T=>{const{defaultEdgeOptions:q,onConnect:M,hasDefaultEdges:b}=w.getState(),$={...q,...T};if(b){const{edges:R,setEdges:j}=w.getState();j(oj($,R))}M==null||M($),a==null||a($)},x=T=>{if(!p)return;const q=JC(T);i&&(q&&T.button===0||!q)&&uT({event:T,handleId:m,nodeId:p,onConnect:S,isTarget:v,getState:w.getState,setState:w.setState,isValidConnection:r||w.getState().isValidConnection||ow}),q?c==null||c(T):d==null||d(T)},C=T=>{const{onClickConnectStart:q,onClickConnectEnd:M,connectionClickStartHandle:b,connectionMode:$,isValidConnection:R}=w.getState();if(!p||!b&&!i)return;if(!b){q==null||q(T,{nodeId:p,handleId:m,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:m}});return}const j=WC(T.target),N=r||R||ow,{connection:k,isValid:O}=aT({nodeId:p,id:m,type:e},$,b.nodeId,b.handleId||null,b.type,N,j);O&&S(k),M==null||M(T),w.setState({connectionClickStartHandle:null})};return L.createElement("div",{"data-handleid":m,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${m}-${e}`,className:Je(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,l,{source:!v,target:v,connectable:n,connectablestart:i,connectableend:s,connecting:E,connectionindicator:n&&(i&&!_||s&&_)}]),onMouseDown:x,onTouchStart:x,onClick:g?C:void 0,ref:h,...f},u)});lT.displayName="Handle";var Zi=A.memo(lT);const cT=({data:e,isConnectable:t,targetPosition:r=X.Top,sourcePosition:n=X.Bottom})=>L.createElement(L.Fragment,null,L.createElement(Zi,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,L.createElement(Zi,{type:"source",position:n,isConnectable:t}));cT.displayName="DefaultNode";var vv=A.memo(cT);const dT=({data:e,isConnectable:t,sourcePosition:r=X.Bottom})=>L.createElement(L.Fragment,null,e==null?void 0:e.label,L.createElement(Zi,{type:"source",position:r,isConnectable:t}));dT.displayName="InputNode";var fT=A.memo(dT);const hT=({data:e,isConnectable:t,targetPosition:r=X.Top})=>L.createElement(L.Fragment,null,L.createElement(Zi,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);hT.displayName="OutputNode";var pT=A.memo(hT);const Bm=()=>null;Bm.displayName="GroupNode";const hj=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),da=e=>e.id;function pj(e,t){return Ve(e.selectedNodes.map(da),t.selectedNodes.map(da))&&Ve(e.selectedEdges.map(da),t.selectedEdges.map(da))}const gT=A.memo(({onSelectionChange:e})=>{const t=qe(),{selectedNodes:r,selectedEdges:n}=pe(hj,pj);return A.useEffect(()=>{const i={nodes:r,edges:n};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[r,n,e]),null});gT.displayName="SelectionListener";const gj=e=>!!e.onSelectionChange;function vj({onSelectionChange:e}){const t=pe(gj);return e||t?L.createElement(gT,{onSelectionChange:e}):null}const mj=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ii(e,t){A.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ie(e,t,r){A.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const yj=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:u,nodesDraggable:l,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:m,minZoom:v,maxZoom:w,nodeExtent:p,onNodesChange:g,onEdgesChange:y,elementsSelectable:_,connectionMode:E,snapGrid:S,snapToGrid:x,translateExtent:C,connectOnClick:I,defaultEdgeOptions:P,fitView:T,fitViewOptions:q,onNodesDelete:M,onEdgesDelete:b,onNodeDrag:$,onNodeDragStart:R,onNodeDragStop:j,onSelectionDrag:N,onSelectionDragStart:k,onSelectionDragStop:O,noPanClassName:D,nodeOrigin:U,rfId:B,autoPanOnConnect:F,autoPanOnNodeDrag:W,onError:J,connectionRadius:re,isValidConnection:le,nodeDragThreshold:ae})=>{const{setNodes:oe,setEdges:$e,setDefaultNodesAndEdges:Te,setMinZoom:He,setMaxZoom:De,setTranslateExtent:ee,setNodeExtent:Ue,reset:K}=pe(mj,Ve),G=qe();return A.useEffect(()=>{const Ee=n==null?void 0:n.map(Ut=>({...Ut,...P}));return Te(r,Ee),()=>{K()}},[]),ie("defaultEdgeOptions",P,G.setState),ie("connectionMode",E,G.setState),ie("onConnect",i,G.setState),ie("onConnectStart",s,G.setState),ie("onConnectEnd",o,G.setState),ie("onClickConnectStart",a,G.setState),ie("onClickConnectEnd",u,G.setState),ie("nodesDraggable",l,G.setState),ie("nodesConnectable",c,G.setState),ie("nodesFocusable",d,G.setState),ie("edgesFocusable",f,G.setState),ie("edgesUpdatable",h,G.setState),ie("elementsSelectable",_,G.setState),ie("elevateNodesOnSelect",m,G.setState),ie("snapToGrid",x,G.setState),ie("snapGrid",S,G.setState),ie("onNodesChange",g,G.setState),ie("onEdgesChange",y,G.setState),ie("connectOnClick",I,G.setState),ie("fitViewOnInit",T,G.setState),ie("fitViewOnInitOptions",q,G.setState),ie("onNodesDelete",M,G.setState),ie("onEdgesDelete",b,G.setState),ie("onNodeDrag",$,G.setState),ie("onNodeDragStart",R,G.setState),ie("onNodeDragStop",j,G.setState),ie("onSelectionDrag",N,G.setState),ie("onSelectionDragStart",k,G.setState),ie("onSelectionDragStop",O,G.setState),ie("noPanClassName",D,G.setState),ie("nodeOrigin",U,G.setState),ie("rfId",B,G.setState),ie("autoPanOnConnect",F,G.setState),ie("autoPanOnNodeDrag",W,G.setState),ie("onError",J,G.setState),ie("connectionRadius",re,G.setState),ie("isValidConnection",le,G.setState),ie("nodeDragThreshold",ae,G.setState),ii(e,oe),ii(t,$e),ii(v,He),ii(w,De),ii(C,ee),ii(p,Ue),null},aw={display:"none"},wj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vT="react-flow__node-desc",mT="react-flow__edge-desc",_j="react-flow__aria-live",bj=e=>e.ariaLiveMessage;function Sj({rfId:e}){const t=pe(bj);return L.createElement("div",{id:`${_j}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:wj},t)}function Ej({rfId:e,disableKeyboardA11y:t}){return L.createElement(L.Fragment,null,L.createElement("div",{id:`${vT}-${e}`,style:aw},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),L.createElement("div",{id:`${mT}-${e}`,style:aw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&L.createElement(Sj,{rfId:e}))}var _o=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=A.useState(!1),i=A.useRef(!1),s=A.useRef(new Set([])),[o,a]=A.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=l.reduce((d,f)=>d.concat(...f),[]);return[l,c]}return[[],[]]},[e]);return A.useEffect(()=>{const u=typeof document<"u"?document:null,l=(t==null?void 0:t.target)||u;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&fv(h))return!1;const v=lw(h.code,a);s.current.add(h[v]),uw(o,s.current,!1)&&(h.preventDefault(),n(!0))},d=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&fv(h))return!1;const v=lw(h.code,a);uw(o,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(h[v]),h.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),n(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,n]),r};function uw(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(i=>t.has(i)))}function lw(e,t){return t.includes(e)?"code":"key"}function yT(e,t,r,n){var a,u;const i=e.parentNode||e.parentId;if(!i)return r;const s=t.get(i),o=Fn(s,n);return yT(s,t,{x:(r.x??0)+o.x,y:(r.y??0)+o.y,z:(((a=s[Ce])==null?void 0:a.z)??0)>(r.z??0)?((u=s[Ce])==null?void 0:u.z)??0:r.z??0},n)}function wT(e,t,r){e.forEach(n=>{var s;const i=n.parentNode||n.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||r!=null&&r[n.id]){const{x:o,y:a,z:u}=yT(n,e,{...n.position,z:((s=n[Ce])==null?void 0:s.z)??0},t);n.positionAbsolute={x:o,y:a},n[Ce].z=u,r!=null&&r[n.id]&&(n[Ce].isParent=!0)}})}function Xl(e,t,r,n){const i=new Map,s={},o=n?1e3:0;return e.forEach(a=>{var h;const u=($t(a.zIndex)?a.zIndex:0)+(a.selected?o:0),l=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const f=(l==null?void 0:l.type)&&(l==null?void 0:l.type)!==a.type;Object.defineProperty(c,Ce,{enumerable:!1,value:{handleBounds:f||(h=l==null?void 0:l[Ce])==null?void 0:h.handleBounds,z:u}}),i.set(a.id,c)}),wT(i,r,s),i}function _T(e,t={}){const{getNodes:r,width:n,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:u,fitViewOnInitDone:l,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!l&&c;if(a&&u&&(f||!t.initial)){const m=r().filter(w=>{var g;const p=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(g=t.nodes)!=null&&g.length?p&&t.nodes.some(y=>y.id===w.id):p}),v=m.every(w=>w.width&&w.height);if(m.length>0&&v){const w=Gu(m,d),{x:p,y:g,zoom:y}=sT(w,n,i,t.minZoom??s,t.maxZoom??o,t.padding??.1),_=Ir.translate(p,g).scale(y);return typeof t.duration=="number"&&t.duration>0?a.transform(Rn(u,t.duration),_):a.transform(u,_),!0}}return!1}function xj(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[Ce]:n[Ce],selected:r.selected})}),new Map(t)}function kj(e,t){return t.map(r=>{const n=e.find(i=>i.id===r.id);return n&&(r.selected=n.selected),r})}function fa({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:u,hasDefaultEdges:l}=r();e!=null&&e.length&&(u&&n({nodeInternals:xj(e,i)}),o==null||o(e)),t!=null&&t.length&&(l&&n({edges:kj(t,s)}),a==null||a(t))}const si=()=>{},Cj={zoomIn:si,zoomOut:si,zoomTo:si,getZoom:()=>1,setViewport:si,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:si,fitBounds:si,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Tj=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Rj=()=>{const e=qe(),{d3Zoom:t,d3Selection:r}=pe(Tj,Ve);return A.useMemo(()=>r&&t?{zoomIn:i=>t.scaleBy(Rn(r,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Rn(r,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(Rn(r,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[o,a,u]=e.getState().transform,l=Ir.translate(i.x??o,i.y??a).scale(i.zoom??u);t.transform(Rn(r,s==null?void 0:s.duration),l)},getViewport:()=>{const[i,s,o]=e.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>_T(e.getState,i),setCenter:(i,s,o)=>{const{width:a,height:u,maxZoom:l}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:l,d=a/2-i*c,f=u/2-s*c,h=Ir.translate(d,f).scale(c);t.transform(Rn(r,o==null?void 0:o.duration),h)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:u,maxZoom:l}=e.getState(),{x:c,y:d,zoom:f}=sT(i,o,a,u,l,(s==null?void 0:s.padding)??.1),h=Ir.translate(c,d).scale(f);t.transform(Rn(r,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),gv(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:u}=e.getState();if(!u)return i;const{x:l,y:c}=u.getBoundingClientRect(),d={x:i.x-l,y:i.y-c};return gv(d,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=e.getState();if(!o)return i;const{x:a,y:u}=o.getBoundingClientRect(),l=rT(i,s);return{x:l.x+a,y:l.y+u}},viewportInitialized:!0}:Cj,[t,r])};function Vm(){const e=Rj(),t=qe(),r=A.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),n=A.useCallback(v=>t.getState().nodeInternals.get(v),[]),i=A.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(w=>({...w}))},[]),s=A.useCallback(v=>{const{edges:w=[]}=t.getState();return w.find(p=>p.id===v)},[]),o=A.useCallback(v=>{const{getNodes:w,setNodes:p,hasDefaultNodes:g,onNodesChange:y}=t.getState(),_=w(),E=typeof v=="function"?v(_):v;if(g)p(E);else if(y){const S=E.length===0?_.map(x=>({type:"remove",id:x.id})):E.map(x=>({item:x,type:"reset"}));y(S)}},[]),a=A.useCallback(v=>{const{edges:w=[],setEdges:p,hasDefaultEdges:g,onEdgesChange:y}=t.getState(),_=typeof v=="function"?v(w):v;if(g)p(_);else if(y){const E=_.length===0?w.map(S=>({type:"remove",id:S.id})):_.map(S=>({item:S,type:"reset"}));y(E)}},[]),u=A.useCallback(v=>{const w=Array.isArray(v)?v:[v],{getNodes:p,setNodes:g,hasDefaultNodes:y,onNodesChange:_}=t.getState();if(y){const S=[...p(),...w];g(S)}else if(_){const E=w.map(S=>({item:S,type:"add"}));_(E)}},[]),l=A.useCallback(v=>{const w=Array.isArray(v)?v:[v],{edges:p=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:_}=t.getState();if(y)g([...p,...w]);else if(_){const E=w.map(S=>({item:S,type:"add"}));_(E)}},[]),c=A.useCallback(()=>{const{getNodes:v,edges:w=[],transform:p}=t.getState(),[g,y,_]=p;return{nodes:v().map(E=>({...E})),edges:w.map(E=>({...E})),viewport:{x:g,y,zoom:_}}},[]),d=A.useCallback(({nodes:v,edges:w})=>{const{nodeInternals:p,getNodes:g,edges:y,hasDefaultNodes:_,hasDefaultEdges:E,onNodesDelete:S,onEdgesDelete:x,onNodesChange:C,onEdgesChange:I}=t.getState(),P=(v||[]).map($=>$.id),T=(w||[]).map($=>$.id),q=g().reduce(($,R)=>{const j=R.parentNode||R.parentId,N=!P.includes(R.id)&&j&&$.find(O=>O.id===j);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(P.includes(R.id)||N)&&$.push(R),$},[]),M=y.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),b=M.filter($=>T.includes($.id));if(q||b){const $=iT(q,M),R=[...b,...$],j=R.reduce((N,k)=>(N.includes(k.id)||N.push(k.id),N),[]);if((E||_)&&(E&&t.setState({edges:y.filter(N=>!j.includes(N.id))}),_&&(q.forEach(N=>{p.delete(N.id)}),t.setState({nodeInternals:new Map(p)}))),j.length>0&&(x==null||x(R),I&&I(j.map(N=>({id:N,type:"remove"})))),q.length>0&&(S==null||S(q),C)){const N=q.map(k=>({id:k.id,type:"remove"}));C(N)}}},[]),f=A.useCallback(v=>{const w=KM(v),p=w?null:t.getState().nodeInternals.get(v.id);return!w&&!p?[null,null,w]:[w?v:ew(p),p,w]},[]),h=A.useCallback((v,w=!0,p)=>{const[g,y,_]=f(v);return g?(p||t.getState().getNodes()).filter(E=>{if(!_&&(E.id===y.id||!E.positionAbsolute))return!1;const S=ew(E),x=dv(S,g);return w&&x>0||x>=g.width*g.height}):[]},[]),m=A.useCallback((v,w,p=!0)=>{const[g]=f(v);if(!g)return!1;const y=dv(g,w);return p&&y>0||y>=g.width*g.height},[]);return A.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:u,addEdges:l,toObject:c,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:m}),[e,r,n,i,s,o,a,u,l,c,d,h,m])}const Aj={actInsideInputWithModifier:!1};var Ij=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=qe(),{deleteElements:n}=Vm(),i=_o(e,Aj),s=_o(t);A.useEffect(()=>{if(i){const{edges:o,getNodes:a}=r.getState(),u=a().filter(c=>c.selected),l=o.filter(c=>c.selected);n({nodes:u,edges:l}),r.setState({nodesSelectionActive:!1})}},[i]),A.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])};function Nj(e){const t=qe();A.useEffect(()=>{let r;const n=()=>{var s,o;if(!e.current)return;const i=jm(e.current);(i.height===0||i.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",jr.error004())),t.setState({width:i.width||500,height:i.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const Hm={position:"absolute",width:"100%",height:"100%",top:0,left:0},Oj=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ha=e=>({x:e.x,y:e.y,zoom:e.k}),oi=(e,t)=>e.target.closest(`.${t}`),cw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),dw=e=>{const t=e.ctrlKey&&hu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Pj=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),$j=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=jn.Free,zoomOnDoubleClick:l=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:m,maxZoom:v,zoomActivationKeyCode:w,preventScrolling:p=!0,children:g,noWheelClassName:y,noPanClassName:_})=>{const E=A.useRef(),S=qe(),x=A.useRef(!1),C=A.useRef(!1),I=A.useRef(null),P=A.useRef({x:0,y:0,zoom:0}),{d3Zoom:T,d3Selection:q,d3ZoomHandler:M,userSelectionActive:b}=pe(Pj,Ve),$=_o(w),R=A.useRef(0),j=A.useRef(!1),N=A.useRef();return Nj(I),A.useEffect(()=>{if(I.current){const k=I.current.getBoundingClientRect(),O=VC().scaleExtent([m,v]).translateExtent(h),D=Ot(I.current).call(O),U=Ir.translate(f.x,f.y).scale(Qi(f.zoom,m,v)),B=[[0,0],[k.width,k.height]],F=O.constrain()(U,B,h);O.transform(D,F),O.wheelDelta(dw),S.setState({d3Zoom:O,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[F.x,F.y,F.k],domNode:I.current.closest(".react-flow")})}},[]),A.useEffect(()=>{q&&T&&(o&&!$&&!b?q.on("wheel.zoom",k=>{if(oi(k,y))return!1;k.preventDefault(),k.stopImmediatePropagation();const O=q.property("__zoom").k||1;if(k.ctrlKey&&s){const le=Wt(k),ae=dw(k),oe=O*Math.pow(2,ae);T.scaleTo(q,oe,le,k);return}const D=k.deltaMode===1?20:1;let U=u===jn.Vertical?0:k.deltaX*D,B=u===jn.Horizontal?0:k.deltaY*D;!hu()&&k.shiftKey&&u!==jn.Vertical&&(U=k.deltaY*D,B=0),T.translateBy(q,-(U/O)*a,-(B/O)*a,{internal:!0});const F=ha(q.property("__zoom")),{onViewportChangeStart:W,onViewportChange:J,onViewportChangeEnd:re}=S.getState();clearTimeout(N.current),j.current||(j.current=!0,t==null||t(k,F),W==null||W(F)),j.current&&(e==null||e(k,F),J==null||J(F),N.current=setTimeout(()=>{r==null||r(k,F),re==null||re(F),j.current=!1},150))},{passive:!1}):typeof M<"u"&&q.on("wheel.zoom",function(k,O){if(!p&&k.type==="wheel"&&!k.ctrlKey||oi(k,y))return null;k.preventDefault(),M.call(this,k,O)},{passive:!1}))},[b,o,u,q,T,M,$,s,p,y,t,e,r]),A.useEffect(()=>{T&&T.on("start",k=>{var U,B;if(!k.sourceEvent||k.sourceEvent.internal)return null;R.current=(U=k.sourceEvent)==null?void 0:U.button;const{onViewportChangeStart:O}=S.getState(),D=ha(k.transform);x.current=!0,P.current=D,((B=k.sourceEvent)==null?void 0:B.type)==="mousedown"&&S.setState({paneDragging:!0}),O==null||O(D),t==null||t(k.sourceEvent,D)})},[T,t]),A.useEffect(()=>{T&&(b&&!x.current?T.on("zoom",null):b||T.on("zoom",k=>{var D;const{onViewportChange:O}=S.getState();if(S.setState({transform:[k.transform.x,k.transform.y,k.transform.k]}),C.current=!!(n&&cw(d,R.current??0)),(e||O)&&!((D=k.sourceEvent)!=null&&D.internal)){const U=ha(k.transform);O==null||O(U),e==null||e(k.sourceEvent,U)}}))},[b,T,e,d,n]),A.useEffect(()=>{T&&T.on("end",k=>{if(!k.sourceEvent||k.sourceEvent.internal)return null;const{onViewportChangeEnd:O}=S.getState();if(x.current=!1,S.setState({paneDragging:!1}),n&&cw(d,R.current??0)&&!C.current&&n(k.sourceEvent),C.current=!1,(r||O)&&Oj(P.current,k.transform)){const D=ha(k.transform);P.current=D,clearTimeout(E.current),E.current=setTimeout(()=>{O==null||O(D),r==null||r(k.sourceEvent,D)},o?150:0)}})},[T,o,d,r,n]),A.useEffect(()=>{T&&T.filter(k=>{const O=$||i,D=s&&k.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&k.button===1&&k.type==="mousedown"&&(oi(k,"react-flow__node")||oi(k,"react-flow__edge")))return!0;if(!d&&!O&&!o&&!l&&!s||b||!l&&k.type==="dblclick"||oi(k,y)&&k.type==="wheel"||oi(k,_)&&(k.type!=="wheel"||o&&k.type==="wheel"&&!$)||!s&&k.ctrlKey&&k.type==="wheel"||!O&&!o&&!D&&k.type==="wheel"||!d&&(k.type==="mousedown"||k.type==="touchstart")||Array.isArray(d)&&!d.includes(k.button)&&k.type==="mousedown")return!1;const U=Array.isArray(d)&&d.includes(k.button)||!k.button||k.button<=1;return(!k.ctrlKey||k.type==="wheel")&&U})},[b,T,i,s,o,l,d,c,$]),L.createElement("div",{className:"react-flow__renderer",ref:I,style:Hm},g)},Mj=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function jj(){const{userSelectionActive:e,userSelectionRect:t}=pe(Mj,Ve);return e&&t?L.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function fw(e,t){const r=t.parentNode||t.parentId,n=e.find(i=>i.id===r);if(n){const i=t.position.x+t.width-n.width,s=t.position.y+t.height-n.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,i>0&&(n.style.width+=i),s>0&&(n.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function bT(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,i)=>{const s=e.filter(a=>a.id===i.id);if(s.length===0)return n.push(i),n;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&fw(n,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&fw(n,o);break}case"remove":return n}return n.push(o),n},r)}function Gm(e,t){return bT(e,t)}function Lj(e,t){return bT(e,t)}const Yr=(e,t)=>({id:e,type:"select",selected:t});function Ii(e,t){return e.reduce((r,n)=>{const i=t.includes(n.id);return!n.selected&&i?(n.selected=!0,r.push(Yr(n.id,!0))):n.selected&&!i&&(n.selected=!1,r.push(Yr(n.id,!1))),r},[])}const Jl=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},qj=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),ST=A.memo(({isSelecting:e,selectionMode:t=wo.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:u,onPaneMouseMove:l,onPaneMouseLeave:c,children:d})=>{const f=A.useRef(null),h=qe(),m=A.useRef(0),v=A.useRef(0),w=A.useRef(),{userSelectionActive:p,elementsSelectable:g,dragging:y}=pe(qj,Ve),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,v.current=0},E=M=>{s==null||s(M),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},S=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}o==null||o(M)},x=a?M=>a(M):void 0,C=M=>{const{resetSelectedElements:b,domNode:$}=h.getState();if(w.current=$==null?void 0:$.getBoundingClientRect(),!g||!e||M.button!==0||M.target!==f.current||!w.current)return;const{x:R,y:j}=hn(M,w.current);b(),h.setState({userSelectionRect:{width:0,height:0,startX:R,startY:j,x:R,y:j}}),n==null||n(M)},I=M=>{const{userSelectionRect:b,nodeInternals:$,edges:R,transform:j,onNodesChange:N,onEdgesChange:k,nodeOrigin:O,getNodes:D}=h.getState();if(!e||!w.current||!b)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const U=hn(M,w.current),B=b.startX??0,F=b.startY??0,W={...b,x:U.x<B?U.x:B,y:U.y<F?U.y:F,width:Math.abs(U.x-B),height:Math.abs(U.y-F)},J=D(),re=nT($,W,j,t===wo.Partial,!0,O),le=iT(re,R).map(oe=>oe.id),ae=re.map(oe=>oe.id);if(m.current!==ae.length){m.current=ae.length;const oe=Ii(J,ae);oe.length&&(N==null||N(oe))}if(v.current!==le.length){v.current=le.length;const oe=Ii(R,le);oe.length&&(k==null||k(oe))}h.setState({userSelectionRect:W})},P=M=>{if(M.button!==0)return;const{userSelectionRect:b}=h.getState();!p&&b&&M.target===f.current&&(E==null||E(M)),h.setState({nodesSelectionActive:m.current>0}),_(),i==null||i(M)},T=M=>{p&&(h.setState({nodesSelectionActive:m.current>0}),i==null||i(M)),_()},q=g&&(e||p);return L.createElement("div",{className:Je(["react-flow__pane",{dragging:y,selection:e}]),onClick:q?void 0:Jl(E,f),onContextMenu:Jl(S,f),onWheel:Jl(x,f),onMouseEnter:q?void 0:u,onMouseDown:q?C:void 0,onMouseMove:q?I:l,onMouseUp:q?P:void 0,onMouseLeave:q?T:c,ref:f,style:Hm},d,L.createElement(jj,null))});ST.displayName="Pane";function ET(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:ET(n,t):!1}function hw(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function Dj(e,t,r,n){return Array.from(e.values()).filter(i=>(i.selected||i.id===n)&&(!i.parentNode||i.parentId||!ET(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:r.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function Uj(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function xT(e,t,r,n,i=[0,0],s){const o=Uj(e,e.extent||n);let a=o;const u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){const d=r.get(u),{x:f,y:h}=Fn(d,i).positionAbsolute;a=d&&$t(f)&&$t(h)&&$t(d.width)&&$t(d.height)?[[f+e.width*i[0],h+e.height*i[1]],[f+d.width-e.width+e.width*i[0],h+d.height-e.height+e.height*i[1]]]:a}else s==null||s("005",jr.error005()),a=o;else if(e.extent&&u&&e.extent!=="parent"){const d=r.get(u),{x:f,y:h}=Fn(d,i).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+h],[e.extent[1][0]+f,e.extent[1][1]+h]]}let l={x:0,y:0};if(u){const d=r.get(u);l=Fn(d,i).positionAbsolute}const c=a&&a!=="parent"?Lm(t,a):t;return{position:{x:c.x-l.x,y:c.y-l.y},positionAbsolute:c}}function Ql({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(i=>({...r.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?n.find(i=>i.id===e):n[0],n]}const pw=(e,t,r,n)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),o=t.getBoundingClientRect(),a={x:o.width*n[0],y:o.height*n[1]};return s.map(u=>{const l=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(l.left-o.left-a.x)/r,y:(l.top-o.top-a.y)/r,...jm(u)}})};function bs(e,t,r){return r===void 0?r:n=>{const i=t().nodeInternals.get(e);i&&r(n,{...i})}}function mv({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:u}=t.getState(),l=a.get(e);if(!l){u==null||u("012",jr.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(r||l.selected&&o)&&(s({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var c;return(c=n==null?void 0:n.current)==null?void 0:c.blur()})):i([e])}function zj(){const e=qe();return A.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:i,snapToGrid:s}=e.getState(),o=r.touches?r.touches[0].clientX:r.clientX,a=r.touches?r.touches[0].clientY:r.clientY,u={x:(o-n[0])/n[2],y:(a-n[1])/n[2]};return{xSnapped:s?i[0]*Math.round(u.x/i[0]):u.x,ySnapped:s?i[1]*Math.round(u.y/i[1]):u.y,...u}},[])}function Zl(e){return(t,r,n)=>e==null?void 0:e(t,n)}function kT({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=qe(),[u,l]=A.useState(!1),c=A.useRef([]),d=A.useRef({x:null,y:null}),f=A.useRef(0),h=A.useRef(null),m=A.useRef({x:0,y:0}),v=A.useRef(null),w=A.useRef(!1),p=A.useRef(!1),g=A.useRef(!1),y=zj();return A.useEffect(()=>{if(e!=null&&e.current){const _=Ot(e.current),E=({x:C,y:I})=>{const{nodeInternals:P,onNodeDrag:T,onSelectionDrag:q,updateNodePositions:M,nodeExtent:b,snapGrid:$,snapToGrid:R,nodeOrigin:j,onError:N}=a.getState();d.current={x:C,y:I};let k=!1,O={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const U=Gu(c.current,j);O=yo(U)}if(c.current=c.current.map(U=>{const B={x:C-U.distance.x,y:I-U.distance.y};R&&(B.x=$[0]*Math.round(B.x/$[0]),B.y=$[1]*Math.round(B.y/$[1]));const F=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!U.extent&&(F[0][0]=U.positionAbsolute.x-O.x+b[0][0],F[1][0]=U.positionAbsolute.x+(U.width??0)-O.x2+b[1][0],F[0][1]=U.positionAbsolute.y-O.y+b[0][1],F[1][1]=U.positionAbsolute.y+(U.height??0)-O.y2+b[1][1]);const W=xT(U,B,P,F,j,N);return k=k||U.position.x!==W.position.x||U.position.y!==W.position.y,U.position=W.position,U.positionAbsolute=W.positionAbsolute,U}),!k)return;M(c.current,!0,!0),l(!0);const D=i?T:Zl(q);if(D&&v.current){const[U,B]=Ql({nodeId:i,dragItems:c.current,nodeInternals:P});D(v.current,U,B)}},S=()=>{if(!h.current)return;const[C,I]=GC(m.current,h.current);if(C!==0||I!==0){const{transform:P,panBy:T}=a.getState();d.current.x=(d.current.x??0)-C/P[2],d.current.y=(d.current.y??0)-I/P[2],T({x:C,y:I})&&E(d.current)}f.current=requestAnimationFrame(S)},x=C=>{var j;const{nodeInternals:I,multiSelectionActive:P,nodesDraggable:T,unselectNodesAndEdges:q,onNodeDragStart:M,onSelectionDragStart:b}=a.getState();p.current=!0;const $=i?M:Zl(b);(!o||!s)&&!P&&i&&((j=I.get(i))!=null&&j.selected||q()),i&&s&&o&&mv({id:i,store:a,nodeRef:e});const R=y(C);if(d.current=R,c.current=Dj(I,T,R,i),$&&c.current){const[N,k]=Ql({nodeId:i,dragItems:c.current,nodeInternals:I});$(C.sourceEvent,N,k)}};if(t)_.on(".drag",null);else{const C=Q2().on("start",I=>{const{domNode:P,nodeDragThreshold:T}=a.getState();T===0&&x(I),g.current=!1;const q=y(I);d.current=q,h.current=(P==null?void 0:P.getBoundingClientRect())||null,m.current=hn(I.sourceEvent,h.current)}).on("drag",I=>{var M,b;const P=y(I),{autoPanOnNodeDrag:T,nodeDragThreshold:q}=a.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!w.current&&p.current&&T&&(w.current=!0,S()),!p.current){const $=P.xSnapped-(((M=d==null?void 0:d.current)==null?void 0:M.x)??0),R=P.ySnapped-(((b=d==null?void 0:d.current)==null?void 0:b.y)??0);Math.sqrt($*$+R*R)>q&&x(I)}(d.current.x!==P.xSnapped||d.current.y!==P.ySnapped)&&c.current&&p.current&&(v.current=I.sourceEvent,m.current=hn(I.sourceEvent,h.current),E(P))}}).on("end",I=>{if(!(!p.current||g.current)&&(l(!1),w.current=!1,p.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:P,nodeInternals:T,onNodeDragStop:q,onSelectionDragStop:M}=a.getState(),b=i?q:Zl(M);if(P(c.current,!1,!1),b){const[$,R]=Ql({nodeId:i,dragItems:c.current,nodeInternals:T});b(I.sourceEvent,$,R)}}}).filter(I=>{const P=I.target;return!I.button&&(!r||!hw(P,`.${r}`,e))&&(!n||hw(P,n,e))});return _.call(C),()=>{_.on(".drag",null)}}}},[e,t,r,n,s,a,i,o,y]),u}function CT(){const e=qe();return A.useCallback(r=>{const{nodeInternals:n,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:u,onError:l,nodesDraggable:c}=e.getState(),d=o().filter(g=>g.selected&&(g.draggable||c&&typeof g.draggable>"u")),f=a?u[0]:5,h=a?u[1]:5,m=r.isShiftPressed?4:1,v=r.x*f*m,w=r.y*h*m,p=d.map(g=>{if(g.positionAbsolute){const y={x:g.positionAbsolute.x+v,y:g.positionAbsolute.y+w};a&&(y.x=u[0]*Math.round(y.x/u[0]),y.y=u[1]*Math.round(y.y/u[1]));const{positionAbsolute:_,position:E}=xT(g,y,n,i,void 0,l);g.position=E,g.positionAbsolute=_}return g});s(p,!0,!1)},[])}const Ui={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ss=e=>{const t=({id:r,type:n,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:u,selected:l,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onContextMenu:m,onDoubleClick:v,style:w,className:p,isDraggable:g,isSelectable:y,isConnectable:_,isFocusable:E,selectNodesOnDrag:S,sourcePosition:x,targetPosition:C,hidden:I,resizeObserver:P,dragHandle:T,zIndex:q,isParent:M,noDragClassName:b,noPanClassName:$,initialized:R,disableKeyboardA11y:j,ariaLabel:N,rfId:k,hasHandleBounds:O})=>{const D=qe(),U=A.useRef(null),B=A.useRef(null),F=A.useRef(x),W=A.useRef(C),J=A.useRef(n),re=y||g||c||d||f||h,le=CT(),ae=bs(r,D.getState,d),oe=bs(r,D.getState,f),$e=bs(r,D.getState,h),Te=bs(r,D.getState,m),He=bs(r,D.getState,v),De=K=>{const{nodeDragThreshold:G}=D.getState();if(y&&(!S||!g||G>0)&&mv({id:r,store:D,nodeRef:U}),c){const Ee=D.getState().nodeInternals.get(r);Ee&&c(K,{...Ee})}},ee=K=>{if(!fv(K)&&!j)if(XC.includes(K.key)&&y){const G=K.key==="Escape";mv({id:r,store:D,unselect:G,nodeRef:U})}else g&&l&&Object.prototype.hasOwnProperty.call(Ui,K.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${K.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),le({x:Ui[K.key].x,y:Ui[K.key].y,isShiftPressed:K.shiftKey}))};A.useEffect(()=>()=>{B.current&&(P==null||P.unobserve(B.current),B.current=null)},[]),A.useEffect(()=>{if(U.current&&!I){const K=U.current;(!R||!O||B.current!==K)&&(B.current&&(P==null||P.unobserve(B.current)),P==null||P.observe(K),B.current=K)}},[I,R,O]),A.useEffect(()=>{const K=J.current!==n,G=F.current!==x,Ee=W.current!==C;U.current&&(K||G||Ee)&&(K&&(J.current=n),G&&(F.current=x),Ee&&(W.current=C),D.getState().updateNodeDimensions([{id:r,nodeElement:U.current,forceUpdate:!0}]))},[r,n,x,C]);const Ue=kT({nodeRef:U,disabled:I||!g,noDragClassName:b,handleSelector:T,nodeId:r,isSelectable:y,selectNodesOnDrag:S});return I?null:L.createElement("div",{className:Je(["react-flow__node",`react-flow__node-${n}`,{[$]:g},p,{selected:l,selectable:y,parent:M,dragging:Ue}]),ref:U,style:{zIndex:q,transform:`translate(${a}px,${u}px)`,pointerEvents:re?"all":"none",visibility:R?"visible":"hidden",...w},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:ae,onMouseMove:oe,onMouseLeave:$e,onContextMenu:Te,onClick:De,onDoubleClick:He,onKeyDown:E?ee:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":j?void 0:`${vT}-${k}`,"aria-label":N},L.createElement(tj,{value:r},L.createElement(e,{id:r,data:i,type:n,xPos:s,yPos:o,selected:l,isConnectable:_,sourcePosition:x,targetPosition:C,dragging:Ue,dragHandle:T,zIndex:q})))};return t.displayName="NodeWrapper",A.memo(t)};const Fj=e=>{const t=e.getNodes().filter(r=>r.selected);return{...Gu(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Bj({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=qe(),{width:i,height:s,x:o,y:a,transformString:u,userSelectionActive:l}=pe(Fj,Ve),c=CT(),d=A.useRef(null);if(A.useEffect(()=>{var m;r||(m=d.current)==null||m.focus({preventScroll:!0})},[r]),kT({nodeRef:d}),l||!i||!s)return null;const f=e?m=>{const v=n.getState().getNodes().filter(w=>w.selected);e(m,v)}:void 0,h=m=>{Object.prototype.hasOwnProperty.call(Ui,m.key)&&c({x:Ui[m.key].x,y:Ui[m.key].y,isShiftPressed:m.shiftKey})};return L.createElement("div",{className:Je(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u}},L.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:i,height:s,top:a,left:o}}))}var Vj=A.memo(Bj);const Hj=e=>e.nodesSelectionActive,TT=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:u,onMoveStart:l,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:p,zoomActivationKeyCode:g,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:S,panOnScrollSpeed:x,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:P,defaultViewport:T,translateExtent:q,minZoom:M,maxZoom:b,preventScrolling:$,onSelectionContextMenu:R,noWheelClassName:j,noPanClassName:N,disableKeyboardA11y:k})=>{const O=pe(Hj),D=_o(d),U=_o(p),B=U||P,F=U||S,W=D||f&&B!==!0;return Ij({deleteKeyCode:a,multiSelectionKeyCode:w}),L.createElement($j,{onMove:u,onMoveStart:l,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:y,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:F,panOnScrollSpeed:x,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:!D&&B,defaultViewport:T,translateExtent:q,minZoom:M,maxZoom:b,zoomActivationKeyCode:g,preventScrolling:$,noWheelClassName:j,noPanClassName:N},L.createElement(ST,{onSelectionStart:m,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:B,isSelecting:!!W,selectionMode:h},e,O&&L.createElement(Vj,{onSelectionContextMenu:R,noPanClassName:N,disableKeyboardA11y:k})))};TT.displayName="FlowRenderer";var Gj=A.memo(TT);function Wj(e){return pe(A.useCallback(r=>e?nT(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function Kj(e){const t={input:Ss(e.input||fT),default:Ss(e.default||vv),output:Ss(e.output||pT),group:Ss(e.group||Bm)},r={},n=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Ss(e[s]||vv),i),r);return{...t,...n}}const Yj=({x:e,y:t,width:r,height:n,origin:i})=>!r||!n?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-r*i[0],y:t-n*i[1]},Xj=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),RT=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,updateNodeDimensions:s,onError:o}=pe(Xj,Ve),a=Wj(e.onlyRenderVisibleElements),u=A.useRef(),l=A.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(f)});return u.current=c,c},[]);return A.useEffect(()=>()=>{var c;(c=u==null?void 0:u.current)==null||c.disconnect()},[]),L.createElement("div",{className:"react-flow__nodes",style:Hm},a.map(c=>{var E,S,x;let d=c.type||"default";e.nodeTypes[d]||(o==null||o("003",jr.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),m=!!(c.selectable||i&&typeof c.selectable>"u"),v=!!(c.connectable||r&&typeof c.connectable>"u"),w=!!(c.focusable||n&&typeof c.focusable>"u"),p=e.nodeExtent?Lm(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,g=(p==null?void 0:p.x)??0,y=(p==null?void 0:p.y)??0,_=Yj({x:g,y,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return L.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||X.Bottom,targetPosition:c.targetPosition||X.Top,hidden:c.hidden,xPos:g,yPos:y,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:m,isConnectable:v,isFocusable:w,resizeObserver:l,dragHandle:c.dragHandle,zIndex:((E=c[Ce])==null?void 0:E.z)??0,isParent:!!((S=c[Ce])!=null&&S.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((x=c[Ce])!=null&&x.handleBounds)})}))};RT.displayName="NodeRenderer";var Jj=A.memo(RT);const Qj=(e,t,r)=>r===X.Left?e-t:r===X.Right?e+t:e,Zj=(e,t,r)=>r===X.Top?e-t:r===X.Bottom?e+t:e,gw="react-flow__edgeupdater",vw=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>L.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Je([gw,`${gw}-${a}`]),cx:Qj(t,n,e),cy:Zj(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),eL=()=>!0;var ai=e=>{const t=({id:r,className:n,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:u,animated:l,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,style:w,source:p,target:g,sourceX:y,sourceY:_,targetX:E,targetY:S,sourcePosition:x,targetPosition:C,elementsSelectable:I,hidden:P,sourceHandleId:T,targetHandleId:q,onContextMenu:M,onMouseEnter:b,onMouseMove:$,onMouseLeave:R,reconnectRadius:j,onReconnect:N,onReconnectStart:k,onReconnectEnd:O,markerEnd:D,markerStart:U,rfId:B,ariaLabel:F,isFocusable:W,isReconnectable:J,pathOptions:re,interactionWidth:le,disableKeyboardA11y:ae})=>{const oe=A.useRef(null),[$e,Te]=A.useState(!1),[He,De]=A.useState(!1),ee=qe(),Ue=A.useMemo(()=>`url('#${pv(U,B)}')`,[U,B]),K=A.useMemo(()=>`url('#${pv(D,B)}')`,[D,B]);if(P)return null;const G=ze=>{var or;const{edges:ct,addSelectedEdges:Qe,unselectNodesAndEdges:it,multiSelectionActive:Sn}=ee.getState(),yr=ct.find(us=>us.id===r);yr&&(I&&(ee.setState({nodesSelectionActive:!1}),yr.selected&&Sn?(it({nodes:[],edges:[yr]}),(or=oe.current)==null||or.blur()):Qe([r])),o&&o(ze,yr))},Ee=_s(r,ee.getState,a),Ut=_s(r,ee.getState,M),ir=_s(r,ee.getState,b),nt=_s(r,ee.getState,$),Re=_s(r,ee.getState,R),lt=(ze,ct)=>{if(ze.button!==0)return;const{edges:Qe,isValidConnection:it}=ee.getState(),Sn=ct?g:p,yr=(ct?q:T)||null,or=ct?"target":"source",us=it||eL,gl=ct,ls=Qe.find(En=>En.id===r);De(!0),k==null||k(ze,ls,or);const vl=En=>{De(!1),O==null||O(En,ls,or)};uT({event:ze,handleId:yr,nodeId:Sn,onConnect:En=>N==null?void 0:N(ls,En),isTarget:gl,getState:ee.getState,setState:ee.setState,isValidConnection:us,edgeUpdaterType:or,onReconnectEnd:vl})},zt=ze=>lt(ze,!0),vr=ze=>lt(ze,!1),sr=()=>Te(!0),yt=()=>Te(!1),mr=!I&&!o,Fr=ze=>{var ct;if(!ae&&XC.includes(ze.key)&&I){const{unselectNodesAndEdges:Qe,addSelectedEdges:it,edges:Sn}=ee.getState();ze.key==="Escape"?((ct=oe.current)==null||ct.blur(),Qe({edges:[Sn.find(or=>or.id===r)]})):it([r])}};return L.createElement("g",{className:Je(["react-flow__edge",`react-flow__edge-${i}`,n,{selected:u,animated:l,inactive:mr,updating:$e}]),onClick:G,onDoubleClick:Ee,onContextMenu:Ut,onMouseEnter:ir,onMouseMove:nt,onMouseLeave:Re,onKeyDown:W?Fr:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":F===null?void 0:F||`Edge from ${p} to ${g}`,"aria-describedby":W?`${mT}-${B}`:void 0,ref:oe},!He&&L.createElement(e,{id:r,source:p,target:g,selected:u,animated:l,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:v,data:s,style:w,sourceX:y,sourceY:_,targetX:E,targetY:S,sourcePosition:x,targetPosition:C,sourceHandleId:T,targetHandleId:q,markerStart:Ue,markerEnd:K,pathOptions:re,interactionWidth:le}),J&&L.createElement(L.Fragment,null,(J==="source"||J===!0)&&L.createElement(vw,{position:x,centerX:y,centerY:_,radius:j,onMouseDown:zt,onMouseEnter:sr,onMouseOut:yt,type:"source"}),(J==="target"||J===!0)&&L.createElement(vw,{position:C,centerX:E,centerY:S,radius:j,onMouseDown:vr,onMouseEnter:sr,onMouseOut:yt,type:"target"})))};return t.displayName="EdgeWrapper",A.memo(t)};function tL(e){const t={default:ai(e.default||gu),straight:ai(e.bezier||Um),step:ai(e.step||Dm),smoothstep:ai(e.step||Hu),simplebezier:ai(e.simplebezier||qm)},r={},n=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=ai(e[s]||gu),i),r);return{...t,...n}}function mw(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,i=((r==null?void 0:r.y)||0)+t.y,s=(r==null?void 0:r.width)||t.width,o=(r==null?void 0:r.height)||t.height;switch(e){case X.Top:return{x:n+s/2,y:i};case X.Right:return{x:n+s,y:i+o/2};case X.Bottom:return{x:n+s/2,y:i+o};case X.Left:return{x:n,y:i+o/2}}}function yw(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const rL=(e,t,r,n,i,s)=>{const o=mw(r,e,t),a=mw(s,n,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function nL({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:i,targetHeight:s,width:o,height:a,transform:u}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+i),y2:Math.max(e.y+n,t.y+s)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=yo({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:o/u[2],height:a/u[2]}),d=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),f=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(d*f)>0}function ww(e){var n,i,s,o,a;const t=((n=e==null?void 0:e[Ce])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const iL=[{level:0,isMaxLevel:!0,edges:[]}];function sL(e,t,r=!1){let n=-1;const i=e.reduce((o,a)=>{var c,d;const u=$t(a.zIndex);let l=u?a.zIndex:0;if(r){const f=t.get(a.target),h=t.get(a.source),m=a.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),v=Math.max(((c=h==null?void 0:h[Ce])==null?void 0:c.z)||0,((d=f==null?void 0:f[Ce])==null?void 0:d.z)||0,1e3);l=(u?a.zIndex:0)+(m?v:0)}return o[l]?o[l].push(a):o[l]=[a],n=l>n?l:n,o},{}),s=Object.entries(i).map(([o,a])=>{const u=+o;return{edges:a,level:u,isMaxLevel:u===n}});return s.length===0?iL:s}function oL(e,t,r){const n=pe(A.useCallback(i=>e?i.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&nL({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return sL(n,t,r)}const aL=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),uL=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),_w={[pu.Arrow]:aL,[pu.ArrowClosed]:uL};function lL(e){const t=qe();return A.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(_w,e)?_w[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",jr.error009(e)),null)},[e])}const cL=({id:e,type:t,color:r,width:n=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const u=lL(t);return u?L.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},L.createElement(u,{color:r,strokeWidth:o})):null},dL=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=pv(o,t);n.includes(a)||(i.push({id:a,color:o.color||e,...o}),n.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},AT=({defaultColor:e,rfId:t})=>{const r=pe(A.useCallback(dL({defaultColor:e,rfId:t}),[e,t]),(n,i)=>!(n.length!==i.length||n.some((s,o)=>s.id!==i[o].id)));return L.createElement("defs",null,r.map(n=>L.createElement(cL,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};AT.displayName="MarkerDefinitions";var fL=A.memo(AT);const hL=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),IT=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,reconnectRadius:v,children:w,disableKeyboardA11y:p})=>{const{edgesFocusable:g,edgesUpdatable:y,elementsSelectable:_,width:E,height:S,connectionMode:x,nodeInternals:C,onError:I}=pe(hL,Ve),P=oL(t,C,r);return E?L.createElement(L.Fragment,null,P.map(({level:T,edges:q,isMaxLevel:M})=>L.createElement("svg",{key:T,style:{zIndex:T},width:E,height:S,className:"react-flow__edges react-flow__container"},M&&L.createElement(fL,{defaultColor:e,rfId:n}),L.createElement("g",null,q.map(b=>{const[$,R,j]=ww(C.get(b.source)),[N,k,O]=ww(C.get(b.target));if(!j||!O)return null;let D=b.type||"default";i[D]||(I==null||I("011",jr.error011(D)),D="default");const U=i[D]||i.default,B=x===Yn.Strict?k.target:(k.target??[]).concat(k.source??[]),F=yw(R.source,b.sourceHandle),W=yw(B,b.targetHandle),J=(F==null?void 0:F.position)||X.Bottom,re=(W==null?void 0:W.position)||X.Top,le=!!(b.focusable||g&&typeof b.focusable>"u"),ae=b.reconnectable||b.updatable,oe=typeof f<"u"&&(ae||y&&typeof ae>"u");if(!F||!W)return I==null||I("008",jr.error008(F,b)),null;const{sourceX:$e,sourceY:Te,targetX:He,targetY:De}=rL($,F,J,N,W,re);return L.createElement(U,{key:b.id,id:b.id,className:Je([b.className,s]),type:D,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:$e,sourceY:Te,targetX:He,targetY:De,sourcePosition:J,targetPosition:re,elementsSelectable:_,onContextMenu:o,onMouseEnter:a,onMouseMove:u,onMouseLeave:l,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,reconnectRadius:v,rfId:n,ariaLabel:b.ariaLabel,isFocusable:le,isReconnectable:oe,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:p})})))),w):null};IT.displayName="EdgeRenderer";var pL=A.memo(IT);const gL=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function vL({children:e}){const t=pe(gL);return L.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function mL(e){const t=Vm(),r=A.useRef(!1);A.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const yL={[X.Left]:X.Right,[X.Right]:X.Left,[X.Top]:X.Bottom,[X.Bottom]:X.Top},NT=({nodeId:e,handleType:t,style:r,type:n=Zr.Bezier,CustomComponent:i,connectionStatus:s})=>{var S,x,C;const{fromNode:o,handleId:a,toX:u,toY:l,connectionMode:c}=pe(A.useCallback(I=>({fromNode:I.nodeInternals.get(e),handleId:I.connectionHandleId,toX:(I.connectionPosition.x-I.transform[0])/I.transform[2],toY:(I.connectionPosition.y-I.transform[1])/I.transform[2],connectionMode:I.connectionMode}),[e]),Ve),d=(S=o==null?void 0:o[Ce])==null?void 0:S.handleBounds;let f=d==null?void 0:d[t];if(c===Yn.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!f)return null;const h=a?f.find(I=>I.id===a):f[0],m=h?h.x+h.width/2:(o.width??0)/2,v=h?h.y+h.height/2:o.height??0,w=(((x=o.positionAbsolute)==null?void 0:x.x)??0)+m,p=(((C=o.positionAbsolute)==null?void 0:C.y)??0)+v,g=h==null?void 0:h.position,y=g?yL[g]:null;if(!g||!y)return null;if(i)return L.createElement(i,{connectionLineType:n,connectionLineStyle:r,fromNode:o,fromHandle:h,fromX:w,fromY:p,toX:u,toY:l,fromPosition:g,toPosition:y,connectionStatus:s});let _="";const E={sourceX:w,sourceY:p,sourcePosition:g,targetX:u,targetY:l,targetPosition:y};return n===Zr.Bezier?[_]=tT(E):n===Zr.Step?[_]=hv({...E,borderRadius:0}):n===Zr.SmoothStep?[_]=hv(E):n===Zr.SimpleBezier?[_]=eT(E):_=`M${w},${p} ${u},${l}`,L.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:r})};NT.displayName="ConnectionLine";const wL=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function _L({containerStyle:e,style:t,type:r,component:n}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:u,connectionStatus:l}=pe(wL,Ve);return!(i&&s&&a&&o)?null:L.createElement("svg",{style:e,width:a,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},L.createElement("g",{className:Je(["react-flow__connection",l])},L.createElement(NT,{nodeId:i,handleType:s,style:t,type:r,CustomComponent:n,connectionStatus:l})))}function bw(e,t){return A.useRef(null),qe(),A.useMemo(()=>t(e),[e])}const OT=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:u,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:m,onSelectionStart:v,onSelectionEnd:w,connectionLineType:p,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:_,selectionKeyCode:E,selectionOnDrag:S,selectionMode:x,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:P,deleteKeyCode:T,onlyRenderVisibleElements:q,elementsSelectable:M,selectNodesOnDrag:b,defaultViewport:$,translateExtent:R,minZoom:j,maxZoom:N,preventScrolling:k,defaultMarkerColor:O,zoomOnScroll:D,zoomOnPinch:U,panOnScroll:B,panOnScrollSpeed:F,panOnScrollMode:W,zoomOnDoubleClick:J,panOnDrag:re,onPaneClick:le,onPaneMouseEnter:ae,onPaneMouseMove:oe,onPaneMouseLeave:$e,onPaneScroll:Te,onPaneContextMenu:He,onEdgeContextMenu:De,onEdgeMouseEnter:ee,onEdgeMouseMove:Ue,onEdgeMouseLeave:K,onReconnect:G,onReconnectStart:Ee,onReconnectEnd:Ut,reconnectRadius:ir,noDragClassName:nt,noWheelClassName:Re,noPanClassName:lt,elevateEdgesOnSelect:zt,disableKeyboardA11y:vr,nodeOrigin:sr,nodeExtent:yt,rfId:mr})=>{const Fr=bw(e,Kj),ze=bw(t,tL);return mL(s),L.createElement(Gj,{onPaneClick:le,onPaneMouseEnter:ae,onPaneMouseMove:oe,onPaneMouseLeave:$e,onPaneContextMenu:He,onPaneScroll:Te,deleteKeyCode:T,selectionKeyCode:E,selectionOnDrag:S,selectionMode:x,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:P,elementsSelectable:M,onMove:r,onMoveStart:n,onMoveEnd:i,zoomOnScroll:D,zoomOnPinch:U,zoomOnDoubleClick:J,panOnScroll:B,panOnScrollSpeed:F,panOnScrollMode:W,panOnDrag:re,defaultViewport:$,translateExtent:R,minZoom:j,maxZoom:N,onSelectionContextMenu:m,preventScrolling:k,noDragClassName:nt,noWheelClassName:Re,noPanClassName:lt,disableKeyboardA11y:vr},L.createElement(vL,null,L.createElement(pL,{edgeTypes:ze,onEdgeClick:a,onEdgeDoubleClick:l,onlyRenderVisibleElements:q,onEdgeContextMenu:De,onEdgeMouseEnter:ee,onEdgeMouseMove:Ue,onEdgeMouseLeave:K,onReconnect:G,onReconnectStart:Ee,onReconnectEnd:Ut,reconnectRadius:ir,defaultMarkerColor:O,noPanClassName:lt,elevateEdgesOnSelect:!!zt,disableKeyboardA11y:vr,rfId:mr},L.createElement(_L,{style:g,type:p,component:y,containerStyle:_})),L.createElement("div",{className:"react-flow__edgelabel-renderer"}),L.createElement(Jj,{nodeTypes:Fr,onNodeClick:o,onNodeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:b,onlyRenderVisibleElements:q,noPanClassName:lt,noDragClassName:nt,disableKeyboardA11y:vr,nodeOrigin:sr,nodeExtent:yt,rfId:mr})))};OT.displayName="GraphView";var bL=A.memo(OT);const yv=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Vr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:yv,nodeExtent:yv,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Yn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:YM,isValidConnection:void 0},SL=()=>cP((e,t)=>({...Vr,setNodes:r=>{const{nodeInternals:n,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:Xl(r,n,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(i=>({...n,...i}))})},setDefaultNodesAndEdges:(r,n)=>{const i=typeof r<"u",s=typeof n<"u",o=i?Xl(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?n:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:u,nodeOrigin:l}=t(),c=u==null?void 0:u.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=r.reduce((v,w)=>{const p=i.get(w.id);if(p!=null&&p.hidden)i.set(p.id,{...p,[Ce]:{...p[Ce],handleBounds:void 0}});else if(p){const g=jm(w.nodeElement);!!(g.width&&g.height&&(p.width!==g.width||p.height!==g.height||w.forceUpdate))&&(i.set(p.id,{...p,[Ce]:{...p[Ce],handleBounds:{source:pw(".source",w.nodeElement,f,l),target:pw(".target",w.nodeElement,f,l)}},...g}),v.push({id:p.id,type:"dimensions",dimensions:g}))}return v},[]);wT(i,l);const m=o||s&&!o&&_T(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:m}),(h==null?void 0:h.length)>0&&(n==null||n(h))},updateNodePositions:(r,n=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),o=r.map(a=>{const u={id:a.id,type:"position",dragging:i};return n&&(u.positionAbsolute=a.positionAbsolute,u.position=a.position),u});s(o)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:u}=t();if(r!=null&&r.length){if(s){const l=Gm(r,a()),c=Xl(l,i,o,u);e({nodeInternals:c})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:i,getNodes:s}=t();let o,a=null;n?o=r.map(u=>Yr(u,!0)):(o=Ii(s(),r),a=Ii(i,[])),fa({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:i,getNodes:s}=t();let o,a=null;n?o=r.map(u=>Yr(u,!0)):(o=Ii(i,r),a=Ii(s(),[])),fa({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:i,getNodes:s}=t(),o=r||s(),a=n||i,u=o.map(c=>(c.selected=!1,Yr(c.id,!1))),l=a.map(c=>Yr(c.id,!1));fa({changedNodes:u,changedEdges:l,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:i}=t();n==null||n.scaleExtent([r,i]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:i}=t();n==null||n.scaleExtent([i,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),s=n().filter(a=>a.selected).map(a=>Yr(a.id,!1)),o=r.filter(a=>a.selected).map(a=>Yr(a.id,!1));fa({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(i=>{i.positionAbsolute=Lm(i.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:u}=t();if(!o||!a||!r.x&&!r.y)return!1;const l=Ir.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),c=[[0,0],[i,s]],d=o==null?void 0:o.constrain()(l,c,u);return o.transform(a,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Vr.connectionNodeId,connectionHandleId:Vr.connectionHandleId,connectionHandleType:Vr.connectionHandleType,connectionStatus:Vr.connectionStatus,connectionStartHandle:Vr.connectionStartHandle,connectionEndHandle:Vr.connectionEndHandle}),reset:()=>e({...Vr})}),Object.is),PT=({children:e})=>{const t=A.useRef(null);return t.current||(t.current=SL()),L.createElement(FM,{value:t.current},e)};PT.displayName="ReactFlowProvider";const $T=({children:e})=>A.useContext(Vu)?L.createElement(L.Fragment,null,e):L.createElement(PT,null,e);$T.displayName="ReactFlowWrapper";const EL={input:fT,default:vv,output:pT,group:Bm},xL={default:gu,straight:Um,step:Dm,smoothstep:Hu,simplebezier:qm},kL=[0,0],CL=[15,15],TL={x:0,y:0,zoom:1},RL={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},MT=A.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:i,nodeTypes:s=EL,edgeTypes:o=xL,onNodeClick:a,onEdgeClick:u,onInit:l,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:m,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:p,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,onNodeDragStart:x,onNodeDrag:C,onNodeDragStop:I,onNodesDelete:P,onEdgesDelete:T,onSelectionChange:q,onSelectionDragStart:M,onSelectionDrag:b,onSelectionDragStop:$,onSelectionContextMenu:R,onSelectionStart:j,onSelectionEnd:N,connectionMode:k=Yn.Strict,connectionLineType:O=Zr.Bezier,connectionLineStyle:D,connectionLineComponent:U,connectionLineContainerStyle:B,deleteKeyCode:F="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:J=!1,selectionMode:re=wo.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ae=hu()?"Meta":"Control",zoomActivationKeyCode:oe=hu()?"Meta":"Control",snapToGrid:$e=!1,snapGrid:Te=CL,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:De=!0,nodesDraggable:ee,nodesConnectable:Ue,nodesFocusable:K,nodeOrigin:G=kL,edgesFocusable:Ee,edgesUpdatable:Ut,elementsSelectable:ir,defaultViewport:nt=TL,minZoom:Re=.5,maxZoom:lt=2,translateExtent:zt=yv,preventScrolling:vr=!0,nodeExtent:sr,defaultMarkerColor:yt="#b1b1b7",zoomOnScroll:mr=!0,zoomOnPinch:Fr=!0,panOnScroll:ze=!1,panOnScrollSpeed:ct=.5,panOnScrollMode:Qe=jn.Free,zoomOnDoubleClick:it=!0,panOnDrag:Sn=!0,onPaneClick:yr,onPaneMouseEnter:or,onPaneMouseMove:us,onPaneMouseLeave:gl,onPaneScroll:ls,onPaneContextMenu:vl,children:_y,onEdgeContextMenu:En,onEdgeDoubleClick:MA,onEdgeMouseEnter:jA,onEdgeMouseMove:LA,onEdgeMouseLeave:qA,onEdgeUpdate:DA,onEdgeUpdateStart:UA,onEdgeUpdateEnd:zA,onReconnect:FA,onReconnectStart:BA,onReconnectEnd:VA,reconnectRadius:HA=10,edgeUpdaterRadius:GA=10,onNodesChange:WA,onEdgesChange:KA,noDragClassName:YA="nodrag",noWheelClassName:XA="nowheel",noPanClassName:by="nopan",fitView:JA=!1,fitViewOptions:QA,connectOnClick:ZA=!0,attributionPosition:eI,proOptions:tI,defaultEdgeOptions:rI,elevateNodesOnSelect:nI=!0,elevateEdgesOnSelect:iI=!1,disableKeyboardA11y:Sy=!1,autoPanOnConnect:sI=!0,autoPanOnNodeDrag:oI=!0,connectionRadius:aI=20,isValidConnection:uI,onError:lI,style:cI,id:Ey,nodeDragThreshold:dI,...fI},hI)=>{const ml=Ey||"1";return L.createElement("div",{...fI,style:{...cI,...RL},ref:hI,className:Je(["react-flow",i]),"data-testid":"rf__wrapper",id:Ey},L.createElement($T,null,L.createElement(bL,{onInit:l,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:a,onEdgeClick:u,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,nodeTypes:s,edgeTypes:o,connectionLineType:O,connectionLineStyle:D,connectionLineComponent:U,connectionLineContainerStyle:B,selectionKeyCode:W,selectionOnDrag:J,selectionMode:re,deleteKeyCode:F,multiSelectionKeyCode:ae,panActivationKeyCode:le,zoomActivationKeyCode:oe,onlyRenderVisibleElements:He,selectNodesOnDrag:De,defaultViewport:nt,translateExtent:zt,minZoom:Re,maxZoom:lt,preventScrolling:vr,zoomOnScroll:mr,zoomOnPinch:Fr,zoomOnDoubleClick:it,panOnScroll:ze,panOnScrollSpeed:ct,panOnScrollMode:Qe,panOnDrag:Sn,onPaneClick:yr,onPaneMouseEnter:or,onPaneMouseMove:us,onPaneMouseLeave:gl,onPaneScroll:ls,onPaneContextMenu:vl,onSelectionContextMenu:R,onSelectionStart:j,onSelectionEnd:N,onEdgeContextMenu:En,onEdgeDoubleClick:MA,onEdgeMouseEnter:jA,onEdgeMouseMove:LA,onEdgeMouseLeave:qA,onReconnect:FA??DA,onReconnectStart:BA??UA,onReconnectEnd:VA??zA,reconnectRadius:HA??GA,defaultMarkerColor:yt,noDragClassName:YA,noWheelClassName:XA,noPanClassName:by,elevateEdgesOnSelect:iI,rfId:ml,disableKeyboardA11y:Sy,nodeOrigin:G,nodeExtent:sr}),L.createElement(yj,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:h,onConnectStart:m,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:p,nodesDraggable:ee,nodesConnectable:Ue,nodesFocusable:K,edgesFocusable:Ee,edgesUpdatable:Ut,elementsSelectable:ir,elevateNodesOnSelect:nI,minZoom:Re,maxZoom:lt,nodeExtent:sr,onNodesChange:WA,onEdgesChange:KA,snapToGrid:$e,snapGrid:Te,connectionMode:k,translateExtent:zt,connectOnClick:ZA,defaultEdgeOptions:rI,fitView:JA,fitViewOptions:QA,onNodesDelete:P,onEdgesDelete:T,onNodeDragStart:x,onNodeDrag:C,onNodeDragStop:I,onSelectionDrag:b,onSelectionDragStart:M,onSelectionDragStop:$,noPanClassName:by,nodeOrigin:G,rfId:ml,autoPanOnConnect:sI,autoPanOnNodeDrag:oI,onError:lI,connectionRadius:aI,isValidConnection:uI,nodeDragThreshold:dI}),L.createElement(vj,{onSelectionChange:q}),_y,L.createElement(VM,{proOptions:tI,position:eI}),L.createElement(Ej,{rfId:ml,disableKeyboardA11y:Sy})))});MT.displayName="ReactFlow";function jT(e){return t=>{const[r,n]=A.useState(t),i=A.useCallback(s=>n(o=>e(s,o)),[]);return[r,n,i]}}const AL=jT(Gm),IL=jT(Lj),LT=({id:e,x:t,y:r,width:n,height:i,style:s,color:o,strokeColor:a,strokeWidth:u,className:l,borderRadius:c,shapeRendering:d,onClick:f,selected:h})=>{const{background:m,backgroundColor:v}=s||{},w=o||m||v;return L.createElement("rect",{className:Je(["react-flow__minimap-node",{selected:h},l]),x:t,y:r,rx:c,ry:c,width:n,height:i,fill:w,stroke:a,strokeWidth:u,shapeRendering:d,onClick:f?p=>f(p,e):void 0})};LT.displayName="MiniMapNode";var NL=A.memo(LT);const OL=e=>e.nodeOrigin,PL=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ec=e=>e instanceof Function?e:()=>e;function $L({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:i=2,nodeComponent:s=NL,onClick:o}){const a=pe(PL,Ve),u=pe(OL),l=ec(t),c=ec(e),d=ec(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return L.createElement(L.Fragment,null,a.map(h=>{const{x:m,y:v}=Fn(h,u).positionAbsolute;return L.createElement(s,{key:h.id,x:m,y:v,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:l(h),borderRadius:n,strokeColor:c(h),strokeWidth:i,shapeRendering:f,onClick:o,id:h.id})}))}var ML=A.memo($L);const jL=200,LL=150,qL=e=>{const t=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:t.length>0?WM(Gu(t,e.nodeOrigin),r):r,rfId:e.rfId}},DL="react-flow__minimap-desc";function qT({style:e,className:t,nodeStrokeColor:r="transparent",nodeColor:n="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:l="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:h,pannable:m=!1,zoomable:v=!1,ariaLabel:w="React Flow mini map",inversePan:p=!1,zoomStep:g=10,offsetScale:y=5}){const _=qe(),E=A.useRef(null),{boundingRect:S,viewBB:x,rfId:C}=pe(qL,Ve),I=(e==null?void 0:e.width)??jL,P=(e==null?void 0:e.height)??LL,T=S.width/I,q=S.height/P,M=Math.max(T,q),b=M*I,$=M*P,R=y*M,j=S.x-(b-S.width)/2-R,N=S.y-($-S.height)/2-R,k=b+R*2,O=$+R*2,D=`${DL}-${C}`,U=A.useRef(0);U.current=M,A.useEffect(()=>{if(E.current){const W=Ot(E.current),J=ae=>{const{transform:oe,d3Selection:$e,d3Zoom:Te}=_.getState();if(ae.sourceEvent.type!=="wheel"||!$e||!Te)return;const He=-ae.sourceEvent.deltaY*(ae.sourceEvent.deltaMode===1?.05:ae.sourceEvent.deltaMode?1:.002)*g,De=oe[2]*Math.pow(2,He);Te.scaleTo($e,De)},re=ae=>{const{transform:oe,d3Selection:$e,d3Zoom:Te,translateExtent:He,width:De,height:ee}=_.getState();if(ae.sourceEvent.type!=="mousemove"||!$e||!Te)return;const Ue=U.current*Math.max(1,oe[2])*(p?-1:1),K={x:oe[0]-ae.sourceEvent.movementX*Ue,y:oe[1]-ae.sourceEvent.movementY*Ue},G=[[0,0],[De,ee]],Ee=Ir.translate(K.x,K.y).scale(oe[2]),Ut=Te.constrain()(Ee,G,He);Te.transform($e,Ut)},le=VC().on("zoom",m?re:null).on("zoom.wheel",v?J:null);return W.call(le),()=>{W.on("zoom",null)}}},[m,v,p,g]);const B=f?W=>{const J=Wt(W);f(W,{x:J[0],y:J[1]})}:void 0,F=h?(W,J)=>{const re=_.getState().nodeInternals.get(J);h(W,re)}:void 0;return L.createElement(Mm,{position:d,style:e,className:Je(["react-flow__minimap",t]),"data-testid":"rf__minimap"},L.createElement("svg",{width:I,height:P,viewBox:`${j} ${N} ${k} ${O}`,role:"img","aria-labelledby":D,ref:E,onClick:B},w&&L.createElement("title",{id:D},w),L.createElement(ML,{onClick:F,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),L.createElement("path",{className:"react-flow__minimap-mask",d:`M${j-R},${N-R}h${k+R*2}v${O+R*2}h${-k-R*2}z
        M${x.x},${x.y}h${x.width}v${x.height}h${-x.width}z`,fill:u,fillRule:"evenodd",stroke:l,strokeWidth:c,pointerEvents:"none"})))}qT.displayName="MiniMap";var UL=A.memo(qT);function zL(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},L.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function FL(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},L.createElement("path",{d:"M0 0h32v4.2H0z"}))}function BL(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},L.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function VL(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function HL(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const As=({children:e,className:t,...r})=>L.createElement("button",{type:"button",className:Je(["react-flow__controls-button",t]),...r},e);As.displayName="ControlButton";const GL=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),DT=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:u,className:l,children:c,position:d="bottom-left"})=>{const f=qe(),[h,m]=A.useState(!1),{isInteractive:v,minZoomReached:w,maxZoomReached:p}=pe(GL,Ve),{zoomIn:g,zoomOut:y,fitView:_}=Vm();if(A.useEffect(()=>{m(!0)},[]),!h)return null;const E=()=>{g(),s==null||s()},S=()=>{y(),o==null||o()},x=()=>{_(i),a==null||a()},C=()=>{f.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),u==null||u(!v)};return L.createElement(Mm,{className:Je(["react-flow__controls",l]),position:d,style:e,"data-testid":"rf__controls"},t&&L.createElement(L.Fragment,null,L.createElement(As,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},L.createElement(zL,null)),L.createElement(As,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},L.createElement(FL,null))),r&&L.createElement(As,{className:"react-flow__controls-fitview",onClick:x,title:"fit view","aria-label":"fit view"},L.createElement(BL,null)),n&&L.createElement(As,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},v?L.createElement(HL,null):L.createElement(VL,null)),c)};DT.displayName="Controls";var WL=A.memo(DT),Zt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zt||(Zt={}));function KL({color:e,dimensions:t,lineWidth:r}){return L.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function YL({color:e,radius:t}){return L.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const XL={[Zt.Dots]:"#91919a",[Zt.Lines]:"#eee",[Zt.Cross]:"#e2e2e2"},JL={[Zt.Dots]:1,[Zt.Lines]:1,[Zt.Cross]:6},QL=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function UT({id:e,variant:t=Zt.Dots,gap:r=20,size:n,lineWidth:i=1,offset:s=2,color:o,style:a,className:u}){const l=A.useRef(null),{transform:c,patternId:d}=pe(QL,Ve),f=o||XL[t],h=n||JL[t],m=t===Zt.Dots,v=t===Zt.Cross,w=Array.isArray(r)?r:[r,r],p=[w[0]*c[2]||1,w[1]*c[2]||1],g=h*c[2],y=v?[g,g]:p,_=m?[g/s,g/s]:[y[0]/s,y[1]/s];return L.createElement("svg",{className:Je(["react-flow__background",u]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:l,"data-testid":"rf__background"},L.createElement("pattern",{id:d+e,x:c[0]%p[0],y:c[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},m?L.createElement(YL,{color:f,radius:g/s}):L.createElement(KL,{dimensions:y,color:f,lineWidth:i})),L.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}UT.displayName="Background";var ZL=A.memo(UT);function Wm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tc,Sw;function eq(){if(Sw)return tc;Sw=1;function e(){this.__data__=[],this.size=0}return tc=e,tc}var rc,Ew;function ns(){if(Ew)return rc;Ew=1;function e(t,r){return t===r||t!==t&&r!==r}return rc=e,rc}var nc,xw;function Wu(){if(xw)return nc;xw=1;var e=ns();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return nc=t,nc}var ic,kw;function tq(){if(kw)return ic;kw=1;var e=Wu(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():r.call(s,o,1),--this.size,!0}return ic=n,ic}var sc,Cw;function rq(){if(Cw)return sc;Cw=1;var e=Wu();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return sc=t,sc}var oc,Tw;function nq(){if(Tw)return oc;Tw=1;var e=Wu();function t(r){return e(this.__data__,r)>-1}return oc=t,oc}var ac,Rw;function iq(){if(Rw)return ac;Rw=1;var e=Wu();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return ac=t,ac}var uc,Aw;function Ku(){if(Aw)return uc;Aw=1;var e=eq(),t=tq(),r=rq(),n=nq(),i=iq();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,uc=s,uc}var lc,Iw;function sq(){if(Iw)return lc;Iw=1;var e=Ku();function t(){this.__data__=new e,this.size=0}return lc=t,lc}var cc,Nw;function oq(){if(Nw)return cc;Nw=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return cc=e,cc}var dc,Ow;function aq(){if(Ow)return dc;Ow=1;function e(t){return this.__data__.get(t)}return dc=e,dc}var fc,Pw;function uq(){if(Pw)return fc;Pw=1;function e(t){return this.__data__.has(t)}return fc=e,fc}var hc,$w;function zT(){if($w)return hc;$w=1;var e=typeof zo=="object"&&zo&&zo.Object===Object&&zo;return hc=e,hc}var pc,Mw;function rr(){if(Mw)return pc;Mw=1;var e=zT(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return pc=r,pc}var gc,jw;function is(){if(jw)return gc;jw=1;var e=rr(),t=e.Symbol;return gc=t,gc}var vc,Lw;function lq(){if(Lw)return vc;Lw=1;var e=is(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=r.call(o,i),u=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(a?o[i]=u:delete o[i]),c}return vc=s,vc}var mc,qw;function cq(){if(qw)return mc;qw=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return mc=r,mc}var yc,Dw;function Qn(){if(Dw)return yc;Dw=1;var e=is(),t=lq(),r=cq(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:n:s&&s in Object(a)?t(a):r(a)}return yc=o,yc}var wc,Uw;function qt(){if(Uw)return wc;Uw=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return wc=e,wc}var _c,zw;function Mo(){if(zw)return _c;zw=1;var e=Qn(),t=qt(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var u=e(a);return u==n||u==i||u==r||u==s}return _c=o,_c}var bc,Fw;function dq(){if(Fw)return bc;Fw=1;var e=rr(),t=e["__core-js_shared__"];return bc=t,bc}var Sc,Bw;function fq(){if(Bw)return Sc;Bw=1;var e=dq(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Sc=r,Sc}var Ec,Vw;function FT(){if(Vw)return Ec;Vw=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Ec=r,Ec}var xc,Hw;function hq(){if(Hw)return xc;Hw=1;var e=Mo(),t=fq(),r=qt(),n=FT(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,u=o.toString,l=a.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!r(f)||t(f))return!1;var h=e(f)?c:s;return h.test(n(f))}return xc=d,xc}var kc,Gw;function pq(){if(Gw)return kc;Gw=1;function e(t,r){return t==null?void 0:t[r]}return kc=e,kc}var Cc,Ww;function Zn(){if(Ww)return Cc;Ww=1;var e=hq(),t=pq();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return Cc=r,Cc}var Tc,Kw;function Km(){if(Kw)return Tc;Kw=1;var e=Zn(),t=rr(),r=e(t,"Map");return Tc=r,Tc}var Rc,Yw;function Yu(){if(Yw)return Rc;Yw=1;var e=Zn(),t=e(Object,"create");return Rc=t,Rc}var Ac,Xw;function gq(){if(Xw)return Ac;Xw=1;var e=Yu();function t(){this.__data__=e?e(null):{},this.size=0}return Ac=t,Ac}var Ic,Jw;function vq(){if(Jw)return Ic;Jw=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Ic=e,Ic}var Nc,Qw;function mq(){if(Qw)return Nc;Qw=1;var e=Yu(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return n.call(o,s)?o[s]:void 0}return Nc=i,Nc}var Oc,Zw;function yq(){if(Zw)return Oc;Zw=1;var e=Yu(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return Oc=n,Oc}var Pc,e_;function wq(){if(e_)return Pc;e_=1;var e=Yu(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return Pc=r,Pc}var $c,t_;function _q(){if(t_)return $c;t_=1;var e=gq(),t=vq(),r=mq(),n=yq(),i=wq();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,$c=s,$c}var Mc,r_;function bq(){if(r_)return Mc;r_=1;var e=_q(),t=Ku(),r=Km();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Mc=n,Mc}var jc,n_;function Sq(){if(n_)return jc;n_=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return jc=e,jc}var Lc,i_;function Xu(){if(i_)return Lc;i_=1;var e=Sq();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Lc=t,Lc}var qc,s_;function Eq(){if(s_)return qc;s_=1;var e=Xu();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return qc=t,qc}var Dc,o_;function xq(){if(o_)return Dc;o_=1;var e=Xu();function t(r){return e(this,r).get(r)}return Dc=t,Dc}var Uc,a_;function kq(){if(a_)return Uc;a_=1;var e=Xu();function t(r){return e(this,r).has(r)}return Uc=t,Uc}var zc,u_;function Cq(){if(u_)return zc;u_=1;var e=Xu();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return zc=t,zc}var Fc,l_;function Ym(){if(l_)return Fc;l_=1;var e=bq(),t=Eq(),r=xq(),n=kq(),i=Cq();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var l=o[a];this.set(l[0],l[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Fc=s,Fc}var Bc,c_;function Tq(){if(c_)return Bc;c_=1;var e=Ku(),t=Km(),r=Ym(),n=200;function i(s,o){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<n-1)return u.push([s,o]),this.size=++a.size,this;a=this.__data__=new r(u)}return a.set(s,o),this.size=a.size,this}return Bc=i,Bc}var Vc,d_;function Ju(){if(d_)return Vc;d_=1;var e=Ku(),t=sq(),r=oq(),n=aq(),i=uq(),s=Tq();function o(a){var u=this.__data__=new e(a);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,Vc=o,Vc}var Hc,f_;function Xm(){if(f_)return Hc;f_=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i&&r(t[n],n,t)!==!1;);return t}return Hc=e,Hc}var Gc,h_;function BT(){if(h_)return Gc;h_=1;var e=Zn(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Gc=t,Gc}var Wc,p_;function Qu(){if(p_)return Wc;p_=1;var e=BT();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Wc=t,Wc}var Kc,g_;function Zu(){if(g_)return Kc;g_=1;var e=Qu(),t=ns(),r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a){var u=s[o];(!(n.call(s,o)&&t(u,a))||a===void 0&&!(o in s))&&e(s,o,a)}return Kc=i,Kc}var Yc,v_;function jo(){if(v_)return Yc;v_=1;var e=Zu(),t=Qu();function r(n,i,s,o){var a=!s;s||(s={});for(var u=-1,l=i.length;++u<l;){var c=i[u],d=o?o(s[c],n[c],c,s,n):void 0;d===void 0&&(d=n[c]),a?t(s,c,d):e(s,c,d)}return s}return Yc=r,Yc}var Xc,m_;function Rq(){if(m_)return Xc;m_=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Xc=e,Xc}var Jc,y_;function gr(){if(y_)return Jc;y_=1;function e(t){return t!=null&&typeof t=="object"}return Jc=e,Jc}var Qc,w_;function Aq(){if(w_)return Qc;w_=1;var e=Qn(),t=gr(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Qc=n,Qc}var Zc,__;function Lo(){if(__)return Zc;__=1;var e=Aq(),t=gr(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Zc=s,Zc}var ed,b_;function Pe(){if(b_)return ed;b_=1;var e=Array.isArray;return ed=e,ed}var Is={exports:{}},td,S_;function Iq(){if(S_)return td;S_=1;function e(){return!1}return td=e,td}Is.exports;var E_;function ss(){return E_||(E_=1,function(e,t){var r=rr(),n=Iq(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||n;e.exports=l}(Is,Is.exports)),Is.exports}var rd,x_;function el(){if(x_)return rd;x_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return rd=r,rd}var nd,k_;function Jm(){if(k_)return nd;k_=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return nd=t,nd}var id,C_;function Nq(){if(C_)return id;C_=1;var e=Qn(),t=Jm(),r=gr(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",m="[object String]",v="[object WeakMap]",w="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",T={};T[g]=T[y]=T[_]=T[E]=T[S]=T[x]=T[C]=T[I]=T[P]=!0,T[n]=T[i]=T[w]=T[s]=T[p]=T[o]=T[a]=T[u]=T[l]=T[c]=T[d]=T[f]=T[h]=T[m]=T[v]=!1;function q(M){return r(M)&&t(M.length)&&!!T[e(M)]}return id=q,id}var sd,T_;function tl(){if(T_)return sd;T_=1;function e(t){return function(r){return t(r)}}return sd=e,sd}var Ns={exports:{}};Ns.exports;var R_;function Qm(){return R_||(R_=1,function(e,t){var r=zT(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Ns,Ns.exports)),Ns.exports}var od,A_;function qo(){if(A_)return od;A_=1;var e=Nq(),t=tl(),r=Qm(),n=r&&r.isTypedArray,i=n?t(n):e;return od=i,od}var ad,I_;function VT(){if(I_)return ad;I_=1;var e=Rq(),t=Lo(),r=Pe(),n=ss(),i=el(),s=qo(),o=Object.prototype,a=o.hasOwnProperty;function u(l,c){var d=r(l),f=!d&&t(l),h=!d&&!f&&n(l),m=!d&&!f&&!h&&s(l),v=d||f||h||m,w=v?e(l.length,String):[],p=w.length;for(var g in l)(c||a.call(l,g))&&!(v&&(g=="length"||h&&(g=="offset"||g=="parent")||m&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||i(g,p)))&&w.push(g);return w}return ad=u,ad}var ud,N_;function rl(){if(N_)return ud;N_=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return ud=t,ud}var ld,O_;function HT(){if(O_)return ld;O_=1;function e(t,r){return function(n){return t(r(n))}}return ld=e,ld}var cd,P_;function Oq(){if(P_)return cd;P_=1;var e=HT(),t=e(Object.keys,Object);return cd=t,cd}var dd,$_;function Zm(){if($_)return dd;$_=1;var e=rl(),t=Oq(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))n.call(s,a)&&a!="constructor"&&o.push(a);return o}return dd=i,dd}var fd,M_;function Dr(){if(M_)return fd;M_=1;var e=Mo(),t=Jm();function r(n){return n!=null&&t(n.length)&&!e(n)}return fd=r,fd}var hd,j_;function bn(){if(j_)return hd;j_=1;var e=VT(),t=Zm(),r=Dr();function n(i){return r(i)?e(i):t(i)}return hd=n,hd}var pd,L_;function Pq(){if(L_)return pd;L_=1;var e=jo(),t=bn();function r(n,i){return n&&e(i,t(i),n)}return pd=r,pd}var gd,q_;function $q(){if(q_)return gd;q_=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return gd=e,gd}var vd,D_;function Mq(){if(D_)return vd;D_=1;var e=qt(),t=rl(),r=$q(),n=Object.prototype,i=n.hasOwnProperty;function s(o){if(!e(o))return r(o);var a=t(o),u=[];for(var l in o)l=="constructor"&&(a||!i.call(o,l))||u.push(l);return u}return vd=s,vd}var md,U_;function ei(){if(U_)return md;U_=1;var e=VT(),t=Mq(),r=Dr();function n(i){return r(i)?e(i,!0):t(i)}return md=n,md}var yd,z_;function jq(){if(z_)return yd;z_=1;var e=jo(),t=ei();function r(n,i){return n&&e(i,t(i),n)}return yd=r,yd}var Os={exports:{}};Os.exports;var F_;function GT(){return F_||(F_=1,function(e,t){var r=rr(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,f=a?a(d):new l.constructor(d);return l.copy(f),f}e.exports=u}(Os,Os.exports)),Os.exports}var wd,B_;function WT(){if(B_)return wd;B_=1;function e(t,r){var n=-1,i=t.length;for(r||(r=Array(i));++n<i;)r[n]=t[n];return r}return wd=e,wd}var _d,V_;function KT(){if(V_)return _d;V_=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var a=t[n];r(a,n,t)&&(o[s++]=a)}return o}return _d=e,_d}var bd,H_;function YT(){if(H_)return bd;H_=1;function e(){return[]}return bd=e,bd}var Sd,G_;function ey(){if(G_)return Sd;G_=1;var e=KT(),t=YT(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return n.call(o,a)}))}:t;return Sd=s,Sd}var Ed,W_;function Lq(){if(W_)return Ed;W_=1;var e=jo(),t=ey();function r(n,i){return e(n,t(n),i)}return Ed=r,Ed}var xd,K_;function ty(){if(K_)return xd;K_=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return xd=e,xd}var kd,Y_;function nl(){if(Y_)return kd;Y_=1;var e=HT(),t=e(Object.getPrototypeOf,Object);return kd=t,kd}var Cd,X_;function XT(){if(X_)return Cd;X_=1;var e=ty(),t=nl(),r=ey(),n=YT(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,r(o)),o=t(o);return a}:n;return Cd=s,Cd}var Td,J_;function qq(){if(J_)return Td;J_=1;var e=jo(),t=XT();function r(n,i){return e(n,t(n),i)}return Td=r,Td}var Rd,Q_;function JT(){if(Q_)return Rd;Q_=1;var e=ty(),t=Pe();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return Rd=r,Rd}var Ad,Z_;function QT(){if(Z_)return Ad;Z_=1;var e=JT(),t=ey(),r=bn();function n(i){return e(i,r,t)}return Ad=n,Ad}var Id,e1;function Dq(){if(e1)return Id;e1=1;var e=JT(),t=XT(),r=ei();function n(i){return e(i,r,t)}return Id=n,Id}var Nd,t1;function Uq(){if(t1)return Nd;t1=1;var e=Zn(),t=rr(),r=e(t,"DataView");return Nd=r,Nd}var Od,r1;function zq(){if(r1)return Od;r1=1;var e=Zn(),t=rr(),r=e(t,"Promise");return Od=r,Od}var Pd,n1;function ZT(){if(n1)return Pd;n1=1;var e=Zn(),t=rr(),r=e(t,"Set");return Pd=r,Pd}var $d,i1;function Fq(){if(i1)return $d;i1=1;var e=Zn(),t=rr(),r=e(t,"WeakMap");return $d=r,$d}var Md,s1;function os(){if(s1)return Md;s1=1;var e=Uq(),t=Km(),r=zq(),n=ZT(),i=Fq(),s=Qn(),o=FT(),a="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),m=o(t),v=o(r),w=o(n),p=o(i),g=s;return(e&&g(new e(new ArrayBuffer(1)))!=f||t&&g(new t)!=a||r&&g(r.resolve())!=l||n&&g(new n)!=c||i&&g(new i)!=d)&&(g=function(y){var _=s(y),E=_==u?y.constructor:void 0,S=E?o(E):"";if(S)switch(S){case h:return f;case m:return a;case v:return l;case w:return c;case p:return d}return _}),Md=g,Md}var jd,o1;function Bq(){if(o1)return jd;o1=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var i=n.length,s=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(s.index=n.index,s.input=n.input),s}return jd=r,jd}var Ld,a1;function eR(){if(a1)return Ld;a1=1;var e=rr(),t=e.Uint8Array;return Ld=t,Ld}var qd,u1;function ry(){if(u1)return qd;u1=1;var e=eR();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return qd=t,qd}var Dd,l1;function Vq(){if(l1)return Dd;l1=1;var e=ry();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Dd=t,Dd}var Ud,c1;function Hq(){if(c1)return Ud;c1=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return Ud=t,Ud}var zd,d1;function Gq(){if(d1)return zd;d1=1;var e=is(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return zd=n,zd}var Fd,f1;function tR(){if(f1)return Fd;f1=1;var e=ry();function t(r,n){var i=n?e(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return Fd=t,Fd}var Bd,h1;function Wq(){if(h1)return Bd;h1=1;var e=ry(),t=Vq(),r=Hq(),n=Gq(),i=tR(),s="[object Boolean]",o="[object Date]",a="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",m="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",p="[object Int8Array]",g="[object Int16Array]",y="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",x="[object Uint32Array]";function C(I,P,T){var q=I.constructor;switch(P){case h:return e(I);case s:case o:return new q(+I);case m:return t(I,T);case v:case w:case p:case g:case y:case _:case E:case S:case x:return i(I,T);case a:return new q;case u:case d:return new q(I);case l:return r(I);case c:return new q;case f:return n(I)}}return Bd=C,Bd}var Vd,p1;function rR(){if(p1)return Vd;p1=1;var e=qt(),t=Object.create,r=function(){function n(){}return function(i){if(!e(i))return{};if(t)return t(i);n.prototype=i;var s=new n;return n.prototype=void 0,s}}();return Vd=r,Vd}var Hd,g1;function nR(){if(g1)return Hd;g1=1;var e=rR(),t=nl(),r=rl();function n(i){return typeof i.constructor=="function"&&!r(i)?e(t(i)):{}}return Hd=n,Hd}var Gd,v1;function Kq(){if(v1)return Gd;v1=1;var e=os(),t=gr(),r="[object Map]";function n(i){return t(i)&&e(i)==r}return Gd=n,Gd}var Wd,m1;function Yq(){if(m1)return Wd;m1=1;var e=Kq(),t=tl(),r=Qm(),n=r&&r.isMap,i=n?t(n):e;return Wd=i,Wd}var Kd,y1;function Xq(){if(y1)return Kd;y1=1;var e=os(),t=gr(),r="[object Set]";function n(i){return t(i)&&e(i)==r}return Kd=n,Kd}var Yd,w1;function Jq(){if(w1)return Yd;w1=1;var e=Xq(),t=tl(),r=Qm(),n=r&&r.isSet,i=n?t(n):e;return Yd=i,Yd}var Xd,_1;function iR(){if(_1)return Xd;_1=1;var e=Ju(),t=Xm(),r=Zu(),n=Pq(),i=jq(),s=GT(),o=WT(),a=Lq(),u=qq(),l=QT(),c=Dq(),d=os(),f=Bq(),h=Wq(),m=nR(),v=Pe(),w=ss(),p=Yq(),g=qt(),y=Jq(),_=bn(),E=ei(),S=1,x=2,C=4,I="[object Arguments]",P="[object Array]",T="[object Boolean]",q="[object Date]",M="[object Error]",b="[object Function]",$="[object GeneratorFunction]",R="[object Map]",j="[object Number]",N="[object Object]",k="[object RegExp]",O="[object Set]",D="[object String]",U="[object Symbol]",B="[object WeakMap]",F="[object ArrayBuffer]",W="[object DataView]",J="[object Float32Array]",re="[object Float64Array]",le="[object Int8Array]",ae="[object Int16Array]",oe="[object Int32Array]",$e="[object Uint8Array]",Te="[object Uint8ClampedArray]",He="[object Uint16Array]",De="[object Uint32Array]",ee={};ee[I]=ee[P]=ee[F]=ee[W]=ee[T]=ee[q]=ee[J]=ee[re]=ee[le]=ee[ae]=ee[oe]=ee[R]=ee[j]=ee[N]=ee[k]=ee[O]=ee[D]=ee[U]=ee[$e]=ee[Te]=ee[He]=ee[De]=!0,ee[M]=ee[b]=ee[B]=!1;function Ue(K,G,Ee,Ut,ir,nt){var Re,lt=G&S,zt=G&x,vr=G&C;if(Ee&&(Re=ir?Ee(K,Ut,ir,nt):Ee(K)),Re!==void 0)return Re;if(!g(K))return K;var sr=v(K);if(sr){if(Re=f(K),!lt)return o(K,Re)}else{var yt=d(K),mr=yt==b||yt==$;if(w(K))return s(K,lt);if(yt==N||yt==I||mr&&!ir){if(Re=zt||mr?{}:m(K),!lt)return zt?u(K,i(Re,K)):a(K,n(Re,K))}else{if(!ee[yt])return ir?K:{};Re=h(K,yt,lt)}}nt||(nt=new e);var Fr=nt.get(K);if(Fr)return Fr;nt.set(K,Re),y(K)?K.forEach(function(Qe){Re.add(Ue(Qe,G,Ee,Qe,K,nt))}):p(K)&&K.forEach(function(Qe,it){Re.set(it,Ue(Qe,G,Ee,it,K,nt))});var ze=vr?zt?c:l:zt?E:_,ct=sr?void 0:ze(K);return t(ct||K,function(Qe,it){ct&&(it=Qe,Qe=K[it]),r(Re,it,Ue(Qe,G,Ee,it,K,nt))}),Re}return Xd=Ue,Xd}var Jd,b1;function Qq(){if(b1)return Jd;b1=1;var e=iR(),t=4;function r(n){return e(n,t)}return Jd=r,Jd}var Qd,S1;function ny(){if(S1)return Qd;S1=1;function e(t){return function(){return t}}return Qd=e,Qd}var Zd,E1;function Zq(){if(E1)return Zd;E1=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),a=i(r),u=a.length;u--;){var l=a[t?u:++s];if(n(o[l],l,o)===!1)break}return r}}return Zd=e,Zd}var ef,x1;function iy(){if(x1)return ef;x1=1;var e=Zq(),t=e();return ef=t,ef}var tf,k1;function sy(){if(k1)return tf;k1=1;var e=iy(),t=bn();function r(n,i){return n&&e(n,i,t)}return tf=r,tf}var rf,C1;function eD(){if(C1)return rf;C1=1;var e=Dr();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,a=n?o:-1,u=Object(i);(n?a--:++a<o)&&s(u[a],a,u)!==!1;);return i}}return rf=t,rf}var nf,T1;function il(){if(T1)return nf;T1=1;var e=sy(),t=eD(),r=t(e);return nf=r,nf}var sf,R1;function ti(){if(R1)return sf;R1=1;function e(t){return t}return sf=e,sf}var of,A1;function sR(){if(A1)return of;A1=1;var e=ti();function t(r){return typeof r=="function"?r:e}return of=t,of}var af,I1;function oR(){if(I1)return af;I1=1;var e=Xm(),t=il(),r=sR(),n=Pe();function i(s,o){var a=n(s)?e:t;return a(s,r(o))}return af=i,af}var uf,N1;function aR(){return N1||(N1=1,uf=oR()),uf}var lf,O1;function tD(){if(O1)return lf;O1=1;var e=il();function t(r,n){var i=[];return e(r,function(s,o,a){n(s,o,a)&&i.push(s)}),i}return lf=t,lf}var cf,P1;function rD(){if(P1)return cf;P1=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return cf=t,cf}var df,$1;function nD(){if($1)return df;$1=1;function e(t){return this.__data__.has(t)}return df=e,df}var ff,M1;function uR(){if(M1)return ff;M1=1;var e=Ym(),t=rD(),r=nD();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,ff=n,ff}var hf,j1;function iD(){if(j1)return hf;j1=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return hf=e,hf}var pf,L1;function lR(){if(L1)return pf;L1=1;function e(t,r){return t.has(r)}return pf=e,pf}var gf,q1;function cR(){if(q1)return gf;q1=1;var e=uR(),t=iD(),r=lR(),n=1,i=2;function s(o,a,u,l,c,d){var f=u&n,h=o.length,m=a.length;if(h!=m&&!(f&&m>h))return!1;var v=d.get(o),w=d.get(a);if(v&&w)return v==a&&w==o;var p=-1,g=!0,y=u&i?new e:void 0;for(d.set(o,a),d.set(a,o);++p<h;){var _=o[p],E=a[p];if(l)var S=f?l(E,_,p,a,o,d):l(_,E,p,o,a,d);if(S!==void 0){if(S)continue;g=!1;break}if(y){if(!t(a,function(x,C){if(!r(y,C)&&(_===x||c(_,x,u,l,d)))return y.push(C)})){g=!1;break}}else if(!(_===E||c(_,E,u,l,d))){g=!1;break}}return d.delete(o),d.delete(a),g}return gf=s,gf}var vf,D1;function sD(){if(D1)return vf;D1=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return vf=e,vf}var mf,U1;function oy(){if(U1)return mf;U1=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return mf=e,mf}var yf,z1;function oD(){if(z1)return yf;z1=1;var e=is(),t=eR(),r=ns(),n=cR(),i=sD(),s=oy(),o=1,a=2,u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",m="[object Set]",v="[object String]",w="[object Symbol]",p="[object ArrayBuffer]",g="[object DataView]",y=e?e.prototype:void 0,_=y?y.valueOf:void 0;function E(S,x,C,I,P,T,q){switch(C){case g:if(S.byteLength!=x.byteLength||S.byteOffset!=x.byteOffset)return!1;S=S.buffer,x=x.buffer;case p:return!(S.byteLength!=x.byteLength||!T(new t(S),new t(x)));case u:case l:case f:return r(+S,+x);case c:return S.name==x.name&&S.message==x.message;case h:case v:return S==x+"";case d:var M=i;case m:var b=I&o;if(M||(M=s),S.size!=x.size&&!b)return!1;var $=q.get(S);if($)return $==x;I|=a,q.set(S,x);var R=n(M(S),M(x),I,P,T,q);return q.delete(S),R;case w:if(_)return _.call(S)==_.call(x)}return!1}return yf=E,yf}var wf,F1;function aD(){if(F1)return wf;F1=1;var e=QT(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,a,u,l,c){var d=a&t,f=e(s),h=f.length,m=e(o),v=m.length;if(h!=v&&!d)return!1;for(var w=h;w--;){var p=f[w];if(!(d?p in o:n.call(o,p)))return!1}var g=c.get(s),y=c.get(o);if(g&&y)return g==o&&y==s;var _=!0;c.set(s,o),c.set(o,s);for(var E=d;++w<h;){p=f[w];var S=s[p],x=o[p];if(u)var C=d?u(x,S,p,o,s,c):u(S,x,p,s,o,c);if(!(C===void 0?S===x||l(S,x,a,u,c):C)){_=!1;break}E||(E=p=="constructor")}if(_&&!E){var I=s.constructor,P=o.constructor;I!=P&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(_=!1)}return c.delete(s),c.delete(o),_}return wf=i,wf}var _f,B1;function uD(){if(B1)return _f;B1=1;var e=Ju(),t=cR(),r=oD(),n=aD(),i=os(),s=Pe(),o=ss(),a=qo(),u=1,l="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function m(v,w,p,g,y,_){var E=s(v),S=s(w),x=E?c:i(v),C=S?c:i(w);x=x==l?d:x,C=C==l?d:C;var I=x==d,P=C==d,T=x==C;if(T&&o(v)){if(!o(w))return!1;E=!0,I=!1}if(T&&!I)return _||(_=new e),E||a(v)?t(v,w,p,g,y,_):r(v,w,x,p,g,y,_);if(!(p&u)){var q=I&&h.call(v,"__wrapped__"),M=P&&h.call(w,"__wrapped__");if(q||M){var b=q?v.value():v,$=M?w.value():w;return _||(_=new e),y(b,$,p,g,_)}}return T?(_||(_=new e),n(v,w,p,g,y,_)):!1}return _f=m,_f}var bf,V1;function dR(){if(V1)return bf;V1=1;var e=uD(),t=gr();function r(n,i,s,o,a){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,a)}return bf=r,bf}var Sf,H1;function lD(){if(H1)return Sf;H1=1;var e=Ju(),t=dR(),r=1,n=2;function i(s,o,a,u){var l=a.length,c=l,d=!u;if(s==null)return!c;for(s=Object(s);l--;){var f=a[l];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++l<c;){f=a[l];var h=f[0],m=s[h],v=f[1];if(d&&f[2]){if(m===void 0&&!(h in s))return!1}else{var w=new e;if(u)var p=u(m,v,h,s,o,w);if(!(p===void 0?t(v,m,r|n,u,w):p))return!1}}return!0}return Sf=i,Sf}var Ef,G1;function fR(){if(G1)return Ef;G1=1;var e=qt();function t(r){return r===r&&!e(r)}return Ef=t,Ef}var xf,W1;function cD(){if(W1)return xf;W1=1;var e=fR(),t=bn();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],a=n[o];i[s]=[o,a,e(a)]}return i}return xf=r,xf}var kf,K1;function hR(){if(K1)return kf;K1=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return kf=e,kf}var Cf,Y1;function dD(){if(Y1)return Cf;Y1=1;var e=lD(),t=cD(),r=hR();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return Cf=n,Cf}var Tf,X1;function as(){if(X1)return Tf;X1=1;var e=Qn(),t=gr(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Tf=n,Tf}var Rf,J1;function ay(){if(J1)return Rf;J1=1;var e=Pe(),t=as(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Rf=i,Rf}var Af,Q1;function fD(){if(Q1)return Af;Q1=1;var e=Ym(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],u=s.cache;if(u.has(a))return u.get(a);var l=n.apply(this,o);return s.cache=u.set(a,l)||u,l};return s.cache=new(r.Cache||e),s}return r.Cache=e,Af=r,Af}var If,Z1;function hD(){if(Z1)return If;Z1=1;var e=fD(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return If=r,If}var Nf,eb;function pD(){if(eb)return Nf;eb=1;var e=hD(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,u,l){s.push(u?l.replace(r,"$1"):a||o)}),s});return Nf=n,Nf}var Of,tb;function sl(){if(tb)return Of;tb=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return Of=e,Of}var Pf,rb;function gD(){if(rb)return Pf;rb=1;var e=is(),t=sl(),r=Pe(),n=as(),i=1/0,s=e?e.prototype:void 0,o=s?s.toString:void 0;function a(u){if(typeof u=="string")return u;if(r(u))return t(u,a)+"";if(n(u))return o?o.call(u):"";var l=u+"";return l=="0"&&1/u==-i?"-0":l}return Pf=a,Pf}var $f,nb;function pR(){if(nb)return $f;nb=1;var e=gD();function t(r){return r==null?"":e(r)}return $f=t,$f}var Mf,ib;function ol(){if(ib)return Mf;ib=1;var e=Pe(),t=ay(),r=pD(),n=pR();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return Mf=i,Mf}var jf,sb;function Do(){if(sb)return jf;sb=1;var e=as(),t=1/0;function r(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-t?"-0":i}return jf=r,jf}var Lf,ob;function al(){if(ob)return Lf;ob=1;var e=ol(),t=Do();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return Lf=r,Lf}var qf,ab;function vD(){if(ab)return qf;ab=1;var e=al();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return qf=t,qf}var Df,ub;function mD(){if(ub)return Df;ub=1;function e(t,r){return t!=null&&r in Object(t)}return Df=e,Df}var Uf,lb;function gR(){if(lb)return Uf;lb=1;var e=ol(),t=Lo(),r=Pe(),n=el(),i=Jm(),s=Do();function o(a,u,l){u=e(u,a);for(var c=-1,d=u.length,f=!1;++c<d;){var h=s(u[c]);if(!(f=a!=null&&l(a,h)))break;a=a[h]}return f||++c!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&n(h,d)&&(r(a)||t(a)))}return Uf=o,Uf}var zf,cb;function vR(){if(cb)return zf;cb=1;var e=mD(),t=gR();function r(n,i){return n!=null&&t(n,i,e)}return zf=r,zf}var Ff,db;function yD(){if(db)return Ff;db=1;var e=dR(),t=vD(),r=vR(),n=ay(),i=fR(),s=hR(),o=Do(),a=1,u=2;function l(c,d){return n(c)&&i(d)?s(o(c),d):function(f){var h=t(f,c);return h===void 0&&h===d?r(f,c):e(d,h,a|u)}}return Ff=l,Ff}var Bf,fb;function mR(){if(fb)return Bf;fb=1;function e(t){return function(r){return r==null?void 0:r[t]}}return Bf=e,Bf}var Vf,hb;function wD(){if(hb)return Vf;hb=1;var e=al();function t(r){return function(n){return e(n,r)}}return Vf=t,Vf}var Hf,pb;function _D(){if(pb)return Hf;pb=1;var e=mR(),t=wD(),r=ay(),n=Do();function i(s){return r(s)?e(n(s)):t(s)}return Hf=i,Hf}var Gf,gb;function Ur(){if(gb)return Gf;gb=1;var e=dD(),t=yD(),r=ti(),n=Pe(),i=_D();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return Gf=s,Gf}var Wf,vb;function yR(){if(vb)return Wf;vb=1;var e=KT(),t=tD(),r=Ur(),n=Pe();function i(s,o){var a=n(s)?e:t;return a(s,r(o,3))}return Wf=i,Wf}var Kf,mb;function bD(){if(mb)return Kf;mb=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,i){return n!=null&&t.call(n,i)}return Kf=r,Kf}var Yf,yb;function wR(){if(yb)return Yf;yb=1;var e=bD(),t=gR();function r(n,i){return n!=null&&t(n,i,e)}return Yf=r,Yf}var Xf,wb;function SD(){if(wb)return Xf;wb=1;var e=Zm(),t=os(),r=Lo(),n=Pe(),i=Dr(),s=ss(),o=rl(),a=qo(),u="[object Map]",l="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(n(h)||typeof h=="string"||typeof h.splice=="function"||s(h)||a(h)||r(h)))return!h.length;var m=t(h);if(m==u||m==l)return!h.size;if(o(h))return!e(h).length;for(var v in h)if(d.call(h,v))return!1;return!0}return Xf=f,Xf}var Jf,_b;function _R(){if(_b)return Jf;_b=1;function e(t){return t===void 0}return Jf=e,Jf}var Qf,bb;function bR(){if(bb)return Qf;bb=1;var e=il(),t=Dr();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(a,u,l){o[++s]=i(a,u,l)}),o}return Qf=r,Qf}var Zf,Sb;function SR(){if(Sb)return Zf;Sb=1;var e=sl(),t=Ur(),r=bR(),n=Pe();function i(s,o){var a=n(s)?e:r;return a(s,t(o,3))}return Zf=i,Zf}var eh,Eb;function ED(){if(Eb)return eh;Eb=1;function e(t,r,n,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(n=t[++s]);++s<o;)n=r(n,t[s],s,t);return n}return eh=e,eh}var th,xb;function xD(){if(xb)return th;xb=1;function e(t,r,n,i,s){return s(t,function(o,a,u){n=i?(i=!1,o):r(n,o,a,u)}),n}return th=e,th}var rh,kb;function ER(){if(kb)return rh;kb=1;var e=ED(),t=il(),r=Ur(),n=xD(),i=Pe();function s(o,a,u){var l=i(o)?e:n,c=arguments.length<3;return l(o,r(a,4),u,c,t)}return rh=s,rh}var nh,Cb;function kD(){if(Cb)return nh;Cb=1;var e=Qn(),t=Pe(),r=gr(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return nh=i,nh}var ih,Tb;function CD(){if(Tb)return ih;Tb=1;var e=mR(),t=e("length");return ih=t,ih}var sh,Rb;function TD(){if(Rb)return sh;Rb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function u(l){return a.test(l)}return sh=u,sh}var oh,Ab;function RD(){if(Ab)return oh;Ab=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+a+"|"+u+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",m=l+"?",v="["+s+"]?",w="(?:"+h+"(?:"+[c,d,f].join("|")+")"+v+m+")*",p=v+m+w,g="(?:"+[c+a+"?",a,d,f,o].join("|")+")",y=RegExp(u+"(?="+u+")|"+g+p,"g");function _(E){for(var S=y.lastIndex=0;y.test(E);)++S;return S}return oh=_,oh}var ah,Ib;function AD(){if(Ib)return ah;Ib=1;var e=CD(),t=TD(),r=RD();function n(i){return t(i)?r(i):e(i)}return ah=n,ah}var uh,Nb;function ID(){if(Nb)return uh;Nb=1;var e=Zm(),t=os(),r=Dr(),n=kD(),i=AD(),s="[object Map]",o="[object Set]";function a(u){if(u==null)return 0;if(r(u))return n(u)?i(u):u.length;var l=t(u);return l==s||l==o?u.size:e(u).length}return uh=a,uh}var lh,Ob;function ND(){if(Ob)return lh;Ob=1;var e=Xm(),t=rR(),r=sy(),n=Ur(),i=nl(),s=Pe(),o=ss(),a=Mo(),u=qt(),l=qo();function c(d,f,h){var m=s(d),v=m||o(d)||l(d);if(f=n(f,4),h==null){var w=d&&d.constructor;v?h=m?new w:[]:u(d)?h=a(w)?t(i(d)):{}:h={}}return(v?e:r)(d,function(p,g,y){return f(h,p,g,y)}),h}return lh=c,lh}var ch,Pb;function OD(){if(Pb)return ch;Pb=1;var e=is(),t=Lo(),r=Pe(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return ch=i,ch}var dh,$b;function uy(){if($b)return dh;$b=1;var e=ty(),t=OD();function r(n,i,s,o,a){var u=-1,l=n.length;for(s||(s=t),a||(a=[]);++u<l;){var c=n[u];i>0&&s(c)?i>1?r(c,i-1,s,o,a):e(a,c):o||(a[a.length]=c)}return a}return dh=r,dh}var fh,Mb;function PD(){if(Mb)return fh;Mb=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return fh=e,fh}var hh,jb;function xR(){if(jb)return hh;jb=1;var e=PD(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,a=-1,u=t(o.length-i,0),l=Array(u);++a<u;)l[a]=o[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=o[a];return c[i]=s(l),e(n,this,c)}}return hh=r,hh}var ph,Lb;function $D(){if(Lb)return ph;Lb=1;var e=ny(),t=BT(),r=ti(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return ph=n,ph}var gh,qb;function MD(){if(qb)return gh;qb=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var a=r(),u=t-(a-o);if(o=a,u>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return gh=n,gh}var vh,Db;function kR(){if(Db)return vh;Db=1;var e=$D(),t=MD(),r=t(e);return vh=r,vh}var mh,Ub;function ul(){if(Ub)return mh;Ub=1;var e=ti(),t=xR(),r=kR();function n(i,s){return r(t(i,s,e),i+"")}return mh=n,mh}var yh,zb;function CR(){if(zb)return yh;zb=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return yh=e,yh}var wh,Fb;function jD(){if(Fb)return wh;Fb=1;function e(t){return t!==t}return wh=e,wh}var _h,Bb;function LD(){if(Bb)return _h;Bb=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return _h=e,_h}var bh,Vb;function qD(){if(Vb)return bh;Vb=1;var e=CR(),t=jD(),r=LD();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return bh=n,bh}var Sh,Hb;function DD(){if(Hb)return Sh;Hb=1;var e=qD();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Sh=t,Sh}var Eh,Gb;function UD(){if(Gb)return Eh;Gb=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return Eh=e,Eh}var xh,Wb;function zD(){if(Wb)return xh;Wb=1;function e(){}return xh=e,xh}var kh,Kb;function FD(){if(Kb)return kh;Kb=1;var e=ZT(),t=zD(),r=oy(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return kh=i,kh}var Ch,Yb;function BD(){if(Yb)return Ch;Yb=1;var e=uR(),t=DD(),r=UD(),n=lR(),i=FD(),s=oy(),o=200;function a(u,l,c){var d=-1,f=t,h=u.length,m=!0,v=[],w=v;if(c)m=!1,f=r;else if(h>=o){var p=l?null:i(u);if(p)return s(p);m=!1,f=n,w=new e}else w=l?[]:v;e:for(;++d<h;){var g=u[d],y=l?l(g):g;if(g=c||g!==0?g:0,m&&y===y){for(var _=w.length;_--;)if(w[_]===y)continue e;l&&w.push(y),v.push(g)}else f(w,y,c)||(w!==v&&w.push(y),v.push(g))}return v}return Ch=a,Ch}var Th,Xb;function TR(){if(Xb)return Th;Xb=1;var e=Dr(),t=gr();function r(n){return t(n)&&e(n)}return Th=r,Th}var Rh,Jb;function VD(){if(Jb)return Rh;Jb=1;var e=uy(),t=ul(),r=BD(),n=TR(),i=t(function(s){return r(e(s,1,n,!0))});return Rh=i,Rh}var Ah,Qb;function HD(){if(Qb)return Ah;Qb=1;var e=sl();function t(r,n){return e(n,function(i){return r[i]})}return Ah=t,Ah}var Ih,Zb;function RR(){if(Zb)return Ih;Zb=1;var e=HD(),t=bn();function r(n){return n==null?[]:e(n,t(n))}return Ih=r,Ih}var Nh,eS;function Dt(){if(eS)return Nh;eS=1;var e;if(typeof Wm=="function")try{e={clone:Qq(),constant:ny(),each:aR(),filter:yR(),has:wR(),isArray:Pe(),isEmpty:SD(),isFunction:Mo(),isUndefined:_R(),keys:bn(),map:SR(),reduce:ER(),size:ID(),transform:ND(),union:VD(),values:RR()}}catch{}return e||(e=window._),Nh=e,Nh}var Oh,tS;function ly(){if(tS)return Oh;tS=1;var e=Dt();Oh=i;var t="\0",r="\0",n="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,h=this;return e.each(c,function(m){f.length>1?h.setNode(m,d):h.setNode(m)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=r,this._children[c]={},this._children[r][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){d.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=r;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==r)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=r),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===r)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(v,w){c(w)&&d.setNode(w,v)}),e.each(this._edgeObjs,function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,f.edge(v))});var h={};function m(v){var w=f.parent(v);return w===void 0||d.hasNode(w)?(h[v]=w,w):w in h?h[w]:m(w)}return this._isCompound&&e.each(d.nodes(),function(v){d.setParent(v,m(v))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,h=arguments;return e.reduce(c,function(m,v){return h.length>1?f.setEdge(m,v,d):f.setEdge(m,v),v}),this},i.prototype.setEdge=function(){var c,d,f,h,m=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,d=v.w,f=v.name,arguments.length===2&&(h=arguments[1],m=!0)):(c=v,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],m=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var w=a(this._isDirected,c,d,f);if(e.has(this._edgeLabels,w))return m&&(this._edgeLabels[w]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[w]=m?h:this._defaultEdgeLabelFn(c,d,f);var p=u(this._isDirected,c,d,f);return c=p.v,d=p.w,Object.freeze(p),this._edgeObjs[w]=p,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][w]=p,this._out[c][w]=p,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,d,f),m=this._edgeObjs[h];return m&&(c=m.v,d=m.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var h=e.values(f);return d?e.filter(h,function(m){return m.v===d}):h}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var h=e.values(f);return d?e.filter(h,function(m){return m.w===d}):h}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function o(c,d){--c[d]||delete c[d]}function a(c,d,f,h){var m=""+d,v=""+f;if(!c&&m>v){var w=m;m=v,v=w}return m+n+v+n+(e.isUndefined(h)?t:h)}function u(c,d,f,h){var m=""+d,v=""+f;if(!c&&m>v){var w=m;m=v,v=w}var p={v:m,w:v};return h&&(p.name=h),p}function l(c,d){return a(c,d.v,d.w,d.name)}return Oh}var Ph,rS;function GD(){return rS||(rS=1,Ph="2.1.8"),Ph}var $h,nS;function WD(){return nS||(nS=1,$h={Graph:ly(),version:GD()}),$h}var Mh,iS;function KD(){if(iS)return Mh;iS=1;var e=Dt(),t=ly();Mh={write:r,read:s};function r(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function n(o){return e.map(o.nodes(),function(a){var u=o.node(a),l=o.parent(a),c={v:a};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(o){return e.map(o.edges(),function(a){var u=o.edge(a),l={v:a.v,w:a.w};return e.isUndefined(a.name)||(l.name=a.name),e.isUndefined(u)||(l.value=u),l})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(u){a.setNode(u.v,u.value),u.parent&&a.setParent(u.v,u.parent)}),e.each(o.edges,function(u){a.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),a}return Mh}var jh,sS;function YD(){if(sS)return jh;sS=1;var e=Dt();jh=t;function t(r){var n={},i=[],s;function o(a){e.has(n,a)||(n[a]=!0,s.push(a),e.each(r.successors(a),o),e.each(r.predecessors(a),o))}return e.each(r.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return jh}var Lh,oS;function AR(){if(oS)return Lh;oS=1;var e=Dt();Lh=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!e.has(i,r)){var s=this._arr,o=s.length;return i[r]=o,s.push({key:r,priority:n}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},t.prototype._heapify=function(r){var n=this._arr,i=2*r,s=i+1,o=r;i<n.length&&(o=n[i].priority<n[o].priority?i:o,s<n.length&&(o=n[s].priority<n[o].priority?s:o),o!==r&&(this._swap(r,o),this._heapify(o)))},t.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,s;r!==0&&(s=r>>1,!(n[s].priority<i));)this._swap(r,s),r=s},t.prototype._swap=function(r,n){var i=this._arr,s=this._keyIndices,o=i[r],a=i[n];i[r]=a,i[n]=o,s[a.key]=r,s[o.key]=n},Lh}var qh,aS;function IR(){if(aS)return qh;aS=1;var e=Dt(),t=AR();qh=n;var r=e.constant(1);function n(s,o,a,u){return i(s,String(o),a||r,u||function(l){return s.outEdges(l)})}function i(s,o,a,u){var l={},c=new t,d,f,h=function(m){var v=m.v!==d?m.v:m.w,w=l[v],p=a(m),g=f.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+p);g<w.distance&&(w.distance=g,w.predecessor=d,c.decrease(v,g))};for(s.nodes().forEach(function(m){var v=m===o?0:Number.POSITIVE_INFINITY;l[m]={distance:v},c.add(m,v)});c.size()>0&&(d=c.removeMin(),f=l[d],f.distance!==Number.POSITIVE_INFINITY);)u(d).forEach(h);return l}return qh}var Dh,uS;function XD(){if(uS)return Dh;uS=1;var e=IR(),t=Dt();Dh=r;function r(n,i,s){return t.transform(n.nodes(),function(o,a){o[a]=e(n,a,i,s)},{})}return Dh}var Uh,lS;function NR(){if(lS)return Uh;lS=1;var e=Dt();Uh=t;function t(r){var n=0,i=[],s={},o=[];function a(u){var l=s[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),r.successors(u).forEach(function(f){e.has(s,f)?s[f].onStack&&(l.lowlink=Math.min(l.lowlink,s[f].index)):(a(f),l.lowlink=Math.min(l.lowlink,s[f].lowlink))}),l.lowlink===l.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(u!==d);o.push(c)}}return r.nodes().forEach(function(u){e.has(s,u)||a(u)}),o}return Uh}var zh,cS;function JD(){if(cS)return zh;cS=1;var e=Dt(),t=NR();zh=r;function r(n){return e.filter(t(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return zh}var Fh,dS;function QD(){if(dS)return Fh;dS=1;var e=Dt();Fh=r;var t=e.constant(1);function r(i,s,o){return n(i,s||t,o||function(a){return i.outEdges(a)})}function n(i,s,o){var a={},u=i.nodes();return u.forEach(function(l){a[l]={},a[l][l]={distance:0},u.forEach(function(c){l!==c&&(a[l][c]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(c){var d=c.v===l?c.w:c.v,f=s(c);a[l][d]={distance:f,predecessor:l}})}),u.forEach(function(l){var c=a[l];u.forEach(function(d){var f=a[d];u.forEach(function(h){var m=f[l],v=c[h],w=f[h],p=m.distance+v.distance;p<w.distance&&(w.distance=p,w.predecessor=v.predecessor)})})}),a}return Fh}var Bh,fS;function OR(){if(fS)return Bh;fS=1;var e=Dt();Bh=t,t.CycleException=r;function t(n){var i={},s={},o=[];function a(u){if(e.has(s,u))throw new r;e.has(i,u)||(s[u]=!0,i[u]=!0,e.each(n.predecessors(u),a),delete s[u],o.push(u))}if(e.each(n.sinks(),a),e.size(i)!==n.nodeCount())throw new r;return o}function r(){}return r.prototype=new Error,Bh}var Vh,hS;function ZD(){if(hS)return Vh;hS=1;var e=OR();Vh=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return Vh}var Hh,pS;function PR(){if(pS)return Hh;pS=1;var e=Dt();Hh=t;function t(n,i,s){e.isArray(i)||(i=[i]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],u={};return e.each(i,function(l){if(!n.hasNode(l))throw new Error("Graph does not have node: "+l);r(n,l,s==="post",u,o,a)}),a}function r(n,i,s,o,a,u){e.has(o,i)||(o[i]=!0,s||u.push(i),e.each(a(i),function(l){r(n,l,s,o,a,u)}),s&&u.push(i))}return Hh}var Gh,gS;function e3(){if(gS)return Gh;gS=1;var e=PR();Gh=t;function t(r,n){return e(r,n,"post")}return Gh}var Wh,vS;function t3(){if(vS)return Wh;vS=1;var e=PR();Wh=t;function t(r,n){return e(r,n,"pre")}return Wh}var Kh,mS;function r3(){if(mS)return Kh;mS=1;var e=Dt(),t=ly(),r=AR();Kh=n;function n(i,s){var o=new t,a={},u=new r,l;function c(f){var h=f.v===l?f.w:f.v,m=u.priority(h);if(m!==void 0){var v=s(f);v<m&&(a[h]=l,u.decrease(h,v))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(f){u.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),u.decrease(i.nodes()[0],0);for(var d=!1;u.size()>0;){if(l=u.removeMin(),e.has(a,l))o.setEdge(l,a[l]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(l).forEach(c)}return o}return Kh}var Yh,yS;function n3(){return yS||(yS=1,Yh={components:YD(),dijkstra:IR(),dijkstraAll:XD(),findCycles:JD(),floydWarshall:QD(),isAcyclic:ZD(),postorder:e3(),preorder:t3(),prim:r3(),tarjan:NR(),topsort:OR()}),Yh}var Xh,wS;function i3(){if(wS)return Xh;wS=1;var e=WD();return Xh={Graph:e.Graph,json:KD(),alg:n3(),version:e.version},Xh}var vu;if(typeof Wm=="function")try{vu=i3()}catch{}vu||(vu=window.graphlib);var nr=vu,Jh,_S;function s3(){if(_S)return Jh;_S=1;var e=iR(),t=1,r=4;function n(i){return e(i,t|r)}return Jh=n,Jh}var Qh,bS;function ll(){if(bS)return Qh;bS=1;var e=ns(),t=Dr(),r=el(),n=qt();function i(s,o,a){if(!n(a))return!1;var u=typeof o;return(u=="number"?t(a)&&r(o,a.length):u=="string"&&o in a)?e(a[o],s):!1}return Qh=i,Qh}var Zh,SS;function o3(){if(SS)return Zh;SS=1;var e=ul(),t=ns(),r=ll(),n=ei(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,u){a=Object(a);var l=-1,c=u.length,d=c>2?u[2]:void 0;for(d&&r(u[0],u[1],d)&&(c=1);++l<c;)for(var f=u[l],h=n(f),m=-1,v=h.length;++m<v;){var w=h[m],p=a[w];(p===void 0||t(p,i[w])&&!s.call(a,w))&&(a[w]=f[w])}return a});return Zh=o,Zh}var ep,ES;function a3(){if(ES)return ep;ES=1;var e=Ur(),t=Dr(),r=bn();function n(i){return function(s,o,a){var u=Object(s);if(!t(s)){var l=e(o,3);s=r(s),o=function(d){return l(u[d],d,u)}}var c=i(s,o,a);return c>-1?u[l?s[c]:c]:void 0}}return ep=n,ep}var tp,xS;function u3(){if(xS)return tp;xS=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return tp=t,tp}var rp,kS;function l3(){if(kS)return rp;kS=1;var e=u3(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return rp=r,rp}var np,CS;function c3(){if(CS)return np;CS=1;var e=l3(),t=qt(),r=as(),n=0/0,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=s.test(l);return d||o.test(l)?a(l.slice(2),d?2:8):i.test(l)?n:+l}return np=u,np}var ip,TS;function $R(){if(TS)return ip;TS=1;var e=c3(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return ip=n,ip}var sp,RS;function d3(){if(RS)return sp;RS=1;var e=$R();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return sp=t,sp}var op,AS;function f3(){if(AS)return op;AS=1;var e=CR(),t=Ur(),r=d3(),n=Math.max;function i(s,o,a){var u=s==null?0:s.length;if(!u)return-1;var l=a==null?0:r(a);return l<0&&(l=n(u+l,0)),e(s,t(o,3),l)}return op=i,op}var ap,IS;function h3(){if(IS)return ap;IS=1;var e=a3(),t=f3(),r=e(t);return ap=r,ap}var up,NS;function MR(){if(NS)return up;NS=1;var e=uy();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return up=t,up}var lp,OS;function p3(){if(OS)return lp;OS=1;var e=iy(),t=sR(),r=ei();function n(i,s){return i==null?i:e(i,t(s),r)}return lp=n,lp}var cp,PS;function g3(){if(PS)return cp;PS=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return cp=e,cp}var dp,$S;function v3(){if($S)return dp;$S=1;var e=Qu(),t=sy(),r=Ur();function n(i,s){var o={};return s=r(s,3),t(i,function(a,u,l){e(o,u,s(a,u,l))}),o}return dp=n,dp}var fp,MS;function cy(){if(MS)return fp;MS=1;var e=as();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var a=r[s],u=n(a);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=a}return c}return fp=t,fp}var hp,jS;function m3(){if(jS)return hp;jS=1;function e(t,r){return t>r}return hp=e,hp}var pp,LS;function y3(){if(LS)return pp;LS=1;var e=cy(),t=m3(),r=ti();function n(i){return i&&i.length?e(i,r,t):void 0}return pp=n,pp}var gp,qS;function jR(){if(qS)return gp;qS=1;var e=Qu(),t=ns();function r(n,i,s){(s!==void 0&&!t(n[i],s)||s===void 0&&!(i in n))&&e(n,i,s)}return gp=r,gp}var vp,DS;function w3(){if(DS)return vp;DS=1;var e=Qn(),t=nl(),r=gr(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,u=o.call(Object);function l(c){if(!r(c)||e(c)!=n)return!1;var d=t(c);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==u}return vp=l,vp}var mp,US;function LR(){if(US)return mp;US=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return mp=e,mp}var yp,zS;function _3(){if(zS)return yp;zS=1;var e=jo(),t=ei();function r(n){return e(n,t(n))}return yp=r,yp}var wp,FS;function b3(){if(FS)return wp;FS=1;var e=jR(),t=GT(),r=tR(),n=WT(),i=nR(),s=Lo(),o=Pe(),a=TR(),u=ss(),l=Mo(),c=qt(),d=w3(),f=qo(),h=LR(),m=_3();function v(w,p,g,y,_,E,S){var x=h(w,g),C=h(p,g),I=S.get(C);if(I){e(w,g,I);return}var P=E?E(x,C,g+"",w,p,S):void 0,T=P===void 0;if(T){var q=o(C),M=!q&&u(C),b=!q&&!M&&f(C);P=C,q||M||b?o(x)?P=x:a(x)?P=n(x):M?(T=!1,P=t(C,!0)):b?(T=!1,P=r(C,!0)):P=[]:d(C)||s(C)?(P=x,s(x)?P=m(x):(!c(x)||l(x))&&(P=i(C))):T=!1}T&&(S.set(C,P),_(P,C,y,E,S),S.delete(C)),e(w,g,P)}return wp=v,wp}var _p,BS;function S3(){if(BS)return _p;BS=1;var e=Ju(),t=jR(),r=iy(),n=b3(),i=qt(),s=ei(),o=LR();function a(u,l,c,d,f){u!==l&&r(l,function(h,m){if(f||(f=new e),i(h))n(u,l,m,c,a,d,f);else{var v=d?d(o(u,m),h,m+"",u,l,f):void 0;v===void 0&&(v=h),t(u,m,v)}},s)}return _p=a,_p}var bp,VS;function E3(){if(VS)return bp;VS=1;var e=ul(),t=ll();function r(n){return e(function(i,s){var o=-1,a=s.length,u=a>1?s[a-1]:void 0,l=a>2?s[2]:void 0;for(u=n.length>3&&typeof u=="function"?(a--,u):void 0,l&&t(s[0],s[1],l)&&(u=a<3?void 0:u,a=1),i=Object(i);++o<a;){var c=s[o];c&&n(i,c,o,u)}return i})}return bp=r,bp}var Sp,HS;function x3(){if(HS)return Sp;HS=1;var e=S3(),t=E3(),r=t(function(n,i,s){e(n,i,s)});return Sp=r,Sp}var Ep,GS;function qR(){if(GS)return Ep;GS=1;function e(t,r){return t<r}return Ep=e,Ep}var xp,WS;function k3(){if(WS)return xp;WS=1;var e=cy(),t=qR(),r=ti();function n(i){return i&&i.length?e(i,r,t):void 0}return xp=n,xp}var kp,KS;function C3(){if(KS)return kp;KS=1;var e=cy(),t=Ur(),r=qR();function n(i,s){return i&&i.length?e(i,t(s,2),r):void 0}return kp=n,kp}var Cp,YS;function T3(){if(YS)return Cp;YS=1;var e=rr(),t=function(){return e.Date.now()};return Cp=t,Cp}var Tp,XS;function R3(){if(XS)return Tp;XS=1;var e=Zu(),t=ol(),r=el(),n=qt(),i=Do();function s(o,a,u,l){if(!n(o))return o;a=t(a,o);for(var c=-1,d=a.length,f=d-1,h=o;h!=null&&++c<d;){var m=i(a[c]),v=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(c!=f){var w=h[m];v=l?l(w,m,h):void 0,v===void 0&&(v=n(w)?w:r(a[c+1])?[]:{})}e(h,m,v),h=h[m]}return o}return Tp=s,Tp}var Rp,JS;function A3(){if(JS)return Rp;JS=1;var e=al(),t=R3(),r=ol();function n(i,s,o){for(var a=-1,u=s.length,l={};++a<u;){var c=s[a],d=e(i,c);o(d,c)&&t(l,r(c,i),d)}return l}return Rp=n,Rp}var Ap,QS;function I3(){if(QS)return Ap;QS=1;var e=A3(),t=vR();function r(n,i){return e(n,i,function(s,o){return t(n,o)})}return Ap=r,Ap}var Ip,ZS;function N3(){if(ZS)return Ip;ZS=1;var e=MR(),t=xR(),r=kR();function n(i){return r(t(i,void 0,e),i+"")}return Ip=n,Ip}var Np,eE;function O3(){if(eE)return Np;eE=1;var e=I3(),t=N3(),r=t(function(n,i){return n==null?{}:e(n,i)});return Np=r,Np}var Op,tE;function P3(){if(tE)return Op;tE=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var a=-1,u=t(e((i-n)/(s||1)),0),l=Array(u);u--;)l[o?u:++a]=n,n+=s;return l}return Op=r,Op}var Pp,rE;function $3(){if(rE)return Pp;rE=1;var e=P3(),t=ll(),r=$R();function n(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),a=a===void 0?s<o?1:-1:r(a),e(s,o,a,i)}}return Pp=n,Pp}var $p,nE;function M3(){if(nE)return $p;nE=1;var e=$3(),t=e();return $p=t,$p}var Mp,iE;function j3(){if(iE)return Mp;iE=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Mp=e,Mp}var jp,sE;function L3(){if(sE)return jp;sE=1;var e=as();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,a=e(r),u=n!==void 0,l=n===null,c=n===n,d=e(n);if(!l&&!d&&!a&&r>n||a&&u&&c&&!l&&!d||s&&u&&c||!i&&c||!o)return 1;if(!s&&!a&&!d&&r<n||d&&i&&o&&!s&&!a||l&&i&&o||!u&&o||!c)return-1}return 0}return jp=t,jp}var Lp,oE;function q3(){if(oE)return Lp;oE=1;var e=L3();function t(r,n,i){for(var s=-1,o=r.criteria,a=n.criteria,u=o.length,l=i.length;++s<u;){var c=e(o[s],a[s]);if(c){if(s>=l)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return r.index-n.index}return Lp=t,Lp}var qp,aE;function D3(){if(aE)return qp;aE=1;var e=sl(),t=al(),r=Ur(),n=bR(),i=j3(),s=tl(),o=q3(),a=ti(),u=Pe();function l(c,d,f){d.length?d=e(d,function(v){return u(v)?function(w){return t(w,v.length===1?v[0]:v)}:v}):d=[a];var h=-1;d=e(d,s(r));var m=n(c,function(v,w,p){var g=e(d,function(y){return y(v)});return{criteria:g,index:++h,value:v}});return i(m,function(v,w){return o(v,w,f)})}return qp=l,qp}var Dp,uE;function U3(){if(uE)return Dp;uE=1;var e=uy(),t=D3(),r=ul(),n=ll(),i=r(function(s,o){if(s==null)return[];var a=o.length;return a>1&&n(s,o[0],o[1])?o=[]:a>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return Dp=i,Dp}var Up,lE;function z3(){if(lE)return Up;lE=1;var e=pR(),t=0;function r(n){var i=++t;return e(n)+i}return Up=r,Up}var zp,cE;function F3(){if(cE)return zp;cE=1;function e(t,r,n){for(var i=-1,s=t.length,o=r.length,a={};++i<s;){var u=i<o?r[i]:void 0;n(a,t[i],u)}return a}return zp=e,zp}var Fp,dE;function B3(){if(dE)return Fp;dE=1;var e=Zu(),t=F3();function r(n,i){return t(n||[],i||[],e)}return Fp=r,Fp}var mu;if(typeof Wm=="function")try{mu={cloneDeep:s3(),constant:ny(),defaults:o3(),each:aR(),filter:yR(),find:h3(),flatten:MR(),forEach:oR(),forIn:p3(),has:wR(),isUndefined:_R(),last:g3(),map:SR(),mapValues:v3(),max:y3(),merge:x3(),min:k3(),minBy:C3(),now:T3(),pick:O3(),range:M3(),reduce:ER(),sortBy:U3(),uniqueId:z3(),values:RR(),zipObject:B3()}}catch{}mu||(mu=window._);var ye=mu,V3=cl;function cl(){var e={};e._next=e._prev=e,this._sentinel=e}cl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return DR(t),t};cl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&DR(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};cl.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,H3)),r=r._prev;return"["+e.join(", ")+"]"};function DR(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function H3(e,t){if(e!=="_next"&&e!=="_prev")return t}var Tr=ye,G3=nr.Graph,W3=V3,K3=X3,Y3=Tr.constant(1);function X3(e,t){if(e.nodeCount()<=1)return[];var r=Q3(e,t||Y3),n=J3(r.graph,r.buckets,r.zeroIdx);return Tr.flatten(Tr.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}function J3(e,t,r){for(var n=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)Bp(e,t,r,o);for(;o=i.dequeue();)Bp(e,t,r,o);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(o=t[a].dequeue(),o){n=n.concat(Bp(e,t,r,o,!0));break}}}return n}function Bp(e,t,r,n,i){var s=i?[]:void 0;return Tr.forEach(e.inEdges(n.v),function(o){var a=e.edge(o),u=e.node(o.v);i&&s.push({v:o.v,w:o.w}),u.out-=a,wv(t,r,u)}),Tr.forEach(e.outEdges(n.v),function(o){var a=e.edge(o),u=o.w,l=e.node(u);l.in-=a,wv(t,r,l)}),e.removeNode(n.v),s}function Q3(e,t){var r=new G3,n=0,i=0;Tr.forEach(e.nodes(),function(a){r.setNode(a,{v:a,in:0,out:0})}),Tr.forEach(e.edges(),function(a){var u=r.edge(a.v,a.w)||0,l=t(a),c=u+l;r.setEdge(a.v,a.w,c),i=Math.max(i,r.node(a.v).out+=l),n=Math.max(n,r.node(a.w).in+=l)});var s=Tr.range(i+n+3).map(function(){return new W3}),o=n+1;return Tr.forEach(r.nodes(),function(a){wv(s,o,r.node(a))}),{graph:r,buckets:s,zeroIdx:o}}function wv(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Ln=ye,Z3=K3,e4={run:t4,undo:n4};function t4(e){var t=e.graph().acyclicer==="greedy"?Z3(e,r(e)):r4(e);Ln.forEach(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Ln.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function r4(e){var t=[],r={},n={};function i(s){Ln.has(n,s)||(n[s]=!0,r[s]=!0,Ln.forEach(e.outEdges(s),function(o){Ln.has(r,o.w)?t.push(o):i(o.w)}),delete r[s])}return Ln.forEach(e.nodes(),i),t}function n4(e){Ln.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var ce=ye,UR=nr.Graph,mt={addDummyNode:zR,simplify:i4,asNonCompoundGraph:s4,successorWeights:o4,predecessorWeights:a4,intersectRect:u4,buildLayerMatrix:l4,normalizeRanks:c4,removeEmptyRanks:d4,addBorderNode:f4,maxRank:FR,partition:h4,time:p4,notime:g4};function zR(e,t,r,n){var i;do i=ce.uniqueId(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function i4(e){var t=new UR().setGraph(e.graph());return ce.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),ce.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function s4(e){var t=new UR({multigraph:e.isMultigraph()}).setGraph(e.graph());return ce.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),ce.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function o4(e){var t=ce.map(e.nodes(),function(r){var n={};return ce.forEach(e.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return ce.zipObject(e.nodes(),t)}function a4(e){var t=ce.map(e.nodes(),function(r){var n={};return ce.forEach(e.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return ce.zipObject(e.nodes(),t)}function u4(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,o=e.width/2,a=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),u=a*i/s,l=a):(i<0&&(o=-o),u=o,l=o*s/i),{x:r+u,y:n+l}}function l4(e){var t=ce.map(ce.range(FR(e)+1),function(){return[]});return ce.forEach(e.nodes(),function(r){var n=e.node(r),i=n.rank;ce.isUndefined(i)||(t[i][n.order]=r)}),t}function c4(e){var t=ce.min(ce.map(e.nodes(),function(r){return e.node(r).rank}));ce.forEach(e.nodes(),function(r){var n=e.node(r);ce.has(n,"rank")&&(n.rank-=t)})}function d4(e){var t=ce.min(ce.map(e.nodes(),function(s){return e.node(s).rank})),r=[];ce.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;r[o]||(r[o]=[]),r[o].push(s)});var n=0,i=e.graph().nodeRankFactor;ce.forEach(r,function(s,o){ce.isUndefined(s)&&o%i!==0?--n:n&&ce.forEach(s,function(a){e.node(a).rank+=n})})}function f4(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),zR(e,"border",i,t)}function FR(e){return ce.max(ce.map(e.nodes(),function(t){var r=e.node(t).rank;if(!ce.isUndefined(r))return r}))}function h4(e,t){var r={lhs:[],rhs:[]};return ce.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function p4(e,t){var r=ce.now();try{return t()}finally{console.log(e+" time: "+(ce.now()-r)+"ms")}}function g4(e,t){return t()}var BR=ye,v4=mt,m4={run:y4,undo:_4};function y4(e){e.graph().dummyChains=[],BR.forEach(e.edges(),function(t){w4(e,t)})}function w4(e,t){var r=t.v,n=e.node(r).rank,i=t.w,s=e.node(i).rank,o=t.name,a=e.edge(t),u=a.labelRank;if(s!==n+1){e.removeEdge(t);var l,c,d;for(d=0,++n;n<s;++d,++n)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:n},l=v4.addDummyNode(e,"edge",c,"_d"),n===u&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(r,l,{weight:a.weight},o),d===0&&e.graph().dummyChains.push(l),r=l;e.setEdge(r,i,{weight:a.weight},o)}}function _4(e){BR.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var pa=ye,dl={longestPath:b4,slack:S4};function b4(e){var t={};function r(n){var i=e.node(n);if(pa.has(t,n))return i.rank;t[n]=!0;var s=pa.min(pa.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}pa.forEach(e.sources(),r)}function S4(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var yu=ye,E4=nr.Graph,wu=dl.slack,VR=x4;function x4(e){var t=new E4({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,s;k4(t,e)<n;)i=C4(t,e),s=t.hasNode(i.v)?wu(e,i):-wu(e,i),T4(t,e,s);return t}function k4(e,t){function r(n){yu.forEach(t.nodeEdges(n),function(i){var s=i.v,o=n===s?i.w:s;!e.hasNode(o)&&!wu(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return yu.forEach(e.nodes(),r),e.nodeCount()}function C4(e,t){return yu.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return wu(t,r)})}function T4(e,t,r){yu.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var Lr=ye,R4=VR,A4=dl.slack,I4=dl.longestPath,N4=nr.alg.preorder,O4=nr.alg.postorder,P4=mt.simplify,$4=ri;ri.initLowLimValues=fy;ri.initCutValues=dy;ri.calcCutValue=HR;ri.leaveEdge=WR;ri.enterEdge=KR;ri.exchangeEdges=YR;function ri(e){e=P4(e),I4(e);var t=R4(e);fy(t),dy(t,e);for(var r,n;r=WR(t);)n=KR(t,e,r),YR(t,e,r,n)}function dy(e,t){var r=O4(e,e.nodes());r=r.slice(0,r.length-1),Lr.forEach(r,function(n){M4(e,t,n)})}function M4(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=HR(e,t,r)}function HR(e,t,r){var n=e.node(r),i=n.parent,s=!0,o=t.edge(r,i),a=0;return o||(s=!1,o=t.edge(i,r)),a=o.weight,Lr.forEach(t.nodeEdges(r),function(u){var l=u.v===r,c=l?u.w:u.v;if(c!==i){var d=l===s,f=t.edge(u).weight;if(a+=d?f:-f,L4(e,r,c)){var h=e.edge(r,c).cutvalue;a+=d?-h:h}}}),a}function fy(e,t){arguments.length<2&&(t=e.nodes()[0]),GR(e,{},1,t)}function GR(e,t,r,n,i){var s=r,o=e.node(n);return t[n]=!0,Lr.forEach(e.neighbors(n),function(a){Lr.has(t,a)||(r=GR(e,t,r,a,n))}),o.low=s,o.lim=r++,i?o.parent=i:delete o.parent,r}function WR(e){return Lr.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function KR(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var s=e.node(n),o=e.node(i),a=s,u=!1;s.lim>o.lim&&(a=o,u=!0);var l=Lr.filter(t.edges(),function(c){return u===fE(e,e.node(c.v),a)&&u!==fE(e,e.node(c.w),a)});return Lr.minBy(l,function(c){return A4(t,c)})}function YR(e,t,r,n){var i=r.v,s=r.w;e.removeEdge(i,s),e.setEdge(n.v,n.w,{}),fy(e),dy(e,t),j4(e,t)}function j4(e,t){var r=Lr.find(e.nodes(),function(i){return!t.node(i).parent}),n=N4(e,r);n=n.slice(1),Lr.forEach(n,function(i){var s=e.node(i).parent,o=t.edge(i,s),a=!1;o||(o=t.edge(s,i),a=!0),t.node(i).rank=t.node(s).rank+(a?o.minlen:-o.minlen)})}function L4(e,t,r){return e.hasEdge(t,r)}function fE(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var q4=dl,XR=q4.longestPath,D4=VR,U4=$4,z4=F4;function F4(e){switch(e.graph().ranker){case"network-simplex":hE(e);break;case"tight-tree":V4(e);break;case"longest-path":B4(e);break;default:hE(e)}}var B4=XR;function V4(e){XR(e),D4(e)}function hE(e){U4(e)}var _v=ye,H4=G4;function G4(e){var t=K4(e);_v.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,s=W4(e,t,i.v,i.w),o=s.path,a=s.lca,u=0,l=o[u],c=!0;r!==i.w;){if(n=e.node(r),c){for(;(l=o[u])!==a&&e.node(l).maxRank<n.rank;)u++;l===a&&(c=!1)}if(!c){for(;u<o.length-1&&e.node(l=o[u+1]).minRank<=n.rank;)u++;l=o[u]}e.setParent(r,l),r=e.successors(r)[0]}})}function W4(e,t,r,n){var i=[],s=[],o=Math.min(t[r].low,t[n].low),a=Math.max(t[r].lim,t[n].lim),u,l;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>o||a>t[u].lim));for(l=u,u=n;(u=e.parent(u))!==l;)s.push(u);return{path:i.concat(s.reverse()),lca:l}}function K4(e){var t={},r=0;function n(i){var s=r;_v.forEach(e.children(i),n),t[i]={low:s,lim:r++}}return _v.forEach(e.children(),n),t}var Rr=ye,bv=mt,Y4={run:X4,cleanup:Z4};function X4(e){var t=bv.addDummyNode(e,"root",{},"_root"),r=J4(e),n=Rr.max(Rr.values(r))-1,i=2*n+1;e.graph().nestingRoot=t,Rr.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=Q4(e)+1;Rr.forEach(e.children(),function(o){JR(e,t,i,s,n,r,o)}),e.graph().nodeRankFactor=i}function JR(e,t,r,n,i,s,o){var a=e.children(o);if(!a.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var u=bv.addBorderNode(e,"_bt"),l=bv.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(u,o),c.borderTop=u,e.setParent(l,o),c.borderBottom=l,Rr.forEach(a,function(d){JR(e,t,r,n,i,s,d);var f=e.node(d),h=f.borderTop?f.borderTop:d,m=f.borderBottom?f.borderBottom:d,v=f.borderTop?n:2*n,w=h!==m?1:i-s[o]+1;e.setEdge(u,h,{weight:v,minlen:w,nestingEdge:!0}),e.setEdge(m,l,{weight:v,minlen:w,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,u,{weight:0,minlen:i+s[o]})}function J4(e){var t={};function r(n,i){var s=e.children(n);s&&s.length&&Rr.forEach(s,function(o){r(o,i+1)}),t[n]=i}return Rr.forEach(e.children(),function(n){r(n,1)}),t}function Q4(e){return Rr.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function Z4(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Rr.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var Vp=ye,eU=mt,tU=rU;function rU(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&Vp.forEach(n,t),Vp.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)pE(e,"borderLeft","_bl",r,i,s),pE(e,"borderRight","_br",r,i,s)}}Vp.forEach(e.children(),t)}function pE(e,t,r,n,i,s){var o={width:0,height:0,rank:s,borderType:t},a=i[t][s-1],u=eU.addDummyNode(e,"border",o,r);i[t][s]=u,e.setParent(u,n),a&&e.setEdge(a,u,{weight:1})}var cr=ye,nU={adjust:iU,undo:sU};function iU(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&QR(e)}function sU(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&oU(e),(t==="lr"||t==="rl")&&(aU(e),QR(e))}function QR(e){cr.forEach(e.nodes(),function(t){gE(e.node(t))}),cr.forEach(e.edges(),function(t){gE(e.edge(t))})}function gE(e){var t=e.width;e.width=e.height,e.height=t}function oU(e){cr.forEach(e.nodes(),function(t){Hp(e.node(t))}),cr.forEach(e.edges(),function(t){var r=e.edge(t);cr.forEach(r.points,Hp),cr.has(r,"y")&&Hp(r)})}function Hp(e){e.y=-e.y}function aU(e){cr.forEach(e.nodes(),function(t){Gp(e.node(t))}),cr.forEach(e.edges(),function(t){var r=e.edge(t);cr.forEach(r.points,Gp),cr.has(r,"x")&&Gp(r)})}function Gp(e){var t=e.x;e.x=e.y,e.y=t}var _r=ye,uU=lU;function lU(e){var t={},r=_r.filter(e.nodes(),function(a){return!e.children(a).length}),n=_r.max(_r.map(r,function(a){return e.node(a).rank})),i=_r.map(_r.range(n+1),function(){return[]});function s(a){if(!_r.has(t,a)){t[a]=!0;var u=e.node(a);i[u.rank].push(a),_r.forEach(e.successors(a),s)}}var o=_r.sortBy(r,function(a){return e.node(a).rank});return _r.forEach(o,s),i}var Hr=ye,cU=dU;function dU(e,t){for(var r=0,n=1;n<t.length;++n)r+=fU(e,t[n-1],t[n]);return r}function fU(e,t,r){for(var n=Hr.zipObject(r,Hr.map(r,function(l,c){return c})),i=Hr.flatten(Hr.map(t,function(l){return Hr.sortBy(Hr.map(e.outEdges(l),function(c){return{pos:n[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<r.length;)s<<=1;var o=2*s-1;s-=1;var a=Hr.map(new Array(o),function(){return 0}),u=0;return Hr.forEach(i.forEach(function(l){var c=l.pos+s;a[c]+=l.weight;for(var d=0;c>0;)c%2&&(d+=a[c+1]),c=c-1>>1,a[c]+=l.weight;u+=l.weight*d})),u}var vE=ye,hU=pU;function pU(e,t){return vE.map(t,function(r){var n=e.inEdges(r);if(n.length){var i=vE.reduce(n,function(s,o){var a=e.edge(o),u=e.node(o.v);return{sum:s.sum+a.weight*u.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var bt=ye,gU=vU;function vU(e,t){var r={};bt.forEach(e,function(i,s){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};bt.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),bt.forEach(t.edges(),function(i){var s=r[i.v],o=r[i.w];!bt.isUndefined(s)&&!bt.isUndefined(o)&&(o.indegree++,s.out.push(r[i.w]))});var n=bt.filter(r,function(i){return!i.indegree});return mU(n)}function mU(e){var t=[];function r(s){return function(o){o.merged||(bt.isUndefined(o.barycenter)||bt.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&yU(s,o)}}function n(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),bt.forEach(i.in.reverse(),r(i)),bt.forEach(i.out,n(i))}return bt.map(bt.filter(t,function(s){return!s.merged}),function(s){return bt.pick(s,["vs","i","barycenter","weight"])})}function yU(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var Ps=ye,wU=mt,_U=bU;function bU(e,t){var r=wU.partition(e,function(c){return Ps.has(c,"barycenter")}),n=r.lhs,i=Ps.sortBy(r.rhs,function(c){return-c.i}),s=[],o=0,a=0,u=0;n.sort(SU(!!t)),u=mE(s,i,u),Ps.forEach(n,function(c){u+=c.vs.length,s.push(c.vs),o+=c.barycenter*c.weight,a+=c.weight,u=mE(s,i,u)});var l={vs:Ps.flatten(s,!0)};return a&&(l.barycenter=o/a,l.weight=a),l}function mE(e,t,r){for(var n;t.length&&(n=Ps.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function SU(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var en=ye,EU=hU,xU=gU,kU=_U,CU=ZR;function ZR(e,t,r,n){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,u={};o&&(i=en.filter(i,function(m){return m!==o&&m!==a}));var l=EU(e,i);en.forEach(l,function(m){if(e.children(m.v).length){var v=ZR(e,m.v,r,n);u[m.v]=v,en.has(v,"barycenter")&&RU(m,v)}});var c=xU(l,r);TU(c,u);var d=kU(c,n);if(o&&(d.vs=en.flatten([o,d.vs,a],!0),e.predecessors(o).length)){var f=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(a)[0]);en.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function TU(e,t){en.forEach(e,function(r){r.vs=en.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function RU(e,t){en.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var $s=ye,AU=nr.Graph,IU=NU;function NU(e,t,r){var n=OU(e),i=new AU({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return e.node(s)});return $s.forEach(e.nodes(),function(s){var o=e.node(s),a=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||n),$s.forEach(e[r](s),function(u){var l=u.v===s?u.w:u.v,c=i.edge(l,s),d=$s.isUndefined(c)?0:c.weight;i.setEdge(l,s,{weight:e.edge(u).weight+d})}),$s.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function OU(e){for(var t;e.hasNode(t=$s.uniqueId("_root")););return t}var PU=ye,$U=MU;function MU(e,t,r){var n={},i;PU.forEach(r,function(s){for(var o=e.parent(s),a,u;o;){if(a=e.parent(o),a?(u=n[a],n[a]=o):(u=i,i=o),u&&u!==o){t.setEdge(u,o);return}o=a}})}var pn=ye,jU=uU,LU=cU,qU=CU,DU=IU,UU=$U,zU=nr.Graph,yE=mt,FU=BU;function BU(e){var t=yE.maxRank(e),r=wE(e,pn.range(1,t+1),"inEdges"),n=wE(e,pn.range(t-1,-1,-1),"outEdges"),i=jU(e);_E(e,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,u=0;u<4;++a,++u){VU(a%2?r:n,a%4>=2),i=yE.buildLayerMatrix(e);var l=LU(e,i);l<s&&(u=0,o=pn.cloneDeep(i),s=l)}_E(e,o)}function wE(e,t,r){return pn.map(t,function(n){return DU(e,n,r)})}function VU(e,t){var r=new zU;pn.forEach(e,function(n){var i=n.graph().root,s=qU(n,i,r,t);pn.forEach(s.vs,function(o,a){n.node(o).order=a}),UU(n,r,s.vs)})}function _E(e,t){pn.forEach(t,function(r){pn.forEach(r,function(n,i){e.node(n).order=i})})}var te=ye,HU=nr.Graph,GU=mt,WU={positionX:XU,findType1Conflicts:eA,findType2Conflicts:tA,addConflict:hy,hasConflict:rA,verticalAlignment:nA,horizontalCompaction:iA,alignCoordinates:oA,findSmallestWidthAlignment:sA,balance:aA};function eA(e,t){var r={};function n(i,s){var o=0,a=0,u=i.length,l=te.last(s);return te.forEach(s,function(c,d){var f=KU(e,c),h=f?e.node(f).order:u;(f||c===l)&&(te.forEach(s.slice(a,d+1),function(m){te.forEach(e.predecessors(m),function(v){var w=e.node(v),p=w.order;(p<o||h<p)&&!(w.dummy&&e.node(m).dummy)&&hy(r,v,m)})}),a=d+1,o=h)}),s}return te.reduce(t,n),r}function tA(e,t){var r={};function n(s,o,a,u,l){var c;te.forEach(te.range(o,a),function(d){c=s[d],e.node(c).dummy&&te.forEach(e.predecessors(c),function(f){var h=e.node(f);h.dummy&&(h.order<u||h.order>l)&&hy(r,f,c)})})}function i(s,o){var a=-1,u,l=0;return te.forEach(o,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(u=e.node(f[0]).order,n(o,l,d,a,u),l=d,a=u)}n(o,l,o.length,u,s.length)}),o}return te.reduce(t,i),r}function KU(e,t){if(e.node(t).dummy)return te.find(e.predecessors(t),function(r){return e.node(r).dummy})}function hy(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function rA(e,t,r){if(t>r){var n=t;t=r,r=n}return te.has(e[t],r)}function nA(e,t,r,n){var i={},s={},o={};return te.forEach(t,function(a){te.forEach(a,function(u,l){i[u]=u,s[u]=u,o[u]=l})}),te.forEach(t,function(a){var u=-1;te.forEach(a,function(l){var c=n(l);if(c.length){c=te.sortBy(c,function(v){return o[v]});for(var d=(c.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var m=c[f];s[l]===l&&u<o[m]&&!rA(r,l,m)&&(s[m]=l,s[l]=i[l]=i[m],u=o[m])}}})}),{root:i,align:s}}function iA(e,t,r,n,i){var s={},o=YU(e,t,r,i),a=i?"borderLeft":"borderRight";function u(d,f){for(var h=o.nodes(),m=h.pop(),v={};m;)v[m]?d(m):(v[m]=!0,h.push(m),h=h.concat(f(m))),m=h.pop()}function l(d){s[d]=o.inEdges(d).reduce(function(f,h){return Math.max(f,s[h.v]+o.edge(h))},0)}function c(d){var f=o.outEdges(d).reduce(function(m,v){return Math.min(m,s[v.w]-o.edge(v))},Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(s[d]=Math.max(s[d],f))}return u(l,o.predecessors.bind(o)),u(c,o.successors.bind(o)),te.forEach(n,function(d){s[d]=s[r[d]]}),s}function YU(e,t,r,n){var i=new HU,s=e.graph(),o=JU(s.nodesep,s.edgesep,n);return te.forEach(t,function(a){var u;te.forEach(a,function(l){var c=r[l];if(i.setNode(c),u){var d=r[u],f=i.edge(d,c);i.setEdge(d,c,Math.max(o(e,l,u),f||0))}u=l})}),i}function sA(e,t){return te.minBy(te.values(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return te.forIn(r,function(s,o){var a=QU(e,o)/2;n=Math.max(s+a,n),i=Math.min(s-a,i)}),n-i})}function oA(e,t){var r=te.values(t),n=te.min(r),i=te.max(r);te.forEach(["u","d"],function(s){te.forEach(["l","r"],function(o){var a=s+o,u=e[a],l;if(u!==t){var c=te.values(u);l=o==="l"?n-te.min(c):i-te.max(c),l&&(e[a]=te.mapValues(u,function(d){return d+l}))}})})}function aA(e,t){return te.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=te.sortBy(te.map(e,n));return(i[1]+i[2])/2})}function XU(e){var t=GU.buildLayerMatrix(e),r=te.merge(eA(e,t),tA(e,t)),n={},i;te.forEach(["u","d"],function(o){i=o==="u"?t:te.values(t).reverse(),te.forEach(["l","r"],function(a){a==="r"&&(i=te.map(i,function(d){return te.values(d).reverse()}));var u=(o==="u"?e.predecessors:e.successors).bind(e),l=nA(e,i,r,u),c=iA(e,i,l.root,l.align,a==="r");a==="r"&&(c=te.mapValues(c,function(d){return-d})),n[o+a]=c})});var s=sA(e,n);return oA(n,s),aA(n,e.graph().align)}function JU(e,t,r){return function(n,i,s){var o=n.node(i),a=n.node(s),u=0,l;if(u+=o.width/2,te.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(u+=r?l:-l),l=0,u+=(o.dummy?t:e)/2,u+=(a.dummy?t:e)/2,u+=a.width/2,te.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":l=a.width/2;break;case"r":l=-a.width/2;break}return l&&(u+=r?l:-l),l=0,u}}function QU(e,t){return e.node(t).width}var Ms=ye,uA=mt,ZU=WU.positionX,ez=tz;function tz(e){e=uA.asNonCompoundGraph(e),rz(e),Ms.forEach(ZU(e),function(t,r){e.node(r).x=t})}function rz(e){var t=uA.buildLayerMatrix(e),r=e.graph().ranksep,n=0;Ms.forEach(t,function(i){var s=Ms.max(Ms.map(i,function(o){return e.node(o).height}));Ms.forEach(i,function(o){e.node(o).y=n+s/2}),n+=s+r})}var ne=ye,bE=e4,SE=m4,nz=z4,iz=mt.normalizeRanks,sz=H4,oz=mt.removeEmptyRanks,EE=Y4,az=tU,xE=nU,uz=FU,lz=ez,mn=mt,cz=nr.Graph,dz=fz;function fz(e,t){var r=t&&t.debugTiming?mn.time:mn.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return Ez(e)});r("  runLayout",function(){hz(n,r)}),r("  updateInputGraph",function(){pz(e,n)})})}function hz(e,t){t("    makeSpaceForEdgeLabels",function(){xz(e)}),t("    removeSelfEdges",function(){Pz(e)}),t("    acyclic",function(){bE.run(e)}),t("    nestingGraph.run",function(){EE.run(e)}),t("    rank",function(){nz(mn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){kz(e)}),t("    removeEmptyRanks",function(){oz(e)}),t("    nestingGraph.cleanup",function(){EE.cleanup(e)}),t("    normalizeRanks",function(){iz(e)}),t("    assignRankMinMax",function(){Cz(e)}),t("    removeEdgeLabelProxies",function(){Tz(e)}),t("    normalize.run",function(){SE.run(e)}),t("    parentDummyChains",function(){sz(e)}),t("    addBorderSegments",function(){az(e)}),t("    order",function(){uz(e)}),t("    insertSelfEdges",function(){$z(e)}),t("    adjustCoordinateSystem",function(){xE.adjust(e)}),t("    position",function(){lz(e)}),t("    positionSelfEdges",function(){Mz(e)}),t("    removeBorderNodes",function(){Oz(e)}),t("    normalize.undo",function(){SE.undo(e)}),t("    fixupEdgeLabelCoords",function(){Iz(e)}),t("    undoCoordinateSystem",function(){xE.undo(e)}),t("    translateGraph",function(){Rz(e)}),t("    assignNodeIntersects",function(){Az(e)}),t("    reversePoints",function(){Nz(e)}),t("    acyclic.undo",function(){bE.undo(e)})}function pz(e,t){ne.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),ne.forEach(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,ne.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var gz=["nodesep","edgesep","ranksep","marginx","marginy"],vz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},mz=["acyclicer","ranker","rankdir","align"],yz=["width","height"],wz={width:0,height:0},_z=["minlen","weight","width","height","labeloffset"],bz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Sz=["labelpos"];function Ez(e){var t=new cz({multigraph:!0,compound:!0}),r=Kp(e.graph());return t.setGraph(ne.merge({},vz,Wp(r,gz),ne.pick(r,mz))),ne.forEach(e.nodes(),function(n){var i=Kp(e.node(n));t.setNode(n,ne.defaults(Wp(i,yz),wz)),t.setParent(n,e.parent(n))}),ne.forEach(e.edges(),function(n){var i=Kp(e.edge(n));t.setEdge(n,ne.merge({},bz,Wp(i,_z),ne.pick(i,Sz)))}),t}function xz(e){var t=e.graph();t.ranksep/=2,ne.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function kz(e){ne.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-n.rank)/2+n.rank,e:t};mn.addDummyNode(e,"edge-proxy",s,"_ep")}})}function Cz(e){var t=0;ne.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=ne.max(t,n.maxRank))}),e.graph().maxRank=t}function Tz(e){ne.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function Rz(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,a=s.marginy||0;function u(l){var c=l.x,d=l.y,f=l.width,h=l.height;t=Math.min(t,c-f/2),r=Math.max(r,c+f/2),n=Math.min(n,d-h/2),i=Math.max(i,d+h/2)}ne.forEach(e.nodes(),function(l){u(e.node(l))}),ne.forEach(e.edges(),function(l){var c=e.edge(l);ne.has(c,"x")&&u(c)}),t-=o,n-=a,ne.forEach(e.nodes(),function(l){var c=e.node(l);c.x-=t,c.y-=n}),ne.forEach(e.edges(),function(l){var c=e.edge(l);ne.forEach(c.points,function(d){d.x-=t,d.y-=n}),ne.has(c,"x")&&(c.x-=t),ne.has(c,"y")&&(c.y-=n)}),s.width=r-t+o,s.height=i-n+a}function Az(e){ne.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s,o;r.points?(s=r.points[0],o=r.points[r.points.length-1]):(r.points=[],s=i,o=n),r.points.unshift(mn.intersectRect(n,s)),r.points.push(mn.intersectRect(i,o))})}function Iz(e){ne.forEach(e.edges(),function(t){var r=e.edge(t);if(ne.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function Nz(e){ne.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function Oz(e){ne.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),s=e.node(ne.last(r.borderLeft)),o=e.node(ne.last(r.borderRight));r.width=Math.abs(o.x-s.x),r.height=Math.abs(i.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),ne.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Pz(e){ne.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function $z(e){var t=mn.buildLayerMatrix(e);ne.forEach(t,function(r){var n=0;ne.forEach(r,function(i,s){var o=e.node(i);o.order=s+n,ne.forEach(o.selfEdges,function(a){mn.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++n,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function Mz(e){ne.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,s=n.y,o=r.x-i,a=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],r.label.x=r.x,r.label.y=r.y}})}function Wp(e,t){return ne.mapValues(ne.pick(e,t),Number)}function Kp(e){var t={};return ne.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var ga=ye,jz=mt,Lz=nr.Graph,qz={debugOrdering:Dz};function Dz(e){var t=jz.buildLayerMatrix(e),r=new Lz({compound:!0,multigraph:!0}).setGraph({});return ga.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),ga.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),ga.forEach(t,function(n,i){var s="layer"+i;r.setNode(s,{rank:"same"}),ga.reduce(n,function(o,a){return r.setEdge(o,a,{style:"invis"}),a})}),r}var Uz="0.8.5",zz={graphlib:nr,layout:dz,debug:qz,util:{time:mt.time,notime:mt.notime},version:Uz};const lA=$v(zz);var Sv={exports:{}},kE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(kE){var CE=new Uint8Array(16);Sv.exports=function(){return kE(CE),CE}}else{var TE=new Array(16);Sv.exports=function(){for(var t=0,r;t<16;t++)t&3||(r=Math.random()*4294967296),TE[t]=r>>>((t&3)<<3)&255;return TE}}var cA=Sv.exports,dA=[];for(var va=0;va<256;++va)dA[va]=(va+256).toString(16).substr(1);function Fz(e,t){var r=t||0,n=dA;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var fA=Fz,Bz=cA,Vz=fA,RE,Yp,Xp=0,Jp=0;function Hz(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var s=e.node||RE,o=e.clockseq!==void 0?e.clockseq:Yp;if(s==null||o==null){var a=Bz();s==null&&(s=RE=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Yp=(a[6]<<8|a[7])&16383)}var u=e.msecs!==void 0?e.msecs:new Date().getTime(),l=e.nsecs!==void 0?e.nsecs:Jp+1,c=u-Xp+(l-Jp)/1e4;if(c<0&&e.clockseq===void 0&&(o=o+1&16383),(c<0||u>Xp)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xp=u,Jp=l,Yp=o,u+=122192928e5;var d=((u&268435455)*1e4+l)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;var f=u/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var h=0;h<6;++h)i[n+h]=s[h];return t||Vz(i)}var Gz=Hz,Wz=cA,Kz=fA;function Yz(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||Wz)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||Kz(i)}var Xz=Yz,Jz=Gz,hA=Xz,py=hA;py.v1=Jz;py.v4=hA;var js=py;function fl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Qz(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(d){o(d)}}function u(c){try{l(n.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(e,t||[])).next())})}const Zz=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class gy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class eF extends gy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class AE extends gy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class IE extends gy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ev;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ev||(Ev={}));class tF{constructor(t,{headers:r={},customFetch:n,region:i=Ev.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Zz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Qz(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:a,method:u,body:l,signal:c,timeout:d}=n;let f={},{region:h}=n;h||(h=this.region);const m=new URL(`${this.url}/${r}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=l):typeof l=="string"?(f["Content-Type"]="text/plain",v=l):typeof FormData<"u"&&l instanceof FormData?v=l:(f["Content-Type"]="application/json",v=JSON.stringify(l)):v=l;let w=c;d&&(o=new AbortController,s=setTimeout(()=>o.abort(),d),c?(w=o.signal,c.addEventListener("abort",()=>o.abort())):w=o.signal);const p=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:v,signal:w}).catch(E=>{throw new eF(E)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new AE(p);if(!p.ok)throw new IE(p);let y=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield p.json():y==="application/octet-stream"||y==="application/pdf"?_=yield p.blob():y==="text/event-stream"?_=p:y==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof IE||a instanceof AE?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var rF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},nF=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,u=null,l=s.status,c=s.statusText;if(s.ok){var d,f;if(r.method!=="HEAD"){var h;const p=await s.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?a=p:a=JSON.parse(p))}const v=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=s.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&w&&w.length>1&&(u=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,u=null,l=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const v=await s.text();try{o=JSON.parse(v),Array.isArray(o)&&s.status===404&&(a=[],o=null,l=200,c="OK")}catch{s.status===404&&v===""?(l=204,c="No Content"):o={message:v}}if(o&&r.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,l=200,c="OK"),o&&r.shouldThrowOnError)throw new rF(o)}return{error:o,data:a,count:u,status:l,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="";const u=s==null?void 0:s.cause;if(u){var l,c,d,f;const m=(l=u==null?void 0:u.message)!==null&&l!==void 0?l:"",v=(c=u==null?void 0:u.code)!==null&&c!==void 0?c:"";a=`${(d=s==null?void 0:s.name)!==null&&d!==void 0?d:"FetchError"}: ${s==null?void 0:s.message}`,a+=`

Caused by: ${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"Error"}: ${m}`,v&&(a+=` (${v})`),u!=null&&u.stack&&(a+=`
${u.stack}`)}else{var h;a=(h=s==null?void 0:s.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},iF=class extends nF{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const NE=new RegExp("[,()]");var pi=class extends iF{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&NE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&NE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sF=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new pi({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(s.length>0){const o=[...new Set(s)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new pi({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(a.length>0){const u=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new pi({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new pi({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new pi({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},oF=class pA{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sF(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new pA(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let a;const u=new URL(`${this.url}/rpc/${t}`);let l;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{u.searchParams.append(d,f)})):(a="POST",l=r);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new pi({method:a,url:u,headers:c,schema:this.schemaName,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class aF{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const uF="2.89.0",lF=`realtime-js/${uF}`,gA="1.0.0",cF="2.0.0",OE=gA,xv=1e4,dF=1e3,fF=100;var Xr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xr||(Xr={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var Kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Kt||(Kt={}));var kv;(function(e){e.websocket="websocket"})(kv||(kv={}));var In;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(In||(In={}));class hF{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,s;const o=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",u=(s=t.join_ref)!==null&&s!==void 0?s:"",l=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+a.length+o.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(h),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,u.length),m.setUint8(v++,a.length),m.setUint8(v++,o.length),m.setUint8(v++,l.length),m.setUint8(v++,d.length),m.setUint8(v++,r),Array.from(u,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(a,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(o,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(l,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(d,p=>m.setUint8(v++,p.charCodeAt(0)));var w=new Uint8Array(h.byteLength+n.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(n),h.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,o,a,u]=n;return r({join_ref:i,ref:s,topic:o,event:a,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let u=this.HEADER_LENGTH+4;const l=n.decode(t.slice(u,u+i));u=u+i;const c=n.decode(t.slice(u,u+s));u=u+s;const d=n.decode(t.slice(u,u+o));u=u+o;const f=t.slice(u,t.byteLength),h=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,m={type:this.BROADCAST_EVENT,event:c,payload:h};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class vA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const PE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=pF(o,e,t,i),s),{}):{}},pF=(e,t,r,n)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?mA(s,o):Cv(o)},mA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return yF(t,r)}switch(e){case fe.bool:return gF(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return vF(t);case fe.json:case fe.jsonb:return mF(t);case fe.timestamp:return wF(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Cv(t);default:return Cv(t)}},Cv=e=>e,gF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},yF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>mA(t,a))}return e},wF=e=>typeof e=="string"?e.replace(" ","T"):e,yA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Qp{constructor(t,r,n={},i=xv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $E;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($E||($E={}));class Ws{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ws.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Ws.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ws.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),a={},u={};return this.map(s,(l,c)=>{o[l]||(u[l]=c)}),this.map(o,(l,c)=>{const d=s[l];if(d){const f=c.map(w=>w.presence_ref),h=d.map(w=>w.presence_ref),m=c.filter(w=>h.indexOf(w.presence_ref)<0),v=d.filter(w=>f.indexOf(w.presence_ref)<0);m.length>0&&(a[l]=m),v.length>0&&(u[l]=v)}else a[l]=c}),this.syncDiff(s,{joins:a,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var l;const c=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(u),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}n(a,c,u)}),this.map(o,(a,u)=>{let l=t[a];if(!l)return;const c=u.map(d=>d.presence_ref);l=l.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,u),l.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ME;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ME||(ME={}));var Ks;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ks||(Ks={}));var Sr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class Ni{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qp(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new vA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ws(this),this.broadcastEndpointURL=yA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ks.PRESENCE]&&this.bindings[Ks.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Sr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(Sr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,p=[];for(let g=0;g<w;g++){const y=v[g],{filter:{event:_,schema:E,table:S,filter:x}}=y,C=h&&h[g];if(C&&C.event===_&&Ni.isFilterValueEqual(C.schema,E)&&Ni.isFilterValueEqual(C.table,S)&&Ni.isFilterValueEqual(C.filter,x))p.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=Me.errored,t==null||t(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Sr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Me.errored,t==null||t(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Me.joined&&t===Ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const l=await a.json();u=l.error||l.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,u;const l=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Qp(this,Kt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Qp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>fF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:l,join:c}=Kt;if(n&&[a,u,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,v,w;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(v=h.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var m,v,w,p,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,E=(m=h.filter)===null||m===void 0?void 0:m.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(g=(p=h==null?void 0:h.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:w,commit_timestamp:p,type:g,errors:y}=m;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(m))}h.callback(f,n)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ni.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Kt.close,{},t)}_onError(t){this._on(Kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=PE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=PE(t.columns,t.old_record)),r}}const Zp=()=>{},ma={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_F=[1e3,2e3,5e3,1e4],bF=1e4,SF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EF{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xv,this.transport=null,this.heartbeatIntervalMs=ma.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zp,this.ref=0,this.reconnectTimer=null,this.vsn=OE,this.logger=Zp,this.conn=null,this.sendBuffer=[],this.serializer=new hF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${kv.websocket}`,this.httpEndpoint=yA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xr.connecting:return In.Connecting;case Xr.open:return In.Open;case Xr.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Ni(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ma.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${a}`.trim(),s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Xr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xr.open||this.conn.readyState===Xr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([SF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:lF};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Kt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ma.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,o,a,u,l,c,d,f,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:xv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ma.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Zp,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:OE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:m=>_F[m-1]||bF,this.vsn){case gA:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(m,v)=>v(JSON.stringify(m)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(m,v)=>v(JSON.parse(m));break;case cF:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var bo=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xF(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function kF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function CF(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const a=xF(e.baseUrl,n,i),u=await kF(e.auth),l=await t(a,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...u,...o},body:s?JSON.stringify(s):void 0}),c=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!l.ok){const h=d?f:void 0,m=h==null?void 0:h.error;throw new bo((m==null?void 0:m.message)??`Request failed with status ${l.status}`,{status:l.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:h})}return{status:l.status,headers:l.headers,data:f}}}}function ya(e){return e.join("")}var TF=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ya(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ya(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ya(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ya(e.namespace)}`}),!0}catch(t){if(t instanceof bo&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof bo&&r.status===409)return;throw r}}};function ui(e){return e.join("")}var RF=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ui(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ui(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ui(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ui(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ui(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ui(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof bo&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof bo&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},AF=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=CF({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new TF(this.client,t),this.tableOps=new RF(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var IF=class extends hl{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tv=class extends hl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const vy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NF=()=>Response,Rv=e=>{if(Array.isArray(e))return e.map(r=>Rv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Rv(n)}),t},OF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},PF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function So(e){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(e)}function $F(e,t){if(So(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MF(e){var t=$F(e,"string");return So(t)=="symbol"?t:t+""}function jF(e,t,r){return(t=MF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const eg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},LF=async(e,t,r)=>{e instanceof await NF()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,s=(n==null?void 0:n.statusCode)||i+"";t(new IF(eg(n),i,s))}).catch(n=>{t(new Tv(eg(n),n))}):t(new Tv(eg(e),e))},qF=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(OF(n)?(i.headers=Z({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Z(Z({},i),r))};async function Uo(e,t,r,n,i,s){return new Promise((o,a)=>{e(r,qF(t,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>LF(u,a,n))})}async function Eo(e,t,r,n){return Uo(e,"GET",t,r,n)}async function Ht(e,t,r,n,i){return Uo(e,"POST",t,n,i,r)}async function Av(e,t,r,n,i){return Uo(e,"PUT",t,n,i,r)}async function DF(e,t,r,n){return Uo(e,"HEAD",t,Z(Z({},r),{},{noResolveJson:!0}),n)}async function my(e,t,r,n,i){return Uo(e,"DELETE",t,n,i,r)}var UF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}}};let wA;wA=Symbol.toStringTag;var zF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[wA]="BlobDownloadBuilder",this.promise=null}asStream(){return new UF(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}}};const FF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var BF=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=vy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let s;const o=Z(Z({},LE),n);let a=Z(Z({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",i.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),u&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(u))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=Z(Z({},a),n.headers));const l=i._removeEmptyFolders(t),c=i._getFinalPath(l),d=await(e=="PUT"?Av:Ht)(i.fetch,`${i.url}/object/${c}`,s,Z({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const s=i._removeEmptyFolders(e),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let u;const l=Z({upsert:LE.upsert},n),c=Z(Z({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl)):(u=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType),{data:{path:s,fullPath:(await Av(i.fetch,a.toString(),u,{headers:c})).Key},error:null}}catch(u){if(i.shouldThrowOnError)throw u;if(we(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=Z({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await Ht(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),a=o.searchParams.get("token");if(!a)throw new hl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ht(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ht(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),s=await Ht(n.fetch,`${n.url}/object/sign/${i}`,Z({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await Ht(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Z(Z({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(e),o=()=>Eo(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new zF(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Rv(await Eo(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await DF(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(we(n)&&n instanceof Tv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=Z(Z(Z({},FF),t),{},{prefix:e||""});return{data:await Ht(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=Z({},e);return{data:await Ht(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const _A="2.89.0",bA={"X-Client-Info":`storage-js/${_A}`};var VF=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Z(Z({},bA),t),this.fetch=vy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Eo(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Eo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ht(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Av(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},HF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},bA),t),this.fetch=vy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Eo(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!PF(e))throw new hl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new AF({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}};const yy={"X-Client-Info":`storage-js/${_A}`,"Content-Type":"application/json"};var SA=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function St(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var tg=class extends SA{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},GF=class extends SA{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const wy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KF=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";t(new tg(qE(s),n,o))}).catch(()=>{const s=n+"";t(new tg(i.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";t(new tg(i.statusText||`HTTP ${n} error`,n,s))}}else t(new GF(qE(e),e))},YF=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(WF(n)?(i.headers=Z({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Z(Z({},i),r))};async function XF(e,t,r,n,i,s){return new Promise((o,a)=>{e(r,YF(t,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const l=u.headers.get("content-type");return!l||!l.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>KF(u,a,n))})}async function Et(e,t,r,n,i){return XF(e,"POST",t,n,i,r)}var JF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},yy),t),this.fetch=wy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Et(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Et(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}},QF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},yy),t),this.fetch=wy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Et(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Et(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Et(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}},ZF=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Z(Z({},yy),t),this.fetch=wy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Et(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Et(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}},eB=class extends ZF{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new tB(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},tB=class extends JF{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new rB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},rB=class extends QF{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Z(Z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},nB=class extends VF{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new BF(this.url,this.headers,e,this.fetch)}get vectors(){return new eB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HF(this.url+"/iceberg",this.headers,this.fetch)}};const EA="2.89.0",gi=30*1e3,Iv=3,rg=Iv*gi,iB="http://localhost:9999",sB="supabase.auth.token",oB={"X-Client-Info":`gotrue-js/${EA}`},Nv="X-Supabase-Api-Version",xA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uB=10*60*1e3;class xo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lB extends xo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function cB(e){return Y(e)&&e.name==="AuthApiError"}class Nn extends xo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zr extends xo{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class wt extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dB(e){return Y(e)&&e.name==="AuthSessionMissingError"}class li extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wa extends zr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _a extends zr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fB(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class DE extends zr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hB extends zr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ov extends zr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ng(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class UE extends zr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Pv extends zr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zE=` 	
\r=`.split(""),pB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zE.length;t+=1)e[zE[t].charCodeAt(0)]=-2;for(let t=0;t<_u.length;t+=1)e[_u[t].charCodeAt(0)]=t;return e})();function FE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_u[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_u[n]),t.queuedBits-=6}}function kA(e,t,r){const n=pB[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function BE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{mB(o,n,r)};for(let o=0;o<e.length;o+=1)kA(e.charCodeAt(o),i,s);return t.join("")}function gB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vB(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}gB(n,t)}}function mB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zi(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)kA(e.charCodeAt(i),r,n);return new Uint8Array(t)}function yB(e){const t=[];return vB(e,r=>t.push(r)),new Uint8Array(t)}function qn(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>FE(i,r,n)),FE(null,r,n),t.join("")}function wB(e){return Math.round(Date.now()/1e3)+e}function _B(){return Symbol("auth-callback")}const We=()=>typeof window<"u"&&typeof document<"u",xn={tested:!1,writable:!1},CA=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xn.tested)return xn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xn.tested=!0,xn.writable=!0}catch{xn.tested=!0,xn.writable=!1}return xn.writable};function bB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const TA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},kn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ge=async(e,t)=>{await e.removeItem(t)};class pl{constructor(){this.promise=new pl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}pl.promiseConstructor=Promise;function ig(e){const t=e.split(".");if(t.length!==3)throw new Pv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!aB.test(t[n]))throw new Pv("JWT not in base64url format");return{header:JSON.parse(BE(t[0])),payload:JSON.parse(BE(t[1])),signature:zi(t[2]),raw:{header:t[0],payload:t[1]}}}async function EB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xB(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function kB(e){return("0"+e.toString(16)).substr(-2)}function CB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,kB).join("")}async function TB(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function RB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await TB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ci(e,t,r=!1){const n=CB();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await vi(e,`${t}-code-verifier`,i);const s=await RB(n);return[s,n===s?"plain":"s256"]}const AB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IB(e){const t=e.headers.get(Nv);if(!t||!t.match(AB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function OB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function di(e){if(!PB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $B(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function VE(e){return JSON.parse(JSON.stringify(e))}const An=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MB=[502,503,504];async function HE(e){var t;if(!SB(e))throw new Ov(An(e),0);if(MB.includes(e.status))throw new Ov(An(e),e.status);let r;try{r=await e.json()}catch(s){throw new Nn(An(s),s)}let n;const i=IB(e);if(i&&i.getTime()>=xA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new UE(An(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new UE(An(r),e.status,r.weak_password.reasons);throw new lB(An(r),e.status||500,n)}const jB=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Q(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Nv]||(s[Nv]=xA["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await LB(e,t,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function LB(e,t,r,n,i,s){const o=jB(t,n,i,s);let a;try{a=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Ov(An(u),0)}if(a.ok||await HE(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await HE(u)}}function Bt(e){var t;let r=null;UB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wB(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function GE(e){const t=Bt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function tn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qB(e){return{data:e,error:null}}function DB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=fl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function WE(e){return e}function UB(e){return e.access_token&&e.refresh_token&&e.expires_in}const og=["global","local","others"];class zB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=TA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=og[0]){if(og.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${og.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fl(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:tn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,a,u;try{const l={nextPage:null,lastPage:0,total:0},c=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WE});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(u=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return h.length>0&&(h.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);l[`${w}Page`]=v}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Y(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){di(t);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:tn})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){di(t);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){di(t);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:tn})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){di(t.userId);try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){di(t.userId),di(t.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,o,a,u;try{const l={nextPage:null,lastPage:0,total:0},c=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WE});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(u=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return h.length>0&&(h.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);l[`${w}Page`]=v}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Y(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function KE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fi={debug:!!(globalThis&&CA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class FB extends RA{}async function BB(e,t,r){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new FB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function VB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function AA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function HB(e){return parseInt(e,16)}function GB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function WB(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:u,resources:l,scheme:c,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=AA(e.address),m=c?`${c}://${n}`:n,v=e.statement?`${e.statement}
`:"",w=`${m} wants you to sign in with your Ethereum account:
${h}

${v}`;let p=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(p+=`
Expiration Time: ${i.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),u&&(p+=`
Request ID: ${u}`),l){let g=`
Resources:`;for(const y of l){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}p+=g}return`${w}
${p}`}class Ie extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class bu extends Ie{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function KB({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(IA(o)){if(s.rp.id!==o)return new Ie({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function YB({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(IA(n)){if(r.rpId!==n)return new Ie({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class XB{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const JB=new XB;function QB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=fl(e,["challenge","user","excludeCredentials"]),s=zi(t).buffer,o=Object.assign(Object.assign({},r),{id:zi(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const l=n[u];a.excludeCredentials[u]=Object.assign(Object.assign({},l),{id:zi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function ZB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fl(e,["challenge","allowCredentials"]),i=zi(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:zi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function e5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:qn(new Uint8Array(e.response.attestationObject)),clientDataJSON:qn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function t5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:qn(new Uint8Array(i.authenticatorData)),clientDataJSON:qn(new Uint8Array(i.clientDataJSON)),signature:qn(new Uint8Array(i.signature)),userHandle:i.userHandle?qn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function YE(){var e,t;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function r5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bu("Browser returned unexpected credential type",t)}:{data:null,error:new bu("Empty credential response",t)}}catch(t){return{data:null,error:KB({error:t,options:e})}}}async function n5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bu("Browser returned unexpected credential type",t)}:{data:null,error:new bu("Empty credential response",t)}}catch(t){return{data:null,error:YB({error:t,options:e})}}}const i5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},s5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Su(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(t(o)){const a=n[s];t(a)?n[s]=Su(a,o):n[s]=Su(o)}else n[s]=o}return n}function o5(e,t){return Su(i5,e,t||{})}function a5(e,t){return Su(s5,e,t||{})}class u5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const u=i??JB.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:l}=o.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${n}`),l.displayName||(l.displayName=l.name)}switch(o.webauthn.type){case"create":{const l=o5(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:d}=await r5({publicKey:l,signal:u});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const l=a5(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:d}=await n5(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:l,signal:u}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new Nn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new xo("rpId is required for WebAuthn authentication")};try{if(!YE())return{data:null,error:new Nn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new Nn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new xo("rpId is required for WebAuthn registration")};try{if(!YE())return{data:null,error:new Nn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:u,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:l}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new Nn("Unexpected error in register",o)}}}}VB();const l5={url:iB,storageKey:sB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function XE(e,t,r){return await r()}const hi={};class ko{get jwks(){var t,r;return(r=(t=hi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=hi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hi[this.storageKey]=Object.assign(Object.assign({},hi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},l5),t);if(this.storageKey=s.storageKey,this.instanceID=(r=ko.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ko.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&We()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zB({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=TA(s.fetch),this.lock=s.lock||XE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&We()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=BB:this.lock=XE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new u5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:CA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=KE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=KE(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${EA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(We()&&(r=bB(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),We()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fB(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?this._returnResult({error:r}):this._returnResult({error:new Nn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bt}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await ci(this.storage,this.storageKey)),s=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Bt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Bt})}else throw new wa("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await Ge(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:a}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:GE})}else if("phone"in t){const{phone:s,password:o,options:a}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:GE})}else throw new wa("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new li;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,o,a,u,l,c,d,f;let h,m;if("message"in t)h=t.message,m=t.signature;else{const{chain:v,wallet:w,statement:p,options:g}=t;let y;if(We())if(typeof w=="object")y=w;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")y=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),E=await y.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=AA(E[0]);let x=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!x){const I=await y.request({method:"eth_chainId"});x=HB(I)}const C={domain:_.host,address:S,statement:p,uri:_.href,version:"1",chainId:x,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=WB(C),m=await y.request({method:"personal_sign",params:[GB(h),S]})}try{const{data:v,error:w}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Bt});if(w)throw w;if(!v||!v.session||!v.user){const p=new li;return this._returnResult({data:{user:null,session:null},error:p})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(Y(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,i,s,o,a,u,l,c,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:w,wallet:p,statement:g,options:y}=t;let _;if(We())if(typeof p=="object")_=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const E=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let x;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")x=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)x=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)m=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),v=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:w,error:p}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:qn(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bt});if(p)throw p;if(!w||!w.session||!w.user){const g=new li;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:p})}catch(w){if(Y(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await kn(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new hB;const{data:s,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bt});if(await Ge(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new li;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bt}),{data:u,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){const c=new li;return this._returnResult({data:{user:null,session:null},error:c})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:a,options:u}=t;let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ci(this.storage,this.storageKey));const{error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:l,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:u}=t,{data:l,error:c}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new wa("You must provide either an email or phone number.")}catch(a){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Bt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,l=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,o;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await ci(this.storage,this.storageKey));const l=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:qB});return!((s=l.data)===null||s===void 0)&&s.url&&We()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(a){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wt;const{error:i}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Y(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:a}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new wa("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<rg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await kn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=sg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=$B(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:tn}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:tn})})}catch(r){if(Y(r))return dB(r)&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new wt;const o=i.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await ci(this.storage,this.storageKey));const{data:l,error:c}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:tn});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),Y(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wt;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=ig(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Y(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wt;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!We())throw new _a("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _a(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new DE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _a("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new DE("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:u,token_type:l}=t;if(!s||!a||!o||!l)throw new _a("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;u&&(f=parseInt(u));const h=f-c;h*1e3<=gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:v,error:w}=await this._getUser(s);if(w)throw w;const p={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:l,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(Y(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await kn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cB(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=_B(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ci(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,u,l,c;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return We()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Y(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:u,access_token:l,nonce:c}=t,d=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:u,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Bt}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new li}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(i){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xB(async i=>(i>0&&await EB(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ng(s)&&Date.now()+o-n<gi})}catch(n){if(this._debug(r,"error",n),Y(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await kn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await vi(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:sg()}else if(i&&!i.user&&!i.user){const o=await kn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ge(this.storage,this.storageKey+"-user"),await vi(this.storage,this.storageKey,i)):i.user=sg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${rg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ng(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pl;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new wt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Y(s)){const o={data:null,error:s};return ng(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ge(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vi(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=VE(i);await vi(this.storage,this.storageKey,s)}else{const i=VE(r);await vi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ge(this.storage,this.storageKey),await Ge(this.storage,this.storageKey+"-code-verifier"),await Ge(this.storage,this.storageKey+"-user"),this.userStorage&&await Ge(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/gi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${gi}ms, refresh threshold is ${Iv} ticks`),i<=Iv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await ci(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:l}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?e5(t.webauthn.credential_response):t5(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:u}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:u}))})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:QB(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ZB(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ig(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const l=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wt});const o=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new wt});const o=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wt})})}catch(t){if(Y(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+uB>i)return n;const{data:s,error:o}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return this._returnResult({data:null,error:m});n=h.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:u}}=ig(n);r!=null&&r.allowExpired||NB(s.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:s,header:i,signature:o},error:null}}const c=OB(i.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,yB(`${a}.${u}`)))throw new Pv("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}}ko.nextInstanceID={};const c5=ko,d5="2.89.0";let Ls="";typeof Deno<"u"?Ls="deno":typeof document<"u"?Ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ls="react-native":Ls="node";const f5={"X-Client-Info":`supabase-js-${Ls}/${d5}`},h5={headers:f5},p5={schema:"public"},g5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v5={};function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function m5(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y5(e){var t=m5(e,"string");return Co(t)=="symbol"?t:t+""}function w5(e,t,r){return(t=y5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){w5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const _5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),b5=()=>Headers,S5=(e,t,r)=>{const n=_5(r),i=b5();return async(s,o)=>{var a;const u=(a=await t())!==null&&a!==void 0?a:e;let l=new i(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(s,xe(xe({},o),{},{headers:l}))}};function E5(e){return e.endsWith("/")?e:e+"/"}function x5(e,t){var r,n;const{db:i,auth:s,realtime:o,global:a}=e,{db:u,auth:l,realtime:c,global:d}=t,f={db:xe(xe({},u),i),auth:xe(xe({},l),s),realtime:xe(xe({},c),o),storage:{},global:xe(xe(xe({},d),a),{},{headers:xe(xe({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function k5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(E5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var C5=class extends c5{constructor(e){super(e)}},T5=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=k5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:p5,realtime:v5,auth:xe(xe({},g5),{},{storageKey:o}),global:h5},u=x5(r??{},a);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch)}this.fetch=S5(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new oF(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new nB(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new tF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:a,debug:u,throwOnError:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C5({url:this.authUrl.href,headers:xe(xe({},f),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:a,debug:u,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new EF(this.realtimeUrl.href,xe(xe({},e),{},{params:xe(xe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const R5=(e,t,r)=>new T5(e,t,r);function A5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}A5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I5="https://tduwmzlqpjqhdbuwprdu.supabase.co",N5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRkdXdtemxxcGpxaGRidXdwcmR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNDYwMjksImV4cCI6MjA4MTYyMjAyOX0.GhYJ47772wxxDq6BbrosYGXzES3CM6AQ2etGfbkJjC0",Ne=R5(I5,N5);async function O5(e){const{data:t,error:r}=await Ne.from("nodes").select("*").eq("project_id",e);if(r)throw r;return t}async function P5(e){const{data:t,error:r}=await Ne.from("edges").select("*").eq("project_id",e);if(r)throw r;return t}async function $5(e){const{data:t,error:r}=await Ne.from("nodes").upsert([e]);if(r)throw r;return t}async function M5(e){const{data:t,error:r}=await Ne.from("edges").upsert([e]);if(r)throw r;return t}function j5(e,t){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}}function L5(e,t,r,n,i){const s=A.useRef(!0);A.useEffect(()=>{(async()=>{const a=await O5(e),u=await P5(e);n(a.map(l=>({id:l.id,data:{label:l.label,...l.data},position:{x:l.position_x,y:l.position_y},...l.type?{type:l.type}:{}}))),i(u.map(l=>({id:l.id,source:l.source_id,target:l.target_id,...l.type?{type:l.type}:{}}))),s.current=!1})()},[e,n,i]);const o=A.useRef(j5(async(a,u)=>{for(const l of a){const c={id:l.id,project_id:e,label:l.data.label,position_x:l.position.x,position_y:l.position.y,type:l.type||"default",data:l.data};await $5(c)}for(const l of u){const c={id:l.id,project_id:e,source_id:l.source,target_id:l.target,type:l.type||"smoothstep"};await M5(c)}},600));A.useEffect(()=>{s.current||o.current(t,r)},[t,r])}/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NA=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},u)=>A.createElement("svg",{ref:u,...D5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:NA("lucide",i),...a},[...o.map(([l,c])=>A.createElement(l,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=(e,t)=>{const r=A.forwardRef(({className:n,...i},s)=>A.createElement(U5,{ref:s,iconNode:t,className:NA(`lucide-${q5(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=OA("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=OA("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function ag({currentProjectId:e,onSelectProject:t,onCreateProject:r,setProjectList:n}){const[i,s]=A.useState(!1),[o,a]=A.useState([]),[u,l]=A.useState(!0),[c,d]=A.useState(null),[f,h]=A.useState(null);A.useEffect(()=>{async function y(){l(!0);const{data:_,error:E}=await Ne.from("projects").select("id, title, updated_at").order("updated_at",{ascending:!1});!E&&_&&(a(_),n==null||n(_)),l(!1)}y()},[e]);const m=(y,_)=>d({id:y,value:_}),v=async()=>{if(c&&c.value.trim()){const{error:y}=await Ne.from("projects").update({title:c.value}).eq("id",c.id);y?alert("  : "+y.message):(a(_=>_.map(E=>E.id===c.id?{...E,title:c.value}:E)),d(null))}},w=()=>d(null),p=y=>h(y),g=async()=>{var y,_;if(f){const E=await Ne.from("nodes").delete().eq("project_id",f),S=await Ne.from("edges").delete().eq("project_id",f),{error:x}=await Ne.from("projects").delete().eq("id",f);if(!x&&!E.error&&!S.error){if(a(C=>C.filter(I=>I.id!==f)),f===e&&o.length>1){const C=o.find(I=>I.id!==f);C&&t(C.id,C.title)}h(null)}else alert(" : "+((x==null?void 0:x.message)||((y=E.error)==null?void 0:y.message)||((_=S.error)==null?void 0:_.message)))}};return H.jsxs("aside",{className:`transition-all duration-200 h-full flex flex-col bg-white border-r z-20 ${i?"w-8 min-w-[2rem]":"w-64"}`,children:[H.jsx("button",{onClick:()=>s(y=>!y),className:"absolute left-0 top-2 w-6 h-8 flex items-center justify-center bg-white border border-r-0 rounded-r hover:bg-gray-100 text-indigo-600 z-30",style:{boxShadow:"1px 0 6px #5551"},title:i?"":"",tabIndex:-1,"aria-label":"  ",children:i?H.jsx("span",{children:""}):H.jsx("span",{children:""})}),!i&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"p-4 flex justify-between items-center border-b",children:[H.jsx("span",{className:"text-lg font-bold tracking-tight text-gray-800",children:"...  "}),H.jsx("button",{className:"ml-2 text-indigo-600 hover:text-indigo-900 font-bold text-2xl",title:"  ",onClick:r,children:"+"})]}),H.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u?H.jsx("div",{className:"text-center p-6 text-gray-400",children:" ..."}):H.jsx("ul",{children:o.map(y=>H.jsx("li",{className:"group relative",children:H.jsxs("div",{className:`w-full px-4 py-2 flex items-center justify-between text-left border-l-4 transition-all duration-75
                        ${y.id===e?"bg-indigo-50 font-bold text-indigo-700 border-indigo-600 shadow-sm scale-[1.03]":"hover:bg-gray-50 border-transparent"}`,style:y.id===e?{boxShadow:"0 0 0 2px #6366f1,0 2px 8px #a5b4fc45"}:{},children:[c&&c.id===y.id?H.jsx("input",{className:"border rounded p-1 text-sm mr-2 focus:ring-2 focus:ring-indigo-300 bg-white",value:c.value,autoFocus:!0,onChange:_=>d({...c,value:_.target.value}),onBlur:v,onKeyDown:_=>{_.key==="Enter"?v():_.key==="Escape"&&w()},style:{minWidth:"60px"}}):H.jsx("span",{className:"truncate",onClick:()=>t(y.id,y.title),children:y.title}),y.id===e&&H.jsxs("div",{className:"flex items-center ml-2 h-6",children:[H.jsx("button",{onClick:()=>m(y.id,y.title),className:"p-1 hover:bg-indigo-100 rounded mr-1",title:"",children:H.jsx(PA,{size:15})}),H.jsx("button",{onClick:()=>p(y.id),className:"p-1 hover:bg-red-100 rounded",title:"",children:H.jsx($A,{size:15})})]})]})},y.id))}),f&&H.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-30 z-10",children:H.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-lg text-center",children:[H.jsx("div",{className:"mb-4 text-lg font-semibold",children:" ?"}),H.jsxs("div",{className:"flex justify-center gap-5",children:[H.jsx("button",{onClick:g,className:"bg-red-500 text-white font-bold px-5 py-2 rounded hover:bg-red-600",children:""}),H.jsx("button",{onClick:()=>h(null),className:"px-5 py-2 rounded border font-semibold",children:""})]})]})})]})]})]})}function z5({projectId:e,nodes:t,edges:r,allNodes:n,allEdges:i,setNodes:s,setEdges:o}){const[a,u]=A.useState(!1),[l,c]=A.useState("");async function d(){if(e){u(!0),c("");try{const{data:f}=await Ne.from("nodes").select("id").eq("project_id",e),{data:h}=await Ne.from("edges").select("id").eq("project_id",e),m=new Set(t.map(S=>S.id)),v=new Set(r.map(S=>S.id)),w=f?f.filter(S=>!m.has(S.id)).map(S=>S.id):[],p=h?h.filter(S=>!v.has(S.id)).map(S=>S.id):[];w.length>0&&await Ne.from("nodes").delete().in("id",w),p.length>0&&await Ne.from("edges").delete().in("id",p);const g=t.map(S=>({id:S.id,project_id:e,label:S.data.label??"",position_x:S.position.x,position_y:S.position.y,type:S.type||"default",data:S.data||{}})),{error:y}=await Ne.from("nodes").upsert(g);if(y)throw y;const _=r.map(S=>({id:S.id,project_id:e,source_id:S.source,target_id:S.target,type:S.type||"smoothstep"})),{error:E}=await Ne.from("edges").upsert(_);if(E)throw E;if(c(" !"),s&&o){const{data:S}=await Ne.from("nodes").select("*").eq("project_id",e),{data:x}=await Ne.from("edges").select("*").eq("project_id",e);S&&s(S.map(C=>({id:C.id,data:{label:C.label,...C.data},position:{x:C.position_x,y:C.position_y},...C.type?{type:C.type}:{}}))),x&&o(x.map(C=>({id:C.id,source:C.source_id,target:C.target_id,type:C.type||"smoothstep"})))}}catch(f){c(" : "+f.message)}finally{u(!1),setTimeout(()=>c(""),1800)}}}return H.jsxs("div",{className:"absolute right-6 top-6 z-40",children:[H.jsx("button",{className:`px-4 py-2 rounded-lg shadow font-bold text-white ${a?"bg-gray-400":"bg-indigo-600 hover:bg-indigo-700"} transition disabled:opacity-60`,onClick:d,disabled:a||!e,children:a?" ...":""}),l&&H.jsx("span",{className:"ml-3 text-indigo-700 font-semibold bg-white/80 px-2 py-1 rounded shadow text-sm",children:l})]})}function F5({id:e,data:t,selected:r,sourcePosition:n="right",targetPosition:i="left",isConnectable:s,onDelete:o,onEditKey:a}){var p;const[u,l]=A.useState(!1),[c,d]=A.useState(t.label??""),f=A.useRef(null);A.useEffect(()=>{d(t.label??"")},[t.label]),A.useEffect(()=>{t.editing&&l(!0)},[t.editing]),A.useEffect(()=>{if(!r)return;const g=y=>{u||((y.key==="F2"||y.key==="f2")&&a?a(e):y.key==="Backspace"&&o&&(y.preventDefault(),o(e)))};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[r,u,o,a,e]);const h=g=>{g.stopPropagation(),l(!0),setTimeout(()=>{var y;return(y=f.current)==null?void 0:y.focus()},0)},m=g=>{g.stopPropagation(),l(!0),setTimeout(()=>{var y;return(y=f.current)==null?void 0:y.focus()},0)},v=()=>{var g;l(!1),t.label!==c&&((g=t.onChange)==null||g.call(t,e,c))},w=g=>{g.key==="Enter"?v():g.key==="Escape"&&(l(!1),d(t.label??""))};return H.jsxs("div",{onDoubleClick:m,style:{borderRadius:16,boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",border:r?"2px solid #6366f1":((p=t.style)==null?void 0:p.border)??"2px solid #e5e7eb",background:"#fff",fontWeight:500,padding:8,minWidth:120,minHeight:32,outline:r?"#6366f1 2px solid":void 0,cursor:u?"text":"pointer",...t.style,position:"relative",overflow:"visible"},className:"transition-colors duration-100 relative",children:[H.jsx(Zi,{type:"target",position:i,isConnectable:s}),u?H.jsx("input",{ref:f,value:c,onChange:g=>d(g.target.value),onBlur:v,onKeyDown:w,className:"border rounded p-1 w-full text-sm focus:ring-2 focus:ring-indigo-300",style:{background:"#fff",minWidth:"80px"}}):H.jsxs(H.Fragment,{children:[H.jsx("span",{children:t.label||H.jsx("span",{className:"text-gray-400",children:""})}),r&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{style:{position:"absolute",right:2,top:"50%",transform:"translateY(-50%)",display:"flex",gap:2,zIndex:12},children:[H.jsx("button",{onClick:h,tabIndex:-1,className:"p-1 hover:bg-indigo-50 rounded transition-opacity","aria-label":"",children:H.jsx(PA,{size:16,color:"#6366f1"})}),H.jsx("button",{onClick:()=>o==null?void 0:o(e),tabIndex:-1,className:"p-1 hover:bg-red-100 rounded","aria-label":"",children:H.jsx($A,{size:16,color:"#f43f5e"})}),H.jsx("button",{style:{background:"#f1f5ff",borderRadius:"999px",border:"2px solid #4f46e5",width:28,height:28,marginLeft:2,fontWeight:700},"aria-label":"   ",tabIndex:-1,onClick:g=>{var y;g.stopPropagation(),(y=t.onAddSibling)==null||y.call(t)},children:"+"})]}),H.jsx("button",{style:{position:"absolute",left:"50%",bottom:-20,transform:"translateX(-50%)",background:"#f1f5ff",borderRadius:"999px",border:"2px solid #6366f1",width:28,height:28,fontWeight:700,zIndex:12},"aria-label":" ",tabIndex:-1,onClick:g=>{var y;g.stopPropagation(),(y=t.onAddChild)==null||y.call(t)},children:"+"})]})]}),H.jsx(Zi,{type:"source",position:n,isConnectable:s})]})}const B5={custom:F5},QE=172,ZE=36,mi=new lA.graphlib.Graph;mi.setDefaultEdgeLabel(()=>({}));function V5(e,t,r="TB"){return mi.setGraph({rankdir:r}),e.forEach(n=>{mi.setNode(n.id,{width:QE,height:ZE})}),t.forEach(n=>{mi.setEdge(n.source,n.target)}),lA.layout(mi),e.map(n=>{const i=mi.node(n.id);return n.position={x:i.x-QE/2,y:i.y-ZE/2},n})}function ug(e){return[{id:js.v4(),data:{label:e},position:{x:250,y:10},style:{borderRadius:16,boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",border:"2px solid #4f46e5",background:"#fff",fontWeight:600},type:"custom"}]}const lg=[];function H5(){const e=A.useRef(null),[t,r]=A.useState(""),[n,i]=A.useState([]),[s,o]=A.useState(!0),[a,u,l]=AL(ug("  ")),[c,d,f]=IL(lg),[h,m]=A.useState(null),[v,w]=A.useState(null),p=A.useCallback(T=>{u(q=>q.filter(M=>M.id!==T)),d(q=>q.filter(M=>M.source!==T&&M.target!==T)),w(null)},[u,d]);A.useCallback(()=>{},[]),L5(t,a,c,u,d),A.useEffect(()=>{async function T(){o(!0);const{data:q}=await Ne.from("projects").select("id,title,updated_at").order("updated_at",{ascending:!1});q&&q.length>0?(i(q),r(q[0].id)):(i([]),r("")),o(!1)}T()},[]);const g=A.useCallback((T,q)=>{u(M=>M.map(b=>b.id===T?{...b,data:{...b.data,label:q,onChange:g,onDelete:p}}:b))},[u]),y=A.useCallback(T=>{u(q=>Gm(T,q))},[u]),_=(T,q)=>{r(T),u(ug(q||"  ").map(M=>({...M,data:{...M.data,onChange:g,onDelete:p}}))),d(lg),w("root")},E=async()=>{const T=window.prompt("   ");if(!T)return;const{data:q,error:M}=await Ne.from("projects").insert({title:T}).select();if(!M&&q&&q[0]){const b=q[0].id,$=ug(T).map(j=>({...j,data:{...j.data,onChange:g,onDelete:p}}));r(b),u($),d(lg),w($[0].id);const R=$[0];if(R)try{const{error:j}=await Ne.from("nodes").upsert([{id:R.id,project_id:b,label:R.data.label,position_x:R.position.x,position_y:R.position.y,type:R.type||"default",data:{}}]);j&&(alert("  : "+j.message),console.error("  ",j))}catch(j){alert("    : "+j),console.error("  ",j)}}},S=A.useCallback(T=>{d(q=>[...q,{...T,id:js.v4(),type:"smoothstep"}])},[d]),x=A.useCallback(T=>{v&&u(q=>{const M=q.find(j=>j.id===v),b=js.v4(),$=(j,N)=>{u(k=>k.map(O=>O.id===j?{...O,data:{...O.data,label:N,onChange:$,onDelete:p}}:O))};let R={id:b,data:{label:" ",onChange:$,onDelete:p},position:{x:M.position.x+50,y:M.position.y+(T==="child"?80:0)},style:{borderRadius:16,boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",border:"2px solid #e5e7eb",background:"#fff"},type:"custom"};if(T==="child")d(j=>[...j,{id:js.v4(),source:M.id,target:b,type:"smoothstep"}]);else if(T==="sibling"){const j=c.find(k=>k.target===M.id),N=j?j.source:a[0].id;d(k=>[...k,{id:js.v4(),source:N,target:b,type:"smoothstep"}])}return w(b),[...q,R]})},[v,u,d,c,a]),C=A.useCallback(T=>{document.activeElement&&document.activeElement.tagName==="INPUT"||v&&(T.key==="Tab"?(T.preventDefault(),x("child")):T.key==="Enter"?(T.preventDefault(),x("sibling")):(T.key==="F2"||T.key==="f2")&&(T.preventDefault(),u(q=>q.map(M=>M.id===v?{...M,data:{...M.data,editing:Date.now(),onChange:g,onDelete:p}}:M))))},[v,u,x,g]),I=(T,q)=>{w(q.id)},P=()=>w(null);return A.useEffect(()=>{const T=V5(a,c);u([...T])},[c.length,a.length]),s?H.jsxs("div",{className:"flex h-screen",children:[H.jsx(ag,{currentProjectId:t,onSelectProject:_,onCreateProject:E,setProjectList:i}),H.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 text-lg",children:" ..."})]}):t?H.jsxs("div",{className:"flex h-screen",children:[H.jsx(ag,{currentProjectId:t,onSelectProject:_,onCreateProject:E,setProjectList:i}),H.jsxs("div",{ref:e,tabIndex:0,className:"flex-1 relative",onKeyDown:C,children:[H.jsx(z5,{projectId:t,nodes:a,edges:c,allNodes:a,allEdges:c,setNodes:u,setEdges:d}),H.jsxs(MT,{nodes:a.map(T=>v===T.id?{...T,data:{...T.data,onChange:g,onDelete:p,onAddSibling:()=>x("sibling",T.id),onAddChild:()=>x("child",T.id)},style:{...T.style,border:"2px solid #6366f1"}}:{...T,data:{...T.data,onChange:g,onDelete:p,onAddSibling:()=>x("sibling",T.id),onAddChild:()=>x("child",T.id)}}),edges:c,onNodesChange:y,onNodeDragStop:(T,q)=>{u(M=>M.map(b=>b.id===q.id?{...b,position:q.position}:b))},onEdgesChange:f,onConnect:S,onNodeClick:I,onPaneClick:P,onInit:m,fitView:!0,snapToGrid:!0,nodeTypes:B5,panOnDrag:!0,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,children:[H.jsx(ZL,{}),H.jsx(WL,{}),H.jsx(UL,{})]})]})]}):H.jsxs("div",{className:"flex h-screen",children:[H.jsx(ag,{currentProjectId:"",onSelectProject:_,onCreateProject:E,setProjectList:i}),H.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 text-lg",children:[" . ",H.jsx("br",{}),"  +    ."]})]})}cg.createRoot(document.getElementById("root")).render(H.jsx(L.StrictMode,{children:H.jsx(H5,{})}));
